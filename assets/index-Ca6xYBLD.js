const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/web-Cv2F5_jc.js","assets/base-D98tnaxR.js","assets/native-CPMGsAZ7.js"])))=>i.map(i=>d[i]);
var pr=Object.defineProperty;var gr=(t,e,n)=>e in t?pr(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var u=(t,e,n)=>gr(t,typeof e!="symbol"?e+"":e,n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();document.write("");function le(t,e){return Object.assign(Object.create(t.prototype),e)}const mr=Symbol("force");function pe(t){var e;function n(){return e||(e=t(s=>e=s)),e}return new Proxy(function(){},{get(s,i){return i==mr&&n(),n()[i]},set(s,i,l){return n()[i]=l,!0},construct(s,i,l){return Reflect.construct(n(),i,l)}})}function wr(t,e){for(var n=0;n<e.length;n++){var r=e[n];t[r]===void 0&&delete t[r]}return t}function Xe(t){return t===void 0?null:{$:1,$0:t}}function Ye(t,e,n){n?t[e]=n.$0:delete t[e]}function $r(t){return function(...e){return t(e)}}function br(t){return Object.defineProperty(t,"resizable",{enumerable:!1,writable:!1,configurable:!1,value:!0}),t}const yn=globalThis.WebSharperRuntime||{ScriptBasePath:"./",ScriptSkipAssemblyDir:!1};globalThis.WebSharperRuntime=yn;/*! Capacitor: https://capacitorjs.com/ - MIT License */const yr=t=>{const e=new Map;e.set("web",{name:"web"});const n=t.CapacitorPlatforms||{currentPlatform:{name:"web"},platforms:e},r=(i,l)=>{n.platforms.set(i,l)},s=i=>{n.platforms.has(i)&&(n.currentPlatform=n.platforms.get(i))};return n.addPlatform=r,n.setPlatform=s,n},vr=t=>t.CapacitorPlatforms=yr(t),vn=vr(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});vn.addPlatform;vn.setPlatform;var Ie;(function(t){t.Unimplemented="UNIMPLEMENTED",t.Unavailable="UNAVAILABLE"})(Ie||(Ie={}));class Le extends Error{constructor(e,n,r){super(e),this.message=e,this.code=n,this.data=r}}const Cr=t=>{var e,n;return t!=null&&t.androidBridge?"android":!((n=(e=t==null?void 0:t.webkit)===null||e===void 0?void 0:e.messageHandlers)===null||n===void 0)&&n.bridge?"ios":"web"},Ar=t=>{var e,n,r,s,i;const l=t.CapacitorCustomPlatform||null,o=t.Capacitor||{},a=o.Plugins=o.Plugins||{},d=t.CapacitorPlatforms,p=()=>l!==null?l.name:Cr(t),y=((e=d==null?void 0:d.currentPlatform)===null||e===void 0?void 0:e.getPlatform)||p,g=()=>y()!=="web",b=((n=d==null?void 0:d.currentPlatform)===null||n===void 0?void 0:n.isNativePlatform)||g,S=w=>{const v=h.get(w);return!!(v!=null&&v.platforms.has(y())||N(w))},F=((r=d==null?void 0:d.currentPlatform)===null||r===void 0?void 0:r.isPluginAvailable)||S,D=w=>{var v;return(v=o.PluginHeaders)===null||v===void 0?void 0:v.find(T=>T.name===w)},N=((s=d==null?void 0:d.currentPlatform)===null||s===void 0?void 0:s.getPluginHeader)||D,k=w=>t.console.error(w),c=(w,v,T)=>Promise.reject(`${T} does not have an implementation of "${v}".`),h=new Map,f=(w,v={})=>{const T=h.get(w);if(T)return console.warn(`Capacitor plugin "${w}" already registered. Cannot register plugins twice.`),T.proxy;const P=y(),L=N(w);let E;const A=async()=>(!E&&P in v?E=typeof v[P]=="function"?E=await v[P]():E=v[P]:l!==null&&!E&&"web"in v&&(E=typeof v.web=="function"?E=await v.web():E=v.web),E),ee=(O,q)=>{var H,ne;if(L){const ie=L==null?void 0:L.methods.find(Z=>q===Z.name);if(ie)return ie.rtype==="promise"?Z=>o.nativePromise(w,q.toString(),Z):(Z,ge)=>o.nativeCallback(w,q.toString(),Z,ge);if(O)return(H=O[q])===null||H===void 0?void 0:H.bind(O)}else{if(O)return(ne=O[q])===null||ne===void 0?void 0:ne.bind(O);throw new Le(`"${w}" plugin is not implemented on ${P}`,Ie.Unimplemented)}},_=O=>{let q;const H=(...ne)=>{const ie=A().then(Z=>{const ge=ee(Z,O);if(ge){const $e=ge(...ne);return q=$e==null?void 0:$e.remove,$e}else throw new Le(`"${w}.${O}()" is not implemented on ${P}`,Ie.Unimplemented)});return O==="addListener"&&(ie.remove=async()=>q()),ie};return H.toString=()=>`${O.toString()}() { [capacitor code] }`,Object.defineProperty(H,"name",{value:O,writable:!1,configurable:!1}),H},z=_("addListener"),te=_("removeListener"),me=(O,q)=>{const H=z({eventName:O},q),ne=async()=>{const Z=await H;te({eventName:O,callbackId:Z},q)},ie=new Promise(Z=>H.then(()=>Z({remove:ne})));return ie.remove=async()=>{console.warn("Using addListener() without 'await' is deprecated."),await ne()},ie},we=new Proxy({},{get(O,q){switch(q){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return L?me:z;case"removeListener":return te;default:return _(q)}}});return a[w]=we,h.set(w,{name:w,proxy:we,platforms:new Set([...Object.keys(v),...L?[P]:[]])}),we},m=((i=d==null?void 0:d.currentPlatform)===null||i===void 0?void 0:i.registerPlugin)||f;return o.convertFileSrc||(o.convertFileSrc=w=>w),o.getPlatform=y,o.handleError=k,o.isNativePlatform=b,o.isPluginAvailable=F,o.pluginMethodNoop=c,o.registerPlugin=m,o.Exception=Le,o.DEBUG=!!o.DEBUG,o.isLoggingEnabled=!!o.isLoggingEnabled,o.platform=o.getPlatform(),o.isNative=o.isNativePlatform(),o},Nr=t=>t.Capacitor=Ar(t),gt=Nr(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),ve=gt.registerPlugin;gt.Plugins;class vt{constructor(e){this.listeners={},this.retainedEventArguments={},this.windowListeners={},e&&(console.warn(`Capacitor WebPlugin "${e.name}" config object was deprecated in v3 and will be removed in v4.`),this.config=e)}addListener(e,n){let r=!1;this.listeners[e]||(this.listeners[e]=[],r=!0),this.listeners[e].push(n);const i=this.windowListeners[e];i&&!i.registered&&this.addWindowListener(i),r&&this.sendRetainedArgumentsForEvent(e);const l=async()=>this.removeListener(e,n);return Promise.resolve({remove:l})}async removeAllListeners(){this.listeners={};for(const e in this.windowListeners)this.removeWindowListener(this.windowListeners[e]);this.windowListeners={}}notifyListeners(e,n,r){const s=this.listeners[e];if(!s){if(r){let i=this.retainedEventArguments[e];i||(i=[]),i.push(n),this.retainedEventArguments[e]=i}return}s.forEach(i=>i(n))}hasListeners(e){return!!this.listeners[e].length}registerWindowListener(e,n){this.windowListeners[n]={registered:!1,windowEventName:e,pluginEventName:n,handler:r=>{this.notifyListeners(n,r)}}}unimplemented(e="not implemented"){return new gt.Exception(e,Ie.Unimplemented)}unavailable(e="not available"){return new gt.Exception(e,Ie.Unavailable)}async removeListener(e,n){const r=this.listeners[e];if(!r)return;const s=r.indexOf(n);this.listeners[e].splice(s,1),this.listeners[e].length||this.removeWindowListener(this.windowListeners[e])}addWindowListener(e){window.addEventListener(e.windowEventName,e.handler),e.registered=!0}removeWindowListener(e){e&&(window.removeEventListener(e.windowEventName,e.handler),e.registered=!1)}sendRetainedArgumentsForEvent(e){const n=this.retainedEventArguments[e];n&&(delete this.retainedEventArguments[e],n.forEach(r=>{this.notifyListeners(e,r)}))}}const en=t=>encodeURIComponent(t).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),tn=t=>t.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class xr extends vt{async getCookies(){const e=document.cookie,n={};return e.split(";").forEach(r=>{if(r.length<=0)return;let[s,i]=r.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");s=tn(s).trim(),i=tn(i).trim(),n[s]=i}),n}async setCookie(e){try{const n=en(e.key),r=en(e.value),s=`; expires=${(e.expires||"").replace("expires=","")}`,i=(e.path||"/").replace("path=",""),l=e.url!=null&&e.url.length>0?`domain=${e.url}`:"";document.cookie=`${n}=${r||""}${s}; path=${i}; ${l};`}catch(n){return Promise.reject(n)}}async deleteCookie(e){try{document.cookie=`${e.key}=; Max-Age=0`}catch(n){return Promise.reject(n)}}async clearCookies(){try{const e=document.cookie.split(";")||[];for(const n of e)document.cookie=n.replace(/^ +/,"").replace(/=.*/,`=;expires=${new Date().toUTCString()};path=/`)}catch(e){return Promise.reject(e)}}async clearAllCookies(){try{await this.clearCookies()}catch(e){return Promise.reject(e)}}}const Er=ve("CapacitorCookies",{web:()=>new xr}),Pr=async t=>new Promise((e,n)=>{const r=new FileReader;r.onload=()=>{const s=r.result;e(s.indexOf(",")>=0?s.split(",")[1]:s)},r.onerror=s=>n(s),r.readAsDataURL(t)}),kr=(t={})=>{const e=Object.keys(t);return Object.keys(t).map(s=>s.toLocaleLowerCase()).reduce((s,i,l)=>(s[i]=t[e[l]],s),{})},Sr=(t,e=!0)=>t?Object.entries(t).reduce((r,s)=>{const[i,l]=s;let o,a;return Array.isArray(l)?(a="",l.forEach(d=>{o=e?encodeURIComponent(d):d,a+=`${i}=${o}&`}),a.slice(0,-1)):(o=e?encodeURIComponent(l):l,a=`${i}=${o}`),`${r}&${a}`},"").substr(1):null,Tr=(t,e={})=>{const n=Object.assign({method:t.method||"GET",headers:t.headers},e),s=kr(t.headers)["content-type"]||"";if(typeof t.data=="string")n.body=t.data;else if(s.includes("application/x-www-form-urlencoded")){const i=new URLSearchParams;for(const[l,o]of Object.entries(t.data||{}))i.set(l,o);n.body=i.toString()}else if(s.includes("multipart/form-data")||t.data instanceof FormData){const i=new FormData;if(t.data instanceof FormData)t.data.forEach((o,a)=>{i.append(a,o)});else for(const o of Object.keys(t.data))i.append(o,t.data[o]);n.body=i;const l=new Headers(n.headers);l.delete("content-type"),n.headers=l}else(s.includes("application/json")||typeof t.data=="object")&&(n.body=JSON.stringify(t.data));return n};class Lr extends vt{async request(e){const n=Tr(e,e.webFetchExtra),r=Sr(e.params,e.shouldEncodeUrlParams),s=r?`${e.url}?${r}`:e.url,i=await fetch(s,n),l=i.headers.get("content-type")||"";let{responseType:o="text"}=i.ok?e:{};l.includes("application/json")&&(o="json");let a,d;switch(o){case"arraybuffer":case"blob":d=await i.blob(),a=await Pr(d);break;case"json":a=await i.json();break;case"document":case"text":default:a=await i.text()}const p={};return i.headers.forEach((y,g)=>{p[g]=y}),{data:a,headers:p,status:i.status,url:i.url}}async get(e){return this.request(Object.assign(Object.assign({},e),{method:"GET"}))}async post(e){return this.request(Object.assign(Object.assign({},e),{method:"POST"}))}async put(e){return this.request(Object.assign(Object.assign({},e),{method:"PUT"}))}async patch(e){return this.request(Object.assign(Object.assign({},e),{method:"PATCH"}))}async delete(e){return this.request(Object.assign(Object.assign({},e),{method:"DELETE"}))}}ve("CapacitorHttp",{web:()=>new Lr});var Te;(function(t){t.Prompt="PROMPT",t.Camera="CAMERA",t.Photos="PHOTOS"})(Te||(Te={}));var Be;(function(t){t.Rear="REAR",t.Front="FRONT"})(Be||(Be={}));var nn;(function(t){t.Uri="uri",t.Base64="base64",t.DataUrl="dataUrl"})(nn||(nn={}));class Cn extends vt{async getPhoto(e){return new Promise(async(n,r)=>{if(e.webUseInput||e.source===Te.Photos)this.fileInputExperience(e,n,r);else if(e.source===Te.Prompt){let s=document.querySelector("pwa-action-sheet");s||(s=document.createElement("pwa-action-sheet"),document.body.appendChild(s)),s.header=e.promptLabelHeader||"Photo",s.cancelable=!1,s.options=[{title:e.promptLabelPhoto||"From Photos"},{title:e.promptLabelPicture||"Take Picture"}],s.addEventListener("onSelection",async i=>{i.detail===0?this.fileInputExperience(e,n,r):this.cameraExperience(e,n,r)})}else this.cameraExperience(e,n,r)})}async pickImages(e){return new Promise(async(n,r)=>{this.multipleFileInputExperience(n,r)})}async cameraExperience(e,n,r){if(customElements.get("pwa-camera-modal")){const s=document.createElement("pwa-camera-modal");s.facingMode=e.direction===Be.Front?"user":"environment",document.body.appendChild(s);try{await s.componentOnReady(),s.addEventListener("onPhoto",async i=>{const l=i.detail;l===null?r(new Le("User cancelled photos app")):l instanceof Error?r(l):n(await this._getCameraPhoto(l,e)),s.dismiss(),document.body.removeChild(s)}),s.present()}catch{this.fileInputExperience(e,n,r)}}else console.error("Unable to load PWA Element 'pwa-camera-modal'. See the docs: https://capacitorjs.com/docs/web/pwa-elements."),this.fileInputExperience(e,n,r)}fileInputExperience(e,n,r){let s=document.querySelector("#_capacitor-camera-input");const i=()=>{var l;(l=s.parentNode)===null||l===void 0||l.removeChild(s)};s||(s=document.createElement("input"),s.id="_capacitor-camera-input",s.type="file",s.hidden=!0,document.body.appendChild(s),s.addEventListener("change",l=>{const o=s.files[0];let a="jpeg";if(o.type==="image/png"?a="png":o.type==="image/gif"&&(a="gif"),e.resultType==="dataUrl"||e.resultType==="base64"){const d=new FileReader;d.addEventListener("load",()=>{if(e.resultType==="dataUrl")n({dataUrl:d.result,format:a});else if(e.resultType==="base64"){const p=d.result.split(",")[1];n({base64String:p,format:a})}i()}),d.readAsDataURL(o)}else n({webPath:URL.createObjectURL(o),format:a}),i()}),s.addEventListener("cancel",l=>{r(new Le("User cancelled photos app")),i()})),s.accept="image/*",s.capture=!0,e.source===Te.Photos||e.source===Te.Prompt?s.removeAttribute("capture"):e.direction===Be.Front?s.capture="user":e.direction===Be.Rear&&(s.capture="environment"),s.click()}multipleFileInputExperience(e,n){let r=document.querySelector("#_capacitor-camera-input-multiple");const s=()=>{var i;(i=r.parentNode)===null||i===void 0||i.removeChild(r)};r||(r=document.createElement("input"),r.id="_capacitor-camera-input-multiple",r.type="file",r.hidden=!0,r.multiple=!0,document.body.appendChild(r),r.addEventListener("change",i=>{const l=[];for(let o=0;o<r.files.length;o++){const a=r.files[o];let d="jpeg";a.type==="image/png"?d="png":a.type==="image/gif"&&(d="gif"),l.push({webPath:URL.createObjectURL(a),format:d})}e({photos:l}),s()}),r.addEventListener("cancel",i=>{n(new Le("User cancelled photos app")),s()})),r.accept="image/*",r.click()}_getCameraPhoto(e,n){return new Promise((r,s)=>{const i=new FileReader,l=e.type.split("/")[1];n.resultType==="uri"?r({webPath:URL.createObjectURL(e),format:l,saved:!1}):(i.readAsDataURL(e),i.onloadend=()=>{const o=i.result;n.resultType==="dataUrl"?r({dataUrl:o,format:l,saved:!1}):r({base64String:o.split(",")[1],format:l,saved:!1})},i.onerror=o=>{s(o)})})}async checkPermissions(){if(typeof navigator>"u"||!navigator.permissions)throw this.unavailable("Permissions API not available in this browser");try{return{camera:(await window.navigator.permissions.query({name:"camera"})).state,photos:"granted"}}catch{throw this.unavailable("Camera permissions are not available in this browser")}}async requestPermissions(){throw this.unimplemented("Not implemented on web.")}async pickLimitedLibraryPhotos(){throw this.unavailable("Not implemented on web.")}async getLimitedLibraryPhotos(){throw this.unavailable("Not implemented on web.")}}new Cn;const Dr=ve("Camera",{web:()=>new Cn});class Vr extends vt{async write(e){if(typeof navigator>"u"||!navigator.clipboard)throw this.unavailable("Clipboard API not available in this browser");if(e.string!==void 0)await this.writeText(e.string);else if(e.url)await this.writeText(e.url);else if(e.image)if(typeof ClipboardItem<"u")try{const n=await(await fetch(e.image)).blob(),r=new ClipboardItem({[n.type]:n});await navigator.clipboard.write([r])}catch{throw new Error("Failed to write image")}else throw this.unavailable("Writing images to the clipboard is not supported in this browser");else throw new Error("Nothing to write")}async read(){if(typeof navigator>"u"||!navigator.clipboard)throw this.unavailable("Clipboard API not available in this browser");if(typeof ClipboardItem<"u")try{const e=await navigator.clipboard.read(),n=e[0].types[0],r=await e[0].getType(n);return{value:await this._getBlobData(r,n),type:n}}catch{return this.readText()}else return this.readText()}async readText(){if(typeof navigator>"u"||!navigator.clipboard||!navigator.clipboard.readText)throw this.unavailable("Reading from clipboard not supported in this browser");return{value:await navigator.clipboard.readText(),type:"text/plain"}}async writeText(e){if(typeof navigator>"u"||!navigator.clipboard||!navigator.clipboard.writeText)throw this.unavailable("Writting to clipboard not supported in this browser");await navigator.clipboard.writeText(e)}_getBlobData(e,n){return new Promise((r,s)=>{const i=new FileReader;n.includes("image")?i.readAsDataURL(e):i.readAsText(e),i.onloadend=()=>{const l=i.result;r(l)},i.onerror=l=>{s(l)}})}}const Ir=ve("Clipboard",{web:()=>new Vr}),Fr="modulepreload",_r=function(t){return"/Capacitor/"+t},rn={},De=function(e,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),l=(i==null?void 0:i.nonce)||(i==null?void 0:i.getAttribute("nonce"));s=Promise.all(n.map(o=>{if(o=_r(o),o in rn)return;rn[o]=!0;const a=o.endsWith(".css"),d=a?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${o}"]${d}`))return;const p=document.createElement("link");if(p.rel=a?"stylesheet":Fr,a||(p.as="script",p.crossOrigin=""),p.href=o,l&&p.setAttribute("nonce",l),document.head.appendChild(p),a)return new Promise((y,g)=>{p.addEventListener("load",y),p.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${o}`)))})}))}return s.then(()=>e()).catch(i=>{const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=i,window.dispatchEvent(l),!l.defaultPrevented)throw i})},An=ve("Dialog",{web:()=>De(()=>import("./web-BkD7ni6P.js"),[]).then(t=>new t.DialogWeb)}),Nn=ve("Preferences",{web:()=>De(()=>import("./web-DuZYRrpJ.js"),[]).then(t=>new t.PreferencesWeb)});var be;(function(t){t[t.none=0]="none",t[t.touchId=1]="touchId",t[t.faceId=2]="faceId",t[t.fingerprintAuthentication=3]="fingerprintAuthentication",t[t.faceAuthentication=4]="faceAuthentication",t[t.irisAuthentication=5]="irisAuthentication"})(be||(be={}));var sn;(function(t){t[t.weak=0]="weak",t[t.strong=1]="strong"})(sn||(sn={}));var on;(function(t){t.none="",t.appCancel="appCancel",t.authenticationFailed="authenticationFailed",t.invalidContext="invalidContext",t.notInteractive="notInteractive",t.passcodeNotSet="passcodeNotSet",t.systemCancel="systemCancel",t.userCancel="userCancel",t.userFallback="userFallback",t.biometryLockout="biometryLockout",t.biometryNotAvailable="biometryNotAvailable",t.biometryNotEnrolled="biometryNotEnrolled",t.noDeviceCredential="noDeviceCredential"})(on||(on={}));class Pl{constructor(e,n){this.message=e,this.code=n}}const Gr={[be.none]:"",[be.touchId]:"Touch ID",[be.faceId]:"Face ID",[be.fingerprintAuthentication]:"Fingerprint Authentication",[be.faceAuthentication]:"Face Authentication",[be.irisAuthentication]:"Iris Authentication"};function kl(t){return Gr[t]||""}const It=ve("BiometricAuthNative",{web:async()=>De(()=>import("./web-Cv2F5_jc.js"),__vite__mapDeps([0,1])).then(t=>new t.BiometricAuthWeb),ios:async()=>De(()=>import("./native-CPMGsAZ7.js"),__vite__mapDeps([2,1])).then(t=>new t.BiometricAuthNative(It)),android:async()=>De(()=>import("./native-CPMGsAZ7.js"),__vite__mapDeps([2,1])).then(t=>new t.BiometricAuthNative(It))});var ln;(function(t){t[t.Sunday=1]="Sunday",t[t.Monday=2]="Monday",t[t.Tuesday=3]="Tuesday",t[t.Wednesday=4]="Wednesday",t[t.Thursday=5]="Thursday",t[t.Friday=6]="Friday",t[t.Saturday=7]="Saturday"})(ln||(ln={}));const xn=ve("LocalNotifications",{web:()=>De(()=>import("./web-DeUutu8o.js"),[]).then(t=>new t.LocalNotificationsWeb)});yn.ScriptBasePath="/Scripts/";function se(t){return"Dispose"in t}function Ur(){const t=U.Create_1(""),e=U.Create_1(""),n=U.Create_1(""),r=U.Create_1(""),s=U.Create_1(""),i=U.Create_1(""),l=U.Create_1(""),o=new Or("New_1"),a=(o.h.push(ue(o.k,"takephoto",()=>o.i,()=>{oe(J(()=>ae(jr().then(A=>U.Set(i,ks(A.base64String,0,20))))))})),o),d=(a.h.push(new Me("cameraoutput",i.View)),a),p=(d.h.push(new Ft("clipboardvalue",r)),d),y=(p.h.push(ue(p.k,"writeclipboard",()=>p.i,()=>{oe(J(()=>ae(Mr(r.Get()).then(()=>U.Set(s,"Successfully write '"+r.Get()+"' to clipboard")))))})),p),g=(y.h.push(new Me("writeclipboardoutput",s.View)),y),b=(g.h.push(ue(g.k,"setcookies",()=>g.i,()=>{oe(J(()=>ae(Hr().then(()=>(A=>A("Successfully Set Cookies"))(A=>{console.log(A)})))))})),g),S=(b.h.push(ue(b.k,"showalert",()=>b.i,()=>{oe(J(()=>ae(Kr().then(()=>(A=>A("Successfully Show Alert"))(A=>{console.log(A)})))))})),b),F=(S.h.push(ue(S.k,"showconfirm",()=>S.i,()=>{oe(J(()=>ae(Br().then(()=>(A=>A("Successfully Show Confirm"))(A=>{console.log(A)})))))})),S),D=(F.h.push(new Ft("preferencesvalue",t)),F),N=(D.h.push(ue(D.k,"save",()=>D.i,()=>{oe(J(()=>ae(zr(t.Get()).then(()=>U.Set(e,"Save '"+t.Get()+"' Successfully")))))})),D),k=(N.h.push(new Me("preferencessavedvalue",e.View)),N),c=(k.h.push(ue(k.k,"get",()=>k.i,()=>{oe(J(()=>ae(Zr().then(A=>U.Set(n,"Value: "+String(A.value))))))})),k),h=(c.h.push(new Me("preferencesoutput",n.View)),c),f=(h.h.push(ue(h.k,"login",()=>h.i,()=>{oe(J(()=>ae(Jr().then(()=>U.Set(l,"Finger print log in")))))})),h),m=(f.h.push(new Me("loginoutput",l.View)),f),w=(m.h.push(ue(m.k,"notification",()=>m.i,()=>{oe(J(()=>ae(Qr().then(()=>(A=>A("Scheduled notification complete"))(A=>{console.log(A)})))))})),m),v=(w.h.push(ue(w.k,"deliverednotification",()=>w.i,()=>{oe(J(()=>ae(Xr().then(A=>alert(JSON.stringify(A))))))})),w),T=Wr(v.k,v.h,[["clipboardvalue",0,null],["preferencesvalue",0,null]]),P=new Rr(T[1],is(T[0])),E=(v.i=P,P).Doc;Ln(""),X.RunById("main",E)}class M{Equals(e){return this===e}GetHashCode(){return-1}}let U=pe(t=>{var e;return e=class extends M{static Create_1(r){return new os(!1,{s:Et(r,[])},r)}static Set(r,s){r.Set(s)}},U=t(e),e});function j(t){throw new Error(t)}function Se(t){return[t.K,t.V]}function cn(t,e){const n=1+e-t;return n<=0?[]:Qs(n,r=>r+t)}class Rr extends M{constructor(n,r){super();u(this,"doc");u(this,"allVars");u(this,"anchorRoot");this.doc=r,this.allVars=n.$==0?n.$0:j("Should not happen"),this.anchorRoot=null}get Doc(){return this.doc}SetAnchorRoot(n){this.anchorRoot=n}}function x(t,e){return Pn(t,e),t[e]}function En(t,e,n){Pn(t,e),t[e]=n}function Pn(t,e){(e<0||e>=t.length)&&j("Index was outside the bounds of the array.")}function I(t){return t.dims===2?t.length*t.length:t.length}class Or extends M{constructor(n){var e=(...Tl)=>(super(...Tl),u(this,"i"),u(this,"k"),u(this,"h"),u(this,"s"),this);if(n=="New_1"){let r;e(),this.i=null,this.k=(r=Cs(),String(r)),this.h=br([]),Ye(this,"s",null)}}}class B extends M{ForTextView(){return console.warn("Content hole filled with attribute data",this.Name),null}AddAttribute(e,n){console.warn("Var hole filled with non-Var data",this.Name)}get AsChoiceView(){return console.warn("Attribute value hole filled with non-text data",this.Name),Jt("")}}class qr extends M{}function ue(t,e,n,r){return new Tn(e,"",s=>i=>{const l=n();return l.SetAnchorRoot(s),r({Vars:l,Anchors:l,Target:s,Event:i})})}function Wr(t,e,n){const r=new fe("New_5"),s=new ce("New_3"),i=G(e);try{for(;i.MoveNext();){const l=i.Current,o=l.Name;s.SAdd(o),r.set_Item(o,l)}}finally{const l=i;typeof l=="object"&&se(l)&&i.Dispose()}return[Fn(e,Mt(l=>{const o=l[0],a=l[1],d=l[2];if(s.Contains(o))return null;{const p=a===0?Q.GetOrAddHoleFor(t,o,()=>{const y=d==null?null:$(d.$0);let g=y==null?"":y.$0,b=U.Create_1(g);return new Ft(o,b)}):a===1?Q.GetOrAddHoleFor(t,o,()=>{const y=d==null?null:$(d.$0);let g=y==null?0:y.$0,b=U.Create_1(g);return new li(o,b)}):a===2?Q.GetOrAddHoleFor(t,o,()=>{const y=d==null?null:$(d.$0);let g=y==null?!1:y.$0,b=U.Create_1(g);return new ci(o,b)}):a===3?Q.GetOrAddHoleFor(t,o,()=>{const y=d==null?null:$(d.$0);let g=y==null?-864e13:y.$0,b=U.Create_1(g);return new ui(o,b)}):a===4?Q.GetOrAddHoleFor(t,o,()=>new ai(o,U.Create_1([]))):a===5?Q.GetOrAddHoleFor(t,o,()=>new qn(o,U.Create_1($(globalThis.document.querySelector("[ws-dom="+o+"]"))))):a===6?Q.GetOrAddHoleFor(t,o,()=>{const y=d==null?null:$(d.$0);let g=y==null?[]:y.$0,b=U.Create_1(g);return new di(o,b)}):j("Invalid kind for template Var type: "+String(a));return r.set_Item(o,p),$(p)}},n)),{$:0,$0:r}]}function jr(){return new Promise(t=>{t(Dr.getPhoto({resultType:"base64"}).then(e=>Promise.resolve(e)))})}function Mr(t){return new Promise(e=>{let n;e(Ir.write((n={},n.string=String(t),n)).then(()=>Promise.resolve(null)))})}function Hr(){return new Promise(t=>{let e;t(Er.setCookie((e={},e.url="http://example.com'",e.key="language",e.value="en",e)).then(()=>Promise.resolve(null)))})}function Kr(){return new Promise(t=>{let e;t(An.alert((e={},e.title="Stop",e.message="this is an error",e)).then(()=>Promise.resolve(null)))})}function Br(){return new Promise(t=>{let e;t(An.confirm((e={},e.title="Confirm",e.message="Are you sure you'd like to press the red button?",e)).then(n=>Promise.resolve(n)))})}function zr(t){return new Promise(e=>{e(Nn.set({key:"auth_token",value:t}).then(()=>Promise.resolve(null)))})}function Zr(){return new Promise(t=>{t(Nn.get({key:"auth_token"}).then(e=>Promise.resolve(e)))})}function Jr(){return new Promise(t=>{let e;t((It.authenticate((e={},e.reason="Please authenticate",e.cancelTitle="Cancel",e.allowDeviceCredential=!0,e.iosFallbackTitle="Use passcode",e.androidTitle="Biometric login",e.androidSubtitle="Log in using biometric authentication",e.androidConfirmationRequired=!1,e.androidBiometryStrength="weak",e)),Promise.resolve(null)))})}function Qr(){return new Promise(t=>{let e,n;const r=(e={},e.notifications=[(n={},n.id=1,n.title="Reminder Notification",n.body="Explore new variety and offers",n.largeBody="Get 30% discounts on new products",n.summaryText="Exciting offers",n)],e);let s=xn.schedule(r).then(i=>Promise.resolve(i));t(s)})}function Xr(){return new Promise(t=>{t(xn.getDeliveredNotifications().then(e=>Promise.resolve(e)))})}function Yr(t){let e=[];for(var n in t)e.push(t[n]);return e}function $(t){return{$:1,$0:t}}function C(t,e){if(t===e)return!0;{const s=typeof t;if(s=="object"){if(t==null||e===null||e===void 0||!C(typeof e,"object"))return!1;if("Equals"in t)return t.Equals(e);if("Equals"in e)return!1;if(t instanceof Array&&e instanceof Array)return un(t,e);if(t instanceof Date&&e instanceof Date)return es(t,e);{const i=t,l=e,o=[!0];for(var n in i)if((a=>(o[0]=!i.hasOwnProperty(a)||l.hasOwnProperty(a)&&C(i[a],l[a]),!o[0]))(n))break;if(o[0]){for(var r in l)if((a=>(o[0]=!l.hasOwnProperty(a)||i.hasOwnProperty(a),!o[0]))(r))break}return o[0]}}else return s=="function"&&("$Func"in t?t.$Func===e.$Func&&t.$Target===e.$Target:"$Invokes"in t&&"$Invokes"in e&&un(t.$Invokes,e.$Invokes))}}function un(t,e){let n,r;if(I(t)===I(e)){for(n=!0,r=0;n&&r<I(t);)C(x(t,r),x(e,r))||(n=!1),r=r+1;return n}else return!1}function es(t,e){return t.getTime()===e.getTime()}function et(t){const e=typeof t;return e=="function"?0:e=="boolean"?t?1:0:e=="number"?t:e=="string"?pt(t):e=="object"?t==null?0:t instanceof Array?ts(t):ns(t):e=="bigint"?pt(String(t)):e=="symbol"?pt(t.description):0}function pt(t){let e;if(t===null)return 0;e=5381;for(let n=0,r=t.length-1;n<=r;n++)e=Ot(e,t[n].charCodeAt());return e}function ts(t){let e=-34948909;for(let n=0,r=I(t)-1;n<=r;n++)e=Ot(e,et(x(t,n)));return e}function ns(t){if("GetHashCode"in t)return t.GetHashCode();{const n=Ot,r=[0];for(var e in t)(s=>(r[0]=n(n(r[0],pt(s)),et(t[s])),!1))(e);return r[0]}}function Ot(t,e){return(t<<5)+t+e}function Ct(t,e){if(t===e)return 0;{const s=typeof t;switch(s=="boolean"||s=="number"||s=="bigint"||s=="string"?1:s=="object"?2:s=="function"?3:s=="symbol"?4:0){case 0:return typeof e>"u"?0:-1;case 1:return t<e?-1:1;case 2:if(t===null)return-1;if(e===null)return 1;if("CompareTo"in t)return t.CompareTo(e);if("CompareTo0"in t)return t.CompareTo0(e);if(t instanceof Array&&e instanceof Array)return rs(t,e);if(t instanceof Date&&e instanceof Date)return ss(t,e);{const i=t,l=e,o=[0];for(var n in i)if((a=>i.hasOwnProperty(a)?l.hasOwnProperty(a)?(o[0]=Ct(i[a],l[a]),o[0]!==0):(o[0]=1,!0):!1)(n))break;if(o[0]===0){for(var r in l)if((a=>l.hasOwnProperty(a)?!i.hasOwnProperty(a)&&(o[0]=-1,!0):!1)(r))break}return o[0]}case 3:return j("Cannot compare function values.");case 4:return j("Cannot compare symbol values.")}}}function rs(t,e){let n,r;if(I(t)<I(e))return-1;if(I(t)>I(e))return 1;for(n=0,r=0;n===0&&r<I(t);)n=Ct(x(t,r),x(e,r)),r=r+1;return n}function ss(t,e){return Ct(t.getTime(),e.getTime())}function is(t){let e=$("main");return Ln("index"),t?Vs("index",e,t):void 0}class os extends qr{constructor(n,r,s){super();u(this,"isConst");u(this,"current");u(this,"snap");u(this,"view");u(this,"id");this.isConst=n,this.current=s,this.snap=r,this.view=()=>this.snap,this.id=Je()}get View(){return this.view}Set(n){this.isConst?(r=>r("WebSharper.UI: invalid attempt to change value of a Var after calling SetFinal"))(r=>{console.log(r)}):(st(this.snap),this.current=n,this.snap={s:Et(n,[])})}Get(){return this.current}SetFinal(n){this.isConst?(r=>r("WebSharper.UI: invalid attempt to change value of a Var after calling SetFinal"))(r=>{console.log(r)}):(st(this.snap),this.isConst=!0,this.current=n,this.snap={s:Ce(n)})}UpdateMaybe(n){const r=n(this.Get());r!=null&&r.$==1&&this.Set(r.$0)}}function ls(t,e,n){const r=t.s;if(r==null)n();else if(r!=null&&r.$==2){const s=r.$0;r.$1.push(n),e(s)}else if(r!=null&&r.$==3){const s=r.$1;r.$0.push(e),s.push(n)}else e(r.$0)}function Re(t,e){const n=e.s;if(n!=null&&n.$==0)return{s:Ce(t(n.$0))};{const r={s:Oe([],[])};return de(e,s=>{Sn(r,e,t(s))},r),r}}function cs(t,e,n,r){const s=e.s,i=n.s,l=r.s;if(s!=null&&s.$==0)return i!=null&&i.$==0?l!=null&&l.$==0?{s:Ce(t(s.$0,i.$0,l.$0))}:hs(t,s.$0,i.$0,r):l!=null&&l.$==0?fs(t,s.$0,l.$0,n):ps(t,s.$0,n,r);if(i!=null&&i.$==0)return l!=null&&l.$==0?gs(t,i.$0,l.$0,e):ms(t,i.$0,e,r);if(l!=null&&l.$==0)return ws(t,l.$0,e,n);{const o={s:Oe([],[])},a=()=>{const d=o.s;if(!(d!=null&&d.$==0||d!=null&&d.$==2)){const p=Ee(e),y=Ee(n),g=Ee(r);p!=null&&p.$==1&&y!=null&&y.$==1&&g!=null&&g.$==1&&(p.$0[1]&&y.$0[1]&&g.$0[1]?ct(o,t(p.$0[0],y.$0[0],g.$0[0])):ut(o,t(p.$0[0],y.$0[0],g.$0[0])))}};return de(e,a,o),de(n,a,o),de(r,a,o),o}}function us(t){const e=rt(t);if(e.length==0)return{s:Ce([])};{const n={s:Oe([],[])},r=[I(e)-1],s=()=>{if(r[0]===0){const i=Ae(l=>{const o=l.s;return o!=null&&o.$==0||o!=null&&o.$==2?o.$0:j("value not found by View.Sequence")},e);On(l=>{const o=l.s;return o!=null&&o.$==0},e)?ct(n,i):ut(n,i)}else r[0]=r[0]-1};return Y(i=>{de(i,s,n)},e),n}}function At(t,e,n){const r=e.s,s=n.s;if(r!=null&&r.$==0)return s!=null&&s.$==0?{s:Ce(t(r.$0,s.$0))}:$s(t,r.$0,n);if(s!=null&&s.$==0)return bs(t,s.$0,e);{const i={s:Oe([],[])},l=()=>{const o=i.s;if(!(o!=null&&o.$==0||o!=null&&o.$==2)){const a=Ee(e),d=Ee(n);a!=null&&a.$==1&&d!=null&&d.$==1&&(a.$0[1]&&d.$0[1]?ct(i,t(a.$0[0],d.$0[0])):ut(i,t(a.$0[0],d.$0[0])))}};return de(e,l,i),de(n,l,i),i}}function as(t,e){const n=t.s,r=e.s;if(n!=null&&n.$==0)return r!=null&&r.$==0?{s:Ce(null)}:e;if(r!=null&&r.$==0)return t;{const s={s:Oe([],[])},i=()=>{const l=s.s;if(!(l!=null&&l.$==0||l!=null&&l.$==2)){const o=Ee(t),a=Ee(e);o!=null&&o.$==1&&a!=null&&a.$==1&&(o.$0[1]&&a.$0[1]?ct(s,null):ut(s,null))}};return de(t,i,s),de(e,i,s),s}}function ds(t){const e=t.s;if(e==null)return t;if(e!=null&&e.$==2){const n={s:Et(e.$0,[])};return ys(t,n),n}else if(e!=null&&e.$==3){const n={s:Oe([],[])};return de(t,r=>{Sn(n,t,r)},n),n}else return t}function kn(t,e){const n=t.s;n==null?e():n!=null&&n.$==2||n!=null&&n.$==3?(n.$0,n.$1.push(e)):n.$0}function de(t,e,n){const r=t.s;if(r==null)st(n);else if(r!=null&&r.$==2){const s=r.$0;mt(r.$1,n),e(s)}else if(r!=null&&r.$==3){const s=r.$1;r.$0.push(e),mt(s,n)}else e(r.$0)}function Sn(t,e,n){const r=e.s;r!=null&&r.$==0?ct(t,n):ut(t,n)}function hs(t,e,n,r){return Re(s=>t(e,n,s),r)}function fs(t,e,n,r){return Re(s=>t(e,s,n),r)}function ps(t,e,n,r){return At((s,i)=>t(e,s,i),n,r)}function gs(t,e,n,r){return Re(s=>t(s,e,n),r)}function ms(t,e,n,r){return At((s,i)=>t(s,e,i),n,r)}function ws(t,e,n,r){return At((s,i)=>t(s,i,e),n,r)}function Ee(t){const e=t.s;return e!=null&&e.$==0?$([e.$0,!0]):e!=null&&e.$==2?$([e.$0,!1]):null}function ct(t,e){const n=t.s;if(n!=null&&n.$==3){const r=n.$0;t.s=Ce(e);for(let s=0,i=I(r)-1;s<=i;s++)x(r,s)(e)}}function ut(t,e){const n=t.s;if(n!=null&&n.$==3){const r=n.$1,s=n.$0;t.s=Et(e,r);for(let i=0,l=I(s)-1;i<=l;i++)x(s,i)(e)}}function $s(t,e,n){return Re(r=>t(e,r),n)}function bs(t,e,n){return Re(r=>t(r,e),n)}function ys(t,e){const n=t.s;n==null?st(e):n!=null&&n.$==2||n!=null&&n.$==3?(n.$0,mt(n.$1,e)):n.$0}function mt(t,e){if(t.push(e),t.length%20===0){const n=t.slice(0);Nl(t);for(let r=0,s=I(n)-1;r<=s;r++){const i=x(n,r);typeof i=="object"?(l=>{l.s&&t.push(l)})(i):(l=>{t.push(l)})(i)}}}class vs extends B{constructor(n,r){super();u(this,"name");u(this,"fillWith");this.name=n,this.fillWith=r}get Name(){return this.name}get Value(){return this.fillWith}get AsChoiceView(){return Jt(this.fillWith)}}class Me extends B{constructor(n,r){super();u(this,"name");u(this,"fillWith");this.name=n,this.fillWith=r}get Name(){return this.name}ForTextView(){return $(this.fillWith)}get AsChoiceView(){return ke(this.fillWith)}}class Ft extends B{constructor(n,r){super();u(this,"name");u(this,"fillWith");this.name=n,this.fillWith=r}get Name(){return this.name}ForTextView(){return $(this.fillWith.View)}AddAttribute(n,r){n(r)(mo(this.fillWith))}get AsChoiceView(){return ke(R(String,this.fillWith.View))}}function Cs(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(new RegExp("[xy]","g"),t=>{const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}class Tn extends B{constructor(n,r,s){super();u(this,"name");u(this,"key");u(this,"fillWith");this.name=n,this.key=r,this.fillWith=s}get Name(){return this.name}get Value(){return this.fillWith}}function J(t){return e=>{try{t()(e)}catch(n){e.k(Wt(n))}}}function oe(t,e){const r=As()[0];Fe().Fork(()=>{r.c||t(Vn(s=>{s.$==1&&Ns(s.$0)},r))})}function As(){return Pt.defCTS}function Ns(t){console.log("WebSharper: Uncaught asynchronous exception",t)}function qt(t){return e=>{const n=[!1],r=s=>{n[0]?j("A continuation provided by Async.FromContinuations was invoked multiple times"):(n[0]=!0,Fe().Fork(s))};t(s=>{r(()=>{e.k(jt(s))})},s=>{r(()=>{e.k(Wt(s))})},s=>{r(()=>{e.k(In(s))})})}}function Fe(){return Pt.scheduler}function Nt(t){return e=>{e.k(jt(t))}}function ze(t,e){return xs(n=>{t(Vn(r=>{if(r.$==0){const s=r.$0;Fe().Fork(()=>{try{e(s)(n)}catch(i){n.k(Wt(i))}})}else Fe().Fork(()=>{n.k(r)})},n.ct))})}function _t(){return Pt.Zero}function xs(t){return e=>{e.ct.c?Es(e):t(e)}}function Es(t){t.k(In(new Di("New",t.ct)))}function ae(t){return qt((e,n)=>{t.then(e,r=>n(Ps(r)))})}function Ps(t){return t instanceof Error?t:new gi(t)}function ks(t,e,n){return t.substr(e,n)}function _e(t,e){return rt(e).join(t)}function he(t,e,n){return Ss(t,new RegExp("["+Ts(e.join(""))+"]"),n)}function Gt(t,e){return t.substring(0,e.length)==e}function Ss(t,e,n){return n===1?at(r=>r!=="",an(t,e)):an(t,e)}function Ts(t){return t.replace(new RegExp("[-\\/\\\\^$*+?.()|[\\]{}]","g"),"\\$&")}function an(t,e){return t.split(e)}function Ls(t,e){return ti(t,Ds(e))}function Ds(t){return t??""}function Ln(t){Is()||(Fs(!0),_s(globalThis.document.body,"")),tt().set_Item(t,xt(""))}function Vs(t,e,n){let r;const s=(r=null,[xt(t).TryGetValue(e==null?"":e.$0,{get:()=>r,set:i=>{r=i}}),r]);return s[0]?Gs(s[1].cloneNode(!0),n):(console.warn("Local template doesn't exist",e),X.Empty)}function Is(){return qe.LocalTemplatesLoaded}function Fs(t){qe.LocalTemplatesLoaded=t}function _s(t,e){const n=xt(e),r=new fe("New_5"),s=t.querySelectorAll("[ws-template]");for(let p=0,y=s.length-1;p<=y;p++){const g=s[p],b=g.getAttribute("ws-template").toLowerCase();g.removeAttribute("ws-template"),r.set_Item(b,Dn(g))}const i=t.querySelectorAll("[ws-children-template]");for(let p=0,y=i.length-1;p<=y;p++){const g=i[p],b=g.getAttribute("ws-children-template").toLowerCase();g.removeAttribute("ws-children-template"),r.set_Item(b,Us(g))}const l=t.querySelectorAll("template[id]");for(let p=0,y=l.length-1;p<=y;p++){const g=l[p];r.set_Item(g.getAttribute("id").toLowerCase(),dn(g))}const o=t.querySelectorAll("template[name]");for(let p=0,y=o.length-1;p<=y;p++){const g=o[p];r.set_Item(g.getAttribute("name").toLowerCase(),dn(g))}const a=new ce("New_3");function d(p){if(!n.ContainsKey(p)){let y;const g=(y=null,[r.TryGetValue(p,{get:()=>y,set:b=>{y=b}}),y]);g[0]?(a.SAdd(p),r.RemoveKey(p),Ze(e,$(p),g[1],$(d))):console.warn(a.Contains(p)?"Encountered loop when instantiating "+p:"Local template does not exist: "+p)}}for(;r.count>0;)d(Hs(r.Keys))}function tt(){return qe.LoadedTemplates}function xt(t){let e;const n=(e=null,[tt().TryGetValue(t,{get:()=>e,set:r=>{e=r}}),e]);if(n[0])return n[1];{const r=new fe("New_5");return tt().set_Item(t,r),r}}function Gs(t,e){const n=Rs(t,Fn(e,Os().Values)),r=n[1],s=n[0],i=s.Els;return!C(i,null)&&i.length===1&&x(i,0)instanceof Node&&C(x(i,0).nodeType,Node.ELEMENT_NODE)&&(x(i,0),!0)?Bt.TreeNode(s,r):X.Mk(Wn(s),r)}function Dn(t){t.removeAttribute("ws-template");const e=t.getAttribute("ws-replace");if(e!=null){t.removeAttribute("ws-replace");const r=t.parentNode;if(!C(r,null)){const s=globalThis.document.createElement(t.tagName);s.setAttribute("ws-replace",e),r.replaceChild(s,t)}}const n=globalThis.document.createElement("div");return n.appendChild(t),n}function Us(t){const e=globalThis.document.createElement("div");for(;t.hasChildNodes();)e.appendChild(t.firstChild);return e}function dn(t){const e=globalThis.document.createElement("div"),n=t.content;for(let r=0,s=n.childNodes.length-1;r<=s;r++)e.appendChild(n.childNodes[r].cloneNode(!0));return e}function Ze(t,e,n,r){const s=new ce("New_3");function i(g,b){for(;;)switch(g){case 0:if(b!==null){const c=b.nextSibling;C(b.nodeType,Node.TEXT_NODE)?Gi(b):C(b.nodeType,Node.ELEMENT_NODE)&&o(b),b=c}else return null;break;case 1:const S=ye(b.nodeName,$(3),null).toLowerCase(),F=S.indexOf("."),D=F===-1?[t,S]:[ye(S,null,$(F-1)),ye(S,$(F+1),null)],N=D[1],k=D[0];if(k!=""&&!tt().ContainsKey(k))return gn(N);{k==""&&r!=null&&r.$0(N);const c=tt().Item(k);if(c.ContainsKey(N)){const f=c.Item(N).cloneNode(!0),m=new ce("New_3"),w=new fe("New_5"),v=b.attributes;for(let P=0,L=v.length-1;P<=L;P++){const E=v.item(P).name.toLowerCase(),A=v.item(P).nodeValue;let ee=A==""?E:A.toLowerCase();w.set_Item(E,ee),m.SAdd(E)||console.warn("Hole mapped twice",E)}for(let P=0,L=b.childNodes.length-1;P<=L;P++){const E=b.childNodes[P];C(E.nodeType,Node.ELEMENT_NODE)&&(m.SAdd(E.nodeName.toLowerCase())||console.warn("Hole filled twice",N))}const T=b.childNodes.length===1&&C(b.firstChild.nodeType,Node.TEXT_NODE);if(T){const P=Ui(f,b.firstChild.textContent,N),L=(A=>ee=>A.SAdd(ee))(m);(A=>ee=>{ee!=null&&A(ee.$0)})(A=>{L(A)})(P)}if(Ri(f,m),!T)for(let P=0,L=b.childNodes.length-1;P<=L;P++){const E=b.childNodes[P];C(E.nodeType,Node.ELEMENT_NODE)&&(E.hasAttributes()?Oi(f,E):l(f,E))}qi(f,w),mn(f,b.parentNode,b),b.parentNode.removeChild(b);return}else return gn(N)}}}function l(g,b){const S=b.nodeName.toLowerCase(),F=(N,k)=>{if(S=="title"&&b.hasChildNodes()){const c=Wi(b.textContent);for(b.removeChild(b.firstChild);c.hasChildNodes();)b.appendChild(c.firstChild)}return o(b),mn(b,N,k)};W(g,"[ws-attr-holes]",N=>{const k=he(N.getAttribute("ws-attr-holes"),[" "],1);for(let c=0,h=k.length-1;c<=h;c++){const f=x(k,c);let m=new RegExp("\\${"+S+"}","ig"),w=N.getAttribute(f).replace(m,b.textContent);N.setAttribute(f,w)}});const D=g.querySelector("[ws-hole="+S+"]");if(C(D,null)){const N=g.querySelector("[ws-replace="+S+"]");if(C(N,null)){const k=g.querySelector("slot[name="+S+"]");return g.tagName.toLowerCase()=="template"?(F(k.parentNode,k),void k.parentNode.removeChild(k)):null}else{F(N.parentNode,N),N.parentNode.removeChild(N);return}}else{for(;D.hasChildNodes();)D.removeChild(D.lastChild);return D.removeAttribute("ws-hole"),(N=>{const k=N;return c=>F(k,c)})(D)(null)}}function o(g){g.hasAttribute("ws-preserve")||(Gt(g.nodeName.toLowerCase(),"ws-")?d(g):(zn(g),a(g.firstChild)))}function a(g){return i(0,g)}function d(g){return i(1,g)}function p(g){for(;;){const b=g.querySelector("[ws-template]");if(C(b,null)){const S=g.querySelector("[ws-children-template]");if(C(S,null)){const F=g.querySelectorAll("template[id]");for(let N=1,k=F.length-1;N<=k;N++){const c=F[N];s.Contains(c)||(Ze(t,$(c.getAttribute("id")),c,null),s.SAdd(c))}const D=g.querySelectorAll("template[name]");for(let N=1,k=D.length-1;N<=k;N++){const c=D[N];s.Contains(c)||(Ze(t,$(c.getAttribute("name")),c,null),s.SAdd(c))}return null}else{const F=S.getAttribute("ws-children-template");S.removeAttribute("ws-children-template"),Ze(t,$(F),S,null),g=g}}else{const S=b.getAttribute("ws-template");qs(t,$(S),b)(null),g=g}}}const y=(e==null?"":e.$0).toLowerCase();xt(t).set_Item(y,n),n.hasChildNodes()&&(p(n),a(n.firstChild))}function Rs(t,e){let n;const r=[],s=[],i=[],l=[],o=new fe("New_5"),a=G(e);try{for(;a.MoveNext();){const c=a.Current;o.set_Item(c.Name,c)}}finally{const c=a;typeof c=="object"&&se(c)&&a.Dispose()}let d=wn(t);const p=(c,h)=>{const f=Xn(c,h);s.push(Yn(f)),i.push([c,f]);const m=Xe(f.OnAfterRender);if(m==null)return null;{const w=m.$0;l.push(()=>{w(c)});return}},y=c=>{let h;const f=(h=null,[o.TryGetValue(c,{get:()=>h,set:m=>{h=m}}),h]);if(f[0]){const m=f[1];if(m instanceof ho)return $(m.Value);if(m instanceof vs)return $(X.TextNode(m.Value));{const w=m.ForTextView();return w==null?null:$(X.TextView(w.$0))}}else return null};W(t,"[ws-hole]",c=>{const h=c.getAttribute("ws-hole");for(c.removeAttribute("ws-hole");c.hasChildNodes();)c.removeChild(c.lastChild);const f=y(h);if(f!=null&&f.$==1){const m=f.$0;wt(c,m.docNode),r.push(Ve.New(Dt(c),m.docNode,null,c,Je(),null)),s.push(m.updates)}}),W(t,"[ws-replace]",c=>{const h=y(c.getAttribute("ws-replace"));if(h!=null&&h.$==1){const f=h.$0,m=c.parentNode,w=globalThis.document.createTextNode("");m.replaceChild(w,c);const v=Ci(w,f.docNode);d=wn(t);const T=_n(P=>c===P,d);T==null||En(d,T.$0,f.docNode),r.push(Ve.New(Dt(m),f.docNode,$([v,w]),m,Je(),null)),s.push(f.updates)}});let g=!1;W(t,"slot",c=>{const h=c.getAttribute("name"),f=h==""||h==null?"default":h.toLowerCase();if(!(g&&f=="default"||!C(t.parentElement,null))){for(;c.hasChildNodes();)c.removeChild(c.lastChild);f=="default"&&(g=!0);const m=y(f);if(m!=null&&m.$==1){const w=m.$0;wt(c,w.docNode),r.push(Ve.New(Dt(c),w.docNode,null,c,Je(),null)),s.push(w.updates)}}}),W(t,"[ws-attr]",c=>{let h;const f=c.getAttribute("ws-attr");c.removeAttribute("ws-attr");const m=(h=null,[o.TryGetValue(f,{get:()=>h,set:w=>{h=w}}),h]);if(m[0]){const w=m[1];w instanceof fo?p(c,w.Value):console.warn("Attribute hole filled with non-attribute data",f)}}),W(t,"[ws-on]",c=>{p(c,K.Concat(Mt(h=>{let f;const m=he(h,[":"],1),w=(f=null,[o.TryGetValue(x(m,1),{get:()=>f,set:v=>{f=v}}),f]);if(w[0]){const v=w[1];return v instanceof po?$(go(x(m,0),v.Value)):v instanceof Tn?$(K.HandlerImpl(x(m,0),v.Value)):(console.warn("Event hole on"+x(m,0)+" filled with non-event data",x(m,1)),null)}else return null},he(c.getAttribute("ws-on"),[" "],1)))),c.removeAttribute("ws-on")}),W(t,"[ws-onafterrender]",c=>{let h;const f=c.getAttribute("ws-onafterrender"),m=(h=null,[o.TryGetValue(f,{get:()=>h,set:w=>{h=w}}),h]);if(m[0]){const w=m[1];w instanceof Ao||w instanceof No?(c.removeAttribute("ws-onafterrender"),p(c,bn(w.Value))):console.warn("onafterrender hole filled with non-onafterrender data",f)}}),W(t,"[ws-var]",c=>{let h;const f=c.getAttribute("ws-var");c.removeAttribute("ws-var");const m=(h=null,[o.TryGetValue(f,{get:()=>h,set:w=>{h=w}}),h]);m[0]&&m[1].AddAttribute(w=>v=>p(w,v),c)});const b=()=>{Ws("[ws-dom]",c=>{let h,f,m;const w=(h=null,[o.TryGetValue(c.getAttribute("ws-dom").toLowerCase(),{get:()=>h,set:v=>{h=v}}),h]);if(w[0]){const v=w[1];if(v instanceof qn){const T=v.Value;c.removeAttribute("ws-dom"),f=c;const P=new MutationObserver((L,E)=>{Y(A=>{A.removedNodes.forEach($r(ee=>ee[0]===f&&A.addedNodes.length!==1?(T.SetFinal(null),E.disconnect()):null),null)},L)});c.parentElement!==null&&P.observe(c.parentElement,(m={},m.childList=!0,m)),T.Set($(c)),Bn(L=>{if(L!=null&&L.$==1){const E=L.$0;if(f!==E){let A=[E];f.replaceWith.apply(f,A),f=E}}else f.remove(),P.disconnect()},T.View)}}})};W(t,"[ws-attr-holes]",c=>{const h=new RegExp(nt(),"g"),f=he(c.getAttribute("ws-attr-holes"),[" "],1);c.removeAttribute("ws-attr-holes");for(let m=0,w=f.length-1;m<=w;m++)(()=>{let v;const T=x(f,m),P=c.getAttribute(T);let L=null,E=0;const A=[];for(;L=h.exec(P),L!==null;){const z=ye(P,$(E),$(h.lastIndex-x(L,0).length-1));E=h.lastIndex,A.push([z,x(L,1)])}const ee=ye(P,$(E),null);h.lastIndex=0;const _=Ht((z,te)=>(me=>{const we=me[0],O=me[1];return q=>{let H;const ne=q[0],ie=q[1],Z=(H=null,[o.TryGetValue(O,{get:()=>H,set:$e=>{H=$e}}),H]),ge=Z[0]?Z[1].AsChoiceView:Jt("");return ge.$==1?[we,Ge.Cons(ne==""?ge.$0:R($e=>$e+ne,ge.$0),ie)]:[we+ge.$0+ne,ie]}})(z)(te),A,[ee,Ge.Empty]);if(_[1].$==1)if(_[1].$1.$==1)if(_[1].$1.$1.$==1)if(_[1].$1.$1.$1.$==0){const z=_[0];v=He(T,Ii((te,me,we)=>z+te+me+we,_[1].$0,_[1].$1.$0,_[1].$1.$1.$0))}else{const z=_[0];v=He(T,R(te=>z+_e("",te),Fi(_[1])))}else{const z=_[0];v=He(T,_i((te,me)=>z+te+me,_[1].$0,_[1].$1.$0))}else if(_[0]=="")v=He(T,_[1].$0);else{const z=_[0];v=He(T,R(te=>z+te,_[1].$0))}else v=K.Create(T,_[0]);return p(c,v)})()});let S=d;const F=l.length==0?$(()=>{b()}):$(c=>{b(),Y(h=>{h(c)},l)}),D=!C(d,null)&&d.length===1&&x(d,0)instanceof Node&&x(d,0)instanceof Element&&(n=x(d,0),!0)?$(n):null;let N={Els:S,Dirty:!0,Holes:r,Attrs:i,Render:F?F.$0:void 0,El:D?D.$0:void 0};return[wr(N,["Render","El"]),St(lt(),$t,s)]}function Os(){return qe.GlobalHoles}function W(t,e,n){zi(t,e,r=>{r.closest("[ws-preserve]")==null&&n(r)})}function qs(t,e,n){const r=Dn(n);return s=>{Ze(t,e,r,s)}}function Ws(t,e){Zi(t,n=>{n.closest("[ws-preserve]")==null&&e(n)})}function nt(){return qe.TextHoleRE}class X extends M{constructor(n,r){super();u(this,"docNode");u(this,"updates");this.docNode=n,this.updates=r}static RunById(n,r){const s=globalThis.document.getElementById(n);C(s,null)?j("invalid id: "+n):X.Run(s,r)}static Run(n,r){wt(n,r.docNode),X.RunInPlace(!1,n,r)}static get Empty(){return X.Mk(null,lt())}static RunInPlace(n,r,s){const i=bi(r,s.docNode);Bn(Zn()||Jn()?ro(yi(n,i,s.docNode)):()=>{vi(n,i,s.docNode)},s.updates)}static Mk(n,r){return new X(n,r)}static TextNode(n){return X.Mk(fi(globalThis.document.createTextNode(n)),lt())}static TextView(n){const r=Pi();return X.Mk(pi(r),R(s=>{ki(r,s)},n))}}function Je(){return js(hn()+1),hn()}function js(t){Kt.counter=t}function hn(){return Kt.counter}function Et(t,e){return{$:2,$0:t,$1:e}}function Ce(t){return{$:0,$0:t}}function Oe(t,e){return{$:3,$0:t,$1:e}}class fe extends M{constructor(n,r,s,i){var e=(...Ll)=>(super(...Ll),u(this,"equals"),u(this,"hash"),u(this,"count"),u(this,"data"),this);if(n=="New_5"&&(n="New_6",r=[],s=C,i=et),n=="New_6"){const l=r,o=s,a=i;e(),this.equals=o,this.hash=a,this.count=0,this.data=[];const d=G(l);try{for(;d.MoveNext();){const p=d.Current;this.set(p.K,p.V)}}finally{const p=d;typeof p=="object"&&se(p)&&d.Dispose()}}}set_Item(n,r){this.set(n,r)}set(n,r){const s=this.hash(n),i=this.data[s];if(i==null)this.count=this.count+1,this.data[s]=new Array({K:n,V:r});else{const l=_n(o=>this.equals.apply(null,[Se(o)[0],n]),i);l==null?(this.count=this.count+1,i.push({K:n,V:r})):i[l.$0]={K:n,V:r}}}TryGetValue(n,r){const s=this.data[this.hash(n)];if(s==null)return!1;{const i=Gn(l=>{const o=Se(l);return this.equals.apply(null,[o[0],n])?$(o[1]):null},s);return i!=null&&i.$==1&&(r.set(i.$0),!0)}}ContainsKey(n){const r=this.data[this.hash(n)];return r==null?!1:Un(s=>this.equals.apply(null,[Se(s)[0],n]),r)}RemoveKey(n){return this.remove(n)}get Keys(){return new eo(this)}GetEnumerator(){return $i(ri(Yr(this.data)))}get Values(){return new Eo(this)}remove(n){const r=this.hash(n),s=this.data[r];if(s==null)return!1;{const i=at(l=>!this.equals.apply(null,[Se(l)[0],n]),s);return I(i)<s.length&&(this.count=this.count-1,this.data[r]=i,!0)}}Item(n){return this.get(n)}get(n){const r=this.data[this.hash(n)];return r==null?wi():si(s=>{const i=Se(s);return this.equals.apply(null,[i[0],n])?$(i[1]):null},r)}}function Vn(t,e){return{k:t,ct:e}}function Wt(t){return{$:1,$0:t}}function jt(t){return{$:0,$0:t}}function In(t){return{$:2,$0:t}}function Ms(t,e){return{c:t,r:e}}class ce extends M{constructor(n,r,s,i){var e=(...Dl)=>(super(...Dl),u(this,"equals"),u(this,"hash"),u(this,"data"),u(this,"count"),this);n=="New_3"&&(n="New_4",r=[],s=C,i=et);let l;if(n=="New_2"&&(l=r,n="New_4",r=l,s=C,i=et),n=="New_4"){const o=r,a=s,d=i;e(),this.equals=a,this.hash=d,this.data=[],this.count=0;const p=G(o);try{for(;p.MoveNext();)this.add(p.Current)}finally{const y=p;typeof y=="object"&&se(y)&&p.Dispose()}}}SAdd(n){return this.add(n)}Contains(n){const r=this.data[this.hash(n)];return r==null?!1:this.arrContains(n,r)}add(n){const r=this.hash(n),s=this.data[r];return s==null?(this.data[r]=[n],this.count=this.count+1,!0):this.arrContains(n,s)?!1:(s.push(n),this.count=this.count+1,!0)}arrContains(n,r){let s=!0,i=0;const l=r.length;for(;s&&i<l;)this.equals.apply(null,[r[i],n])?s=!1:i=i+1;return!s}GetEnumerator(){return G(Vt(this.data))}ExceptWith(n){const r=G(n);try{for(;r.MoveNext();)this.Remove(r.Current)}finally{const s=r;typeof s=="object"&&se(s)&&r.Dispose()}}get Count(){return this.count}IntersectWith(n){const r=new ce("New_4",n,this.equals,this.hash),s=Vt(this.data);for(let i=0,l=s.length-1;i<=l;i++){const o=s[i];r.Contains(o)||this.Remove(o)}}Remove(n){const r=this.data[this.hash(n)];return r==null?!1:this.arrRemove(n,r)&&(this.count=this.count-1,!0)}CopyTo(n,r){const s=Vt(this.data);for(let i=0,l=s.length-1;i<=l;i++)En(n,i+r,s[i])}arrRemove(n,r){let s=!0,i=0;const l=r.length;for(;s&&i<l;)this.equals.apply(null,[r[i],n])?(r.splice(i,1),s=!1):i=i+1;return!s}}function Fn(t,e){return{GetEnumerator:()=>{const n=G(t),r=[!0];return new Ne(n,null,s=>{if(s.s.MoveNext())return s.c=s.s.Current,!0;{const i=s.s;return C(i,null)||i.Dispose(),s.s=null,r[0]&&(r[0]=!1,s.s=G(e),s.s.MoveNext()?(s.c=s.s.Current,!0):(s.s.Dispose(),s.s=null,!1))}},s=>{const i=s.s;C(i,null)||i.Dispose()})}}}function Hs(t){const e=G(t);try{return e.MoveNext()?e.Current:Ut()}finally{const n=e;typeof n=="object"&&se(n)&&e.Dispose()}}function Ks(t,e,n){let r=e;const s=G(n);try{for(;s.MoveNext();)r=t(r,s.Current);return r}finally{const i=s;typeof i=="object"&&se(i)&&s.Dispose()}}function Bs(t,e){const n=G(e);try{for(;n.MoveNext();)t(n.Current)}finally{const r=n;typeof r=="object"&&se(r)&&n.Dispose()}}function Pe(t,e){return{GetEnumerator:()=>{const n=G(e);return new Ne(null,null,r=>n.MoveNext()&&(r.c=t(n.Current),!0),()=>{n.Dispose()})}}}function fn(t){return{GetEnumerator:()=>G(t())}}function zs(t,e){return Js(Pe(t,e))}function Zs(t){const e=G(t);try{e.MoveNext()||Xs();let n=e.Current;for(;e.MoveNext();){const r=e.Current;Ct(r,n)===1&&(n=r)}return n}finally{const n=e;typeof n=="object"&&se(n)&&e.Dispose()}}function Js(t){return{GetEnumerator:()=>{const e=G(t);function n(r){for(;;){const s=r.s;if(C(s,null))if(e.MoveNext())r.s=G(e.Current),r=r;else return e.Dispose(),!1;else{if(s.MoveNext())return r.c=s.Current,!0;r.Dispose(),r.s=null,r=r}}}return new Ne(null,null,n,r=>{const s=r.s;C(s,null)||s.Dispose();const i=e;C(i,null)||i.Dispose()})}}}function Qs(t,e){return Ys(t,ei(e))}function Xs(){return j("The input sequence was empty.")}function Ys(t,e){return t<0&&Yi(),{GetEnumerator:()=>{const n=[G(e)];return new Ne(0,null,r=>{if(r.s=r.s+1,r.s>t)return!1;{const s=n[0];return C(s,null)?Ut():s.MoveNext()?(r.c=s.Current,r.s===t&&(s.Dispose(),n[0]=null),!0):(s.Dispose(),n[0]=null,Ut())}},()=>{const r=n[0];C(r,null)||r.Dispose()})}}}function ei(t){return{GetEnumerator:()=>new Ne(0,null,e=>(e.c=t(e.s),e.s=e.s+1,!0),void 0)}}function ti(t,e){return!ni(n=>!t(n),e)}function ni(t,e){const n=G(e);try{let r=!1;for(;!r&&n.MoveNext();)r=t(n.Current);return r}finally{const r=n;typeof r=="object"&&se(r)&&n.Dispose()}}function Mt(t,e){const n=[];for(let r=0,s=e.length-1;r<=s;r++){const i=t(e[r]);i==null||n.push(i.$0)}return n}function _n(t,e){let n=null,r=0;for(;r<e.length&&n==null;)t(e[r])&&(n=$(r)),r=r+1;return n}function Gn(t,e){let n=null,r=0;for(;r<e.length&&n==null;){const s=t(e[r]);s!=null&&s.$==1&&(n=s),r=r+1}return n}function Un(t,e){let n=!1,r=0;const s=I(e);for(;!n&&r<s;)t(e[r])?n=!0:r=r+1;return n}function ri(t){return Array.prototype.concat.apply([],rt(t))}function Y(t,e){for(let n=0,r=e.length-1;n<=r;n++)t(e[n])}function Ht(t,e,n){let r=n;const s=e.length;for(let i=1,l=s;i<=l;i++)r=t(e[s-i],r);return r}function Ae(t,e){const n=new Array(e.length);for(let r=0,s=e.length-1;r<=s;r++)n[r]=t(e[r]);return n}function at(t,e){const n=[];for(let r=0,s=e.length-1;r<=s;r++)t(e[r])&&n.push(e[r]);return n}function rt(t){if(t instanceof Array)return t.slice();if(t instanceof Ge)return Rn(t);{const e=[],n=G(t);try{for(;n.MoveNext();)e.push(n.Current);return e}finally{const r=n;typeof r=="object"&&se(r)&&n.Dispose()}}}function si(t,e){const n=Gn(t,e);return n==null?j("KeyNotFoundException"):n.$0}function Rn(t){const e=[];let n=t;for(;n.$!=0;)e.push(jo(n)),n=Mo(n);return e}function On(t,e){let n=!0,r=0;const s=I(e);for(;n&&r<s;)t(e[r])?r=r+1:n=!1;return n}function ii(t,e){const n=new Array(t);for(let r=0,s=t-1;r<=s;r++)n[r]=e;return n}function oi(t,e){t<0&&j("Negative size given.");const n=new Array(t);for(let r=0,s=t-1;r<=s;r++)n[r]=e(r);return n}let Q=pe(t=>{var e;return e=class extends M{constructor(){super(...arguments);u(this,"id");u(this,"vars")}static GetOrAddHoleFor(s,i,l){let o;const a=Q.GetHolesFor(s),d=(o=null,[a.TryGetValue(i,{get:()=>o,set:p=>{o=p}}),o]);if(d[0])return d[1];{const p=l();return a.set_Item(i,p),p}}static GetHolesFor(s){let i;const l=(i=null,[Q.initialized.TryGetValue(s,{get:()=>i,set:o=>{i=o}}),i]);if(l[0])return l[1];{const o=new fe("New_5");return Q.initialized.set_Item(s,o),o}}},Q=t(e),u(e,"init"),u(e,"initialized"),u(e,"instances"),Q.initialized=new fe("New_5"),Q.instances=new fe("New_5"),e});class li extends B{constructor(n,r){super();u(this,"name");u(this,"fillWith");this.name=n,this.fillWith=r}get Name(){return this.name}ForTextView(){return $(R(String,this.fillWith.View))}AddAttribute(n,r){n(r)(wo(this.fillWith))}get AsChoiceView(){return ke(R(String,this.fillWith.View))}}class ci extends B{constructor(n,r){super();u(this,"name");u(this,"fillWith");this.name=n,this.fillWith=r}get Name(){return this.name}ForTextView(){return $(R(String,this.fillWith.View))}AddAttribute(n,r){n(r)($o(this.fillWith))}get AsChoiceView(){return ke(R(String,this.fillWith.View))}}class ui extends B{constructor(n,r){super();u(this,"name");u(this,"fillWith");this.name=n,this.fillWith=r}get Name(){return this.name}ForTextView(){return $(R(n=>new Date(n).toLocaleString(),this.fillWith.View))}AddAttribute(n,r){n(r)(bo(this.fillWith))}get AsChoiceView(){return ke(R(n=>new Date(n).toLocaleString(),this.fillWith.View))}}class ai extends B{constructor(n,r){super();u(this,"name");u(this,"fillWith");this.name=n,this.fillWith=r}get Name(){return this.name}ForTextView(){return $(R(String,this.fillWith.View))}AddAttribute(n,r){n(r)(yo(this.fillWith))}get AsChoiceView(){return ke(R(String,this.fillWith.View))}}class qn extends B{constructor(n,r){super();u(this,"name");u(this,"fillWith");this.name=n,this.fillWith=r}get Name(){return this.name}get Value(){return this.fillWith}}class di extends B{constructor(n,r){super();u(this,"name");u(this,"fillWith");this.name=n,this.fillWith=r}get Name(){return this.name}ForTextView(){return $(R(n=>_e(",",n),this.fillWith.View))}AddAttribute(n,r){n(r)(vo(this.fillWith))}get AsChoiceView(){return ke(R(String,this.fillWith.View))}}function st(t){let e;const n=t.s;if(!(n==null||(!(n!=null&&n.$==2||n!=null&&n.$==3)||(e=n.$1,!1)))){t.s=null;for(let r=0,s=I(e)-1;r<=s;r++){const i=x(e,r);typeof i=="object"?(l=>{st(l)})(i):i()}}}function hi(t,e){return yl(t,-2147483648,2147483647,e)}function Wn(t){return{$:6,$0:t}}function fi(t){return{$:5,$0:t}}function pi(t){return{$:4,$0:t}}class gi extends Error{constructor(n){super("Promise rejected");u(this,"reason");this.reason=n}}let Pt=pe(t=>{var e;return e=class{},Pt=t(e),u(e,"GetCT"),u(e,"Zero"),u(e,"defCTS"),u(e,"scheduler"),u(e,"noneCT"),e.noneCT=Ms(!1,[]),e.scheduler=new mi,e.defCTS=[new Vi],e.Zero=Nt(),e.GetCT=r=>{r.k(jt(r.ct))},e});class mi extends M{constructor(){super();u(this,"idle");u(this,"robin");this.idle=!0,this.robin=[]}Fork(n){this.robin.push(n),this.idle&&(this.idle=!1,setTimeout(()=>{this.tick()},0))}tick(){const n=Date.now();let r=!0;for(;r;)this.robin.length===0?(this.idle=!0,r=!1):(this.robin.shift()(),Date.now()-n>40&&(setTimeout(()=>{this.tick()},0),r=!1))}}function wi(){throw new Ro("New")}function G(t){return t instanceof Array?jn(t):C(typeof t,"string")?Mn(t):t.GetEnumerator()}function jn(t){return new Ne(0,null,e=>{const n=e.s;return n<I(t)&&(e.c=x(t,n),e.s=n+1,!0)},void 0)}function Mn(t){return new Ne(0,null,e=>{const n=e.s;return n<t.length&&(e.c=t[n],e.s=n+1,!0)},void 0)}function $i(t){return t instanceof Array?jn(t):C(typeof t,"string")?Mn(t):"GetEnumerator0"in t?t.GetEnumerator0():t.GetEnumerator()}class Ne extends M{constructor(n,r,s,i){super();u(this,"s");u(this,"c");u(this,"n");u(this,"d");u(this,"e");this.s=n,this.c=r,this.n=s,this.d=i,this.e=0}MoveNext(){const n=this.n(this);return this.e=n?1:2,n}get Current(){return this.e===1?this.c:this.e===0?j("Enumeration has not started. Call MoveNext."):j("Enumeration already finished.")}Dispose(){this.d&&this.d(this)}}let qe=pe(t=>{var e;return e=class{},qe=t(e),u(e,"RenderedFullDocTemplate"),u(e,"TextHoleRE"),u(e,"GlobalHoles"),u(e,"LocalTemplatesLoaded"),u(e,"LoadedTemplates"),e.LoadedTemplates=new fe("New_5"),e.LocalTemplatesLoaded=!1,e.GlobalHoles=new fe("New_5"),e.TextHoleRE="\\${([^}]+)}",e.RenderedFullDocTemplate=null,e});function wt(t,e){it(t,e,null)}function it(t,e,n){for(;;){if(e!=null&&e.$==1)return ft(t,e.$0.El,n);if(e!=null&&e.$==2){const r=e.$0;r.Dirty=!1,e=r.Current}else{if(e==null)return n;if(e!=null&&e.$==4)return ft(t,e.$0.Text,n);if(e!=null&&e.$==5)return ft(t,e.$0,n);if(e!=null&&e.$==6)return Ht((r,s)=>(i=>l=>o=>l==null||l.constructor===Object?it(i,l,o):ft(i,l,o))(t)(r)(s),e.$0.Els,n);{const r=e.$1;e=e.$0,n=it(t,r,n)}}}}function bi(t,e){return Po(ko(),Ai(t,tr(),e))}function yi(t,e,n){return Zn()?J(()=>{const r=sr(n),s=Ei(e,r),i=xi(e,r);return ze($n(to(s,Ni(e,r))),()=>ze(pn(t,e),()=>ze($n(i),()=>(e.PreviousNodes=r,Nt(null)))))}):pn(t,e)}function vi(t,e,n){const r=sr(n);ot(t,e.Top),e.PreviousNodes=r}function Ci(t,e){const n=t.parentNode,r=globalThis.document.createTextNode("");return n.insertBefore(r,t),Si(t,e),r}function ft(t,e,n){return Ji(t,n,e),e}function Ai(t,e,n){wt(t,n);const r=Xn(t,e);return Ve.New(r,n,null,t,Je(),Xe(r.OnAfterRender))}function pn(t,e){if(Jn()){const n=r=>{requestAnimationFrame(()=>{ot(t,e.Top),r()})};return qt((r,s,i)=>n.apply(null,[r,s,i]))}else return ot(t,e.Top),Nt(null)}function Ni(t,e){return kt(Ae(n=>io(n.Attr),Xt(ir(e,Qt(n=>so(n.Attr),t.PreviousNodes)))))}function xi(t,e){return kt(Ae(n=>lo(n.Attr),Xt(ir(t.PreviousNodes,Qt(n=>oo(n.Attr),e)))))}function Ei(t,e){const n=s=>co(s.Attr),r=s=>Qt(n,s);return kt(Ae(s=>uo(s.Attr),Xt(So(r(t.PreviousNodes),r(e)))))}function ot(t,e){t||Ti(e),Hn(e.Children),Kn(e)}function Pi(){return{Text:globalThis.document.createTextNode(""),Dirty:!1,Value:""}}function ki(t,e){t.Value=e,t.Dirty=!0}function Si(t,e){it(t.parentNode,e,t)}function Ti(t){function e(n){function r(s){for(;;)if(s!=null&&s.$==0){const i=s.$1,l=s.$0;if(r(l))return!0;s=i}else if(s!=null&&s.$==2){const i=s.$0;if(i.Dirty)return!0;s=i.Current}else if(s!=null&&s.$==6){const i=s.$0;return i.Dirty||Un(e,i.Holes)}else return!1}return r(n.Children)}rr(t.El,t.Attr),e(t)&&Li(t)}function Hn(t){for(;;){if(t!=null&&t.$==1)return ot(!1,t.$0);if(t!=null&&t.$==2)t=t.$0.Current;else{if(t==null)return null;if(t!=null&&t.$==5)return null;if(t!=null&&t.$==4){const e=t.$0;return e.Dirty?(e.Text.nodeValue=e.Value,e.Dirty=!1):null}else if(t!=null&&t.$==6){const e=t.$0;return Y(n=>{ot(!1,n)},e.Holes),Y(n=>{rr(n[0],n[1])},e.Attrs),Kn(e)}else{const e=t.$1,n=t.$0;Hn(n),t=e}}}}function Kn(t){const e=Xe(t.Render);e!=null&&e.$==1&&(e.$0(t.El),Ye(t,"Render",null))}function Li(t){const e=t.El;function n(o,a){for(;;){if(o!=null&&o.$==1)return o.$0.El;if(o!=null&&o.$==2){const d=o.$0;if(d.Dirty)return d.Dirty=!1,it(e,d.Current,a);o=d.Current}else{if(o==null)return a;if(o!=null&&o.$==4)return o.$0.Text;if(o!=null&&o.$==5)return o.$0;if(o!=null&&o.$==6){const d=o.$0;return d.Dirty&&(d.Dirty=!1),Ht((p,y)=>p==null||p.constructor===Object?n(p,y):p,d.Els,a)}else{const d=o.$1;o=o.$0,a=n(d,a)}}}}const r=t.El;ml(o=>{Qi(r,o)},gl(wl(t),pl(t.El,Xe(t.Delimiters))));let s=t.Children;const i=Xe(t.Delimiters);let l=i!=null&&i.$==1?i.$0[1]:null;n(s,l)}let Kt=pe(t=>{var e;return e=class{},Kt=t(e),u(e,"counter"),e.counter=0,e});class Ve{constructor(){u(this,"Attr");u(this,"Children");u(this,"Delimiters");u(this,"El");u(this,"ElKey");u(this,"Render")}Equals(e){return this.ElKey===e.ElKey}GetHashCode(){return this.ElKey}static New(e,n,r,s,i,l){const o={Attr:e,Children:n,El:s,ElKey:i};let a=(Ye(o,"Delimiters",r),Ye(o,"Render",l),o);return le(Ve,a)}}class Di extends Error{constructor(n,r,s,i){var e=(...Vl)=>(super(...Vl),u(this,"ct"),this);let l;if(n=="New"&&(l=r,n="New_1",r="The operation was canceled.",s=null,i=l),n=="New_1"){const o=r,a=s,d=i;e(o),this.inner=a,this.ct=d}}}class Vi extends M{constructor(){super();u(this,"init");u(this,"c");u(this,"pending");u(this,"r");this.c=!1,this.pending=null,this.r=[],this.init=1}}class Bt extends X{constructor(n,r,s,i){super(n,r);u(this,"docNode_1");u(this,"updates_1");u(this,"elt");u(this,"rvUpdates");this.docNode_1=n,this.updates_1=r,this.elt=s,this.rvUpdates=i}static TreeNode(n,r){const s=bt.Create(r);let i=Wn(n);const l=Ae(d=>Yn(d[1]),n.Attrs);let o=St(lt(),$t,l),a=$t(o,s.v);return new Bt(i,a,x(n.Els,0),s)}}function lt(t){const e={s:Ce(t)};return()=>e}function Bn(t,e){function n(){ls(e(),t,()=>{Fe().Fork(n)})}Fe().Fork(n)}function R(t,e){return dt(()=>Re(t,e()))}function Ii(t,e,n,r){return dt(()=>cs(t,e(),n(),r()))}function Fi(t){return dt(()=>us(Pe(e=>e(),t)))}function _i(t,e,n){return dt(()=>At(t,e(),n()))}function $t(t,e){return dt(()=>as(t(),e()))}function dt(t){const e={c:null,o:t};return()=>{let n=e.c;if(n===null){n=e.o(),e.c=n;const r=n.s;return r!=null&&r.$==0?e.o=null:kn(n,()=>{e.c=null}),n}else return n}}function Gi(t){let e=null,n=0;const r=t.textContent,s=new RegExp(nt(),"g");for(;e=s.exec(r),e!==null;){t.parentNode.insertBefore(globalThis.document.createTextNode(ye(r,$(n),$(s.lastIndex-x(e,0).length-1))),t),n=s.lastIndex;const i=globalThis.document.createElement("span");i.setAttribute("ws-replace",x(e,1).toLowerCase()),t.parentNode.insertBefore(i,t)}s.lastIndex=0,t.textContent=ye(r,$(n),null)}function gn(t){console.warn("Instantiating non-loaded template",t)}function Ui(t,e,n){const r=t.querySelector("[ws-replace]");return C(r,null)?(console.warn("Filling non-existent text hole",n),null):(r.parentNode.replaceChild(globalThis.document.createTextNode(e),r),$(r.getAttribute("ws-replace")))}function Ri(t,e){const n=r=>{W(t,"["+r+"]",s=>{e.Contains(s.getAttribute(r))||s.removeAttribute(r)})};n("ws-attr"),n("ws-onafterrender"),n("ws-var"),W(t,"[ws-hole]",r=>{if(!e.Contains(r.getAttribute("ws-hole")))for(r.removeAttribute("ws-hole");r.hasChildNodes();)r.removeChild(r.lastChild)}),W(t,"[ws-replace]",r=>{e.Contains(r.getAttribute("ws-replace"))||r.parentNode.removeChild(r)}),W(t,"[ws-on]",r=>{r.setAttribute("ws-on",_e(" ",at(s=>e.Contains(x(he(s,[":"],1),1)),he(r.getAttribute("ws-on"),[" "],1))))}),W(t,"[ws-attr-holes]",r=>{const s=he(r.getAttribute("ws-attr-holes"),[" "],1);for(let i=0,l=s.length-1;i<=l;i++){const o=x(s,i);let a=new RegExp(nt(),"g"),d=r.getAttribute(o).replace(a,(p,y)=>e.Contains(y)?p:"");r.setAttribute(o,d)}})}function Oi(t,e){zn(e);const n=e.nodeName.toLowerCase(),r=t.querySelector("[ws-attr="+n+"]");if(C(r,null))console.warn("Filling non-existent attr hole",n);else{r.removeAttribute("ws-attr");for(let s=0,i=e.attributes.length-1;s<=i;s++){const l=e.attributes.item(s);l.name=="class"&&r.hasAttribute("class")?r.setAttribute("class",r.getAttribute("class")+" "+l.nodeValue):r.setAttribute(l.name,l.nodeValue)}}}function qi(t,e){const n=r=>{W(t,"["+r+"]",s=>{let i;const l=(i=null,[e.TryGetValue(s.getAttribute(r).toLowerCase(),{get:()=>i,set:o=>{i=o}}),i]);l[0]&&s.setAttribute(r,l[1])})};n("ws-hole"),n("ws-replace"),n("ws-attr"),n("ws-onafterrender"),n("ws-var"),W(t,"[ws-on]",r=>{r.setAttribute("ws-on",_e(" ",Ae(s=>{let i;const l=he(s,[":"],1),o=(i=null,[e.TryGetValue(x(l,1),{get:()=>i,set:a=>{i=a}}),i]);return o[0]?x(l,0)+":"+o[1]:s},he(r.getAttribute("ws-on"),[" "],1))))}),W(t,"[ws-attr-holes]",r=>{const s=he(r.getAttribute("ws-attr-holes"),[" "],1);for(let i=0,l=s.length-1;i<=l;i++)(()=>{const o=x(s,i);return r.setAttribute(o,Ks((a,d)=>{const p=Se(d);return a.replace(new RegExp("\\${"+p[0]+"}","ig"),"${"+p[1]+"}")},r.getAttribute(o),e))})()})}function mn(t,e,n){for(;;)if(t.hasChildNodes())n=e.insertBefore(t.lastChild,n);else return null}function zn(t){const e=t.attributes,n=[],r=[],s=[];for(let l=0,o=e.length-1;l<=o;l++){const a=e.item(l);if(Gt(a.nodeName,"ws-on")&&a.nodeName!="ws-onafterrender"&&a.nodeName!="ws-on")n.push(a.nodeName),r.push(ye(a.nodeName,$(5),null)+":"+a.nodeValue.toLowerCase());else if(!Gt(a.nodeName,"ws-")&&new RegExp(nt()).test(a.nodeValue)){let d=new RegExp(nt(),"g"),p=a.nodeValue.replace(d,(y,g)=>"${"+g.toLowerCase()+"}");a.nodeValue=p,s.push(a.nodeName)}}r.length!=0&&t.setAttribute("ws-on",_e(" ",r)),s.length!=0&&t.setAttribute("ws-attr-holes",_e(" ",s));const i=l=>{const o=t.getAttribute(l);o==null||t.setAttribute(l,o.toLowerCase())};i("ws-hole"),i("ws-replace"),i("ws-attr"),i("ws-onafterrender"),i("ws-var"),Y(l=>{t.removeAttribute(l)},n)}function ye(t,e,n){if(e==null)if(n!=null&&n.$==1){const r=n.$0;return r<0?"":t.slice(0,r+1)}else return"";else{if(n==null)return t.slice(e.$0);{const r=n.$0,s=e.$0;return r<0?"":t.slice(s,r+1)}}}function Wi(t){const e=globalThis.document.createElement("div");if(ji().test(t)){let l=function(o,a){for(;;){if(a===0)return o;{const d=a;o=o.lastChild,a=d-1}}};const n=Bi().exec(t),r=C(n,null)?"":x(n,1).toLowerCase(),s=Mi()[r],i=s||Hi();return e.innerHTML=i[1]+t.replace(Ki(),"<$1></$2>")+i[2],(o=>{const a=o;return d=>l(a,d)})(e)(i[0])}else return e.appendChild(globalThis.document.createTextNode(t)),e}function wn(t){const e=[];for(let n=0,r=t.childNodes.length-1;n<=r;n++)e.push(t.childNodes[n]);return e}function ji(){return je.rhtml}function Mi(){return je.wrapMap}function Hi(){return je.defaultWrap}function Ki(){return je.rxhtmlTag}function Bi(){return je.rtagName}function zi(t,e,n){const r=t.querySelectorAll(e);for(let s=0,i=r.length-1;s<=i;s++)n(r[s])}function Zi(t,e){const n=globalThis.document.querySelectorAll(t);for(let r=0,s=n.length-1;r<=s;r++)e(n[r])}function Ji(t,e,n){let r;if(n.parentNode===t){const s=n.nextSibling;let i=C(s,null)?null:s;r=e===i}else r=!1;r||t.insertBefore(n,e)}function Qi(t,e){e.parentNode===t&&t.removeChild(e)}function Ut(){return j("The input sequence has an insufficient number of elements.")}function Xi(t,e){let n=!0,r=0;const s=I(e);for(;n&&r<s;)C(e[r],t)?n=!1:r=r+1;return!n}function Yi(){return j("The input must be non-negative.")}class eo extends M{constructor(n){super();u(this,"d");this.d=n}GetEnumerator(){return G(Pe(n=>n.K,this.d))}}function Zn(){return To()}function $n(t){return J(()=>ze(no(()=>{},Lo(t)),()=>(Do(t),Nt(null))))}function to(t,e){return zt(ur(t.$0,e.$0))}function no(t,e){const n=e.Duration;if(n===0)return _t();{const r=s=>{function i(l){return o=>{const a=o-l;return e.Compute(a),a<=n?void requestAnimationFrame(d=>{i(l)(d)}):s()}}requestAnimationFrame(l=>{i(l)(l)})};return qt((s,i,l)=>r.apply(null,[s,i,l]))}}function zt(t){return{$:0,$0:t}}function kt(t){return zt(Go(Pe(Io,t)))}function Lt(){return zt(dr())}function Jn(){return lr.BatchUpdatesEnabled}function ro(t){const e=[0];function n(){return J(()=>ze(t,()=>{const r=e[0];return C(r,1)?(e[0]=0,_t()):C(r,2)?(e[0]=1,n()):_t()}))}return()=>{const r=e[0];C(r,0)?(e[0]=1,oe(n())):C(r,1)&&(e[0]=2)}}function Qn(t,e,n,r){const s={DynElem:t,DynFlags:e,DynNodes:n};return Ye(s,"OnAfterRender",r),s}function Xn(t,e){const n=[],r=[];function s(o){for(;;)if(o!==null){if(o!=null&&o.$==1)return n.push(o.$0);if(o!=null&&o.$==2){const a=o.$1,d=o.$0;s(d),o=a}else return o!=null&&o.$==3?o.$0(t):o!=null&&o.$==4?r.push(o.$0):null}else return null}s(e);const i=n.slice(0);return Qn(t,Rt(e),i,r.length===0?null:$(o=>{Bs(a=>{a(o)},r)}))}function Yn(t){return xo(e=>e.NChanged,lt(),$t,t.DynNodes)}function Dt(t){return Qn(t,0,[],null)}function Rt(t){return t!==null&&t.hasOwnProperty("flags")?t.flags:0}function er(t,e){return K.A1(new Uo(t,e))}function tr(){return V.EmptyAttr}function so(t){return(t.DynFlags&2)===2}function io(t){return Zt(t,(e,n)=>e.NGetExitAnim(n))}function oo(t){return(t.DynFlags&1)===1}function lo(t){return Zt(t,(e,n)=>e.NGetEnterAnim(n))}function co(t){return(t.DynFlags&4)===4}function uo(t){return Zt(t,(e,n)=>e.NGetChangeAnim(n))}function nr(t,e){if(t===null)return e;if(e===null)return t;{const n=K.A2(t,e);return ao(n,Rt(t)|Rt(e)),n}}function Zt(t,e){return kt(Ae(n=>e(n,t.DynElem),t.DynNodes))}function rr(t,e){Y(n=>{n.NSync(t)},e.DynNodes)}function ao(t,e){t.flags=e}class ho extends B{constructor(){super(...arguments);u(this,"name");u(this,"fillWith")}get Value(){return this.fillWith}get Name(){return this.name}}class fo extends B{constructor(){super(...arguments);u(this,"name");u(this,"fillWith")}get Value(){return this.fillWith}get Name(){return this.name}}class po extends B{constructor(){super(...arguments);u(this,"name");u(this,"fillWith")}get Value(){return this.fillWith}get Name(){return this.name}}function go(t,e){return K.A3(n=>{n.addEventListener(t,r=>e(n)(r),!1)})}function bn(t){return K.A4(t)}function He(t,e){return er(e,n=>r=>n.setAttribute(t,r))}function mo(t){return We(cl(),t)}function wo(t){return We(ul(),t)}function $o(t){return We(al(),t)}function bo(t){return We(dl(),t)}function yo(t){return We(hl(),t)}function vo(t){return We(fl(),t)}function We(t,e){const n=t(e);return nr(K.A3(n[0]),Co(n[1],n[2]))}function Co(t,e){return er(e,t)}class K{constructor(){u(this,"$");u(this,"$0");u(this,"$1")}static HandlerImpl(e,n){return K.A3(r=>{r.addEventListener(e,s=>n(r)(s),!1)})}static Concat(e){const n=Tt(e);return St(tr(),(r,s)=>nr(r,s),n)}static Create(e,n){return K.A3(r=>{r.setAttribute(e,n)})}static A4(e){return le(K,{$:4,$0:e})}static A3(e){return le(K,{$:3,$0:e})}static A1(e){return le(K,{$:1,$0:e})}static A2(e,n){return le(K,{$:2,$0:e,$1:n})}}class Ao extends B{constructor(){super(...arguments);u(this,"name");u(this,"fillWith")}get Value(){return this.fillWith}get Name(){return this.name}}class No extends B{constructor(){super(...arguments);u(this,"name");u(this,"key");u(this,"fillWith")}get Value(){return this.fillWith}get Name(){return this.name}}function Jt(t){return{$:0,$0:t}}function ke(t){return{$:1,$0:t}}const Qe=class Qe{constructor(){u(this,"$");u(this,"$0");u(this,"$1")}static Cons(e,n){return le(Qe,{$:1,$0:e,$1:n})}GetEnumerator(){return new Ne(this,null,e=>{const n=e.s;if(n.$==0)return!1;{const r=n.$1;return e.c=n.$0,e.s=r,!0}},void 0)}};u(Qe,"Empty",le(Qe,{$:0}));let Ge=Qe;function St(t,e,n){const r=I(n);function s(i){return l=>{switch(l<=0?0:l===1&&i>=0&&i<r?1:2){case 0:return t;case 1:return x(n,i);case 2:const o=l/2>>0;return e(s(i)(o),s(i+o)(l-o))}}}return s(0)(r)}function xo(t,e,n,r){const s=I(r);function i(l){return o=>{switch(o<=0?0:o===1&&l>=0&&l<s?1:2){case 0:return e;case 1:return t(x(r,l));case 2:const a=o/2>>0;return n(i(l)(a),i(l+a)(o-a))}}}return i(0)(s)}function Tt(t){if(t instanceof Array)return t;if(t instanceof Ge)return Rn(t);if(t===null)return[];{const e=[],n=G(t);try{for(;n.MoveNext();)e.push(n.Current);return e}finally{const r=n;typeof r=="object"&&se(r)&&n.Dispose()}}}class bt{constructor(){u(this,"c");u(this,"s");u(this,"v")}static Create(e){let n;return n=null,n=bt.New(e,null,()=>{let r;return r=n.s,r===null&&(r=ds(n.c()),n.s=r,kn(r,()=>{n.s=null})),r}),n}static New(e,n,r){return le(bt,{c:e,s:n,v:r})}}class Eo extends M{constructor(n){super();u(this,"d");this.d=n}GetEnumerator(){return G(Pe(n=>n.V,this.d))}}function Po(t,e){return{PreviousNodes:t,Top:e}}function ko(){return ht(new ce("New_3"))}function sr(t){const e=[];function n(i,l){for(;;)switch(i){case 0:if(l!=null&&l.$==0){const o=l.$1,a=l.$0;n(0,a),l=o}else if(l!=null&&l.$==1)l=l.$0,i=1;else if(l!=null&&l.$==2)l=l.$0.Current;else if(l!=null&&l.$==6){const o=l.$0.Holes;return(a=>d=>{Y(a,d)})(s)(o)}else return null;break;case 1:e.push(l),l=l.Children,i=0;break}}function r(i){return n(0,i)}function s(i){return n(1,i)}return r(t),ht(new ce("New_2",e))}function ht(t){return{$:0,$0:t}}function Qt(t,e){return ht(Oo(t,e.$0))}function ir(t,e){return ht(qo(t.$0,e.$0))}function Xt(t){return Ue(t.$0)}function So(t,e){return ht(Wo(t.$0,e.$0))}function To(){return cr.UseAnimations}function Lo(t){return Vo(Mt(e=>e.$==1?$(e.$0):null,ar(t.$0)))}function Do(t){Y(e=>{e.$==0&&e.$0()},ar(t.$0))}function Vo(t){const e=Tt(t),n=I(e);if(n===0)return Fo();if(n===1)return x(e,0);{const r=Zs(Pe(i=>i.Duration,e)),s=Ae(i=>_o(r,i),e);return or(r,i=>{Y(l=>{l.Compute(i)},s)})}}function Io(t){return t.$0}function Fo(t){return or(0,()=>t)}function or(t,e){return{Compute:e,Duration:t}}function _o(t,e){const n=e.Compute,r=e.Duration,s=vl(()=>e.Compute(e.Duration));return{Compute:i=>i>=r?s.f():n(i),Duration:t}}let lr=pe(t=>{var e;return e=class{},lr=t(e),u(e,"BatchUpdatesEnabled"),e.BatchUpdatesEnabled=!0,e});function Vt(t){let e=[];for(var n in t)e.push.apply(e,t[n]);return e}let je=pe(t=>{var e;return e=class{},je=t(e),u(e,"defaultWrap"),u(e,"wrapMap"),u(e,"rhtml"),u(e,"rtagName"),u(e,"rxhtmlTag"),(()=>{e.rxhtmlTag=new RegExp("<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\\w:]+)[^>]*)\\/>","gi"),e.rtagName=new RegExp("<([\\w:]+)"),e.rhtml=new RegExp("<|&#?\\w+;");const r=[1,"<table>","</table>"];let s=Object.fromEntries([["option",[1,"<select multiple='multiple'>","</select>"]],["legend",[1,"<fieldset>","</fieldset>"]],["area",[1,"<map>","</map>"]],["param",[1,"<object>","</object>"]],["thead",r],["tbody",r],["tfoot",r],["tr",[2,"<table><tbody>","</tbody></table>"]],["col",[2,"<table><colgroup>","</colgoup></table>"]],["td",[3,"<table><tbody><tr>","</tr></tbody></table>"]]]);e.wrapMap=s,e.defaultWrap=[0,"",""]})(),e}),cr=pe(t=>{var e;return e=class{},cr=t(e),u(e,"UseAnimations"),u(e,"CubicInOut"),e.CubicInOut=Yt.Custom(r=>{const s=r*r;return 3*s-2*(s*r)}),e.UseAnimations=!0,e});function ur(t,e){return t.$==0?e:e.$==0?t:{$:2,$0:t,$1:e}}function ar(t){const e=[];function n(r){for(;;){if(r.$==1)return e.push(r.$0);if(r.$==2){const s=r.$1,i=r.$0;n(i),r=s}else return r.$==3?Y(s=>{e.push(s)},r.$0):null}}return n(t),e.slice(0)}function Go(t){const e=Tt(t);return St(dr(),ur,e)}function dr(){return fr.Empty}class Uo extends M{constructor(n,r){super();u(this,"push");u(this,"value");u(this,"dirty");u(this,"updates");this.push=r,this.value=void 0,this.dirty=!1,this.updates=R(s=>{this.value=s,this.dirty=!0},n)}get NChanged(){return this.updates}NGetExitAnim(n){return Lt()}NGetEnterAnim(n){return Lt()}NGetChangeAnim(n){return Lt()}NSync(n){this.dirty&&(this.push(n)(this.value),this.dirty=!1)}}class Ro extends Error{constructor(e,n){if(e=="New"&&(e="New_1",n="The given key was not present in the dictionary."),e=="New_1"){const r=n;super(r)}}}let V=pe(t=>{var e;return e=class{},V=t(e),u(e,"FloatApplyChecked"),u(e,"FloatGetChecked"),u(e,"FloatSetChecked"),u(e,"FloatApplyUnchecked"),u(e,"FloatGetUnchecked"),u(e,"FloatSetUnchecked"),u(e,"IntApplyChecked"),u(e,"IntGetChecked"),u(e,"IntSetChecked"),u(e,"IntApplyUnchecked"),u(e,"IntGetUnchecked"),u(e,"IntSetUnchecked"),u(e,"FileApplyUnchecked"),u(e,"FileGetUnchecked"),u(e,"FileSetUnchecked"),u(e,"DateTimeApplyUnchecked"),u(e,"DateTimeGetUnchecked"),u(e,"DateTimeSetUnchecked"),u(e,"StringListApply"),u(e,"StringListGet"),u(e,"StringListSet"),u(e,"StringApply"),u(e,"StringGet"),u(e,"StringSet"),u(e,"BoolCheckedApply"),u(e,"EmptyAttr"),(()=>{e.EmptyAttr=null,e.BoolCheckedApply=c=>[h=>{h.addEventListener("change",()=>c.Get()!=h.checked?c.Set(h.checked):null)},h=>f=>f!=null&&f.$==1?void(h.checked=f.$0):null,R(h=>$(h),c.View)],e.StringSet=c=>h=>{c.value=h},e.StringGet=c=>$(c.value);const r=Ko(),s=Ho();e.StringApply=c=>xe(r,s,c),e.StringListSet=c=>h=>{const f=c.options;for(let m=0,w=f.length-1;m<=w;m++)(()=>{const v=f.item(m);v.selected=Xi(v.value,h)})()},e.StringListGet=c=>{const h=c.selectedOptions;return $(rt(fn(()=>zs(f=>[h.item(f).value],cn(0,h.length-1)))))};const i=zo(),l=Bo();e.StringListApply=c=>xe(i,l,c),e.DateTimeSetUnchecked=c=>h=>{c.value=new Date(h).toLocaleString()},e.DateTimeGetUnchecked=c=>{let h,f;const m=c.value;if(Ke(m))return $(-864e13);{h=0;const w=bl(m);return f=[w!=null&&w.$==1&&(h=w.$0,!0),h],f[0]?$(f[1]):null}};const o=Jo(),a=Zo();e.DateTimeApplyUnchecked=c=>xe(o,a,c),e.FileSetUnchecked=()=>()=>null,e.FileGetUnchecked=c=>{const h=c.files;return $(rt(fn(()=>Pe(f=>h.item(f),cn(0,h.length-1)))))};const d=Yo(),p=Xo();e.FileApplyUnchecked=c=>Qo(d,p,c),e.IntSetUnchecked=c=>h=>{c.value=String(h)},e.IntGetUnchecked=c=>{const h=c.value;if(Ke(h))return $(0);{const f=+h;return f!==f>>0?null:$(f)}};const y=tl(),g=el();e.IntApplyUnchecked=c=>xe(y,g,c),e.IntSetChecked=c=>h=>{const f=h.Input;return c.value!=f?void(c.value=f):null},e.IntGetChecked=c=>{let h,f;const m=c.value;if(Ke(m))h=!c.checkValidity||c.checkValidity()?re.Blank(m):re.Invalid(m);else{const w=(f=0,[hi(m,{get:()=>f,set:v=>{f=v}}),f]);h=w[0]?re.Valid(w[1],m):re.Invalid(m)}return $(h)};const b=rl(),S=nl();e.IntApplyChecked=c=>xe(b,S,c),e.FloatSetUnchecked=c=>h=>{c.value=String(h)},e.FloatGetUnchecked=c=>{const h=c.value;if(Ke(h))return $(0);{const f=+h;return isNaN(f)?null:$(f)}};const F=il(),D=sl();e.FloatApplyUnchecked=c=>xe(F,D,c),e.FloatSetChecked=c=>h=>{const f=h.Input;return c.value!=f?void(c.value=f):null},e.FloatGetChecked=c=>{let h;const f=c.value;if(Ke(f))h=!c.checkValidity||c.checkValidity()?re.Blank(f):re.Invalid(f);else{const m=+f;h=isNaN(m)?re.Invalid(f):re.Valid(m,f)}return $(h)};const N=ll(),k=ol();e.FloatApplyChecked=c=>xe(N,k,c)})(),e});class Yt extends M{constructor(n){super();u(this,"transformTime");this.transformTime=n}static Custom(n){return new Yt(n)}}function Oo(t,e){return new ce("New_2",at(t,Ue(e)))}function qo(t,e){const n=new ce("New_2",Ue(e));return n.ExceptWith(Ue(t)),n}function Ue(t){const e=ii(t.Count,void 0);return t.CopyTo(e,0),e}function Wo(t,e){const n=new ce("New_2",Ue(t));return n.IntersectWith(Ue(e)),n}function jo(t){return t.$==1?t.$0:hr()}function Mo(t){return t.$==1?t.$1:hr()}function hr(){return j("The input list was empty.")}function xe(t,e,n){let r;return r=null,[s=>{const i=()=>{n.UpdateMaybe(l=>{let o;return r=t(s),r!=null&&r.$==1&&!C(r.$0,l)&&(o=[r,r.$0],!0)?o[0]:null})};s.addEventListener("change",i),s.addEventListener("input",i),s.addEventListener("keypress",i)},s=>{const i=e(s);return l=>l==null?null:i(l.$0)},R(s=>r!=null&&r.$==1&&C(r.$0,s)&&(r.$0,!0)?null:$(s),n.View)]}function Ho(){return V.StringSet}function Ko(){return V.StringGet}function Bo(){return V.StringListSet}function zo(){return V.StringListGet}function Zo(){return V.DateTimeSetUnchecked}function Jo(){return V.DateTimeGetUnchecked}function Qo(t,e,n){let r;return r=null,[s=>{s.addEventListener("change",()=>{n.UpdateMaybe(i=>{let l;return r=t(s),r!=null&&r.$==1&&r.$0!==i&&(l=[r,r.$0],!0)?l[0]:null})})},s=>{const i=e(s);return l=>l==null?null:i(l.$0)},R(s=>r!=null&&r.$==1&&C(r.$0,s)&&(r.$0,!0)?null:$(s),n.View)]}function Xo(){return V.FileSetUnchecked}function Yo(){return V.FileGetUnchecked}function el(){return V.IntSetUnchecked}function tl(){return V.IntGetUnchecked}function nl(){return V.IntSetChecked}function rl(){return V.IntGetChecked}function sl(){return V.FloatSetUnchecked}function il(){return V.FloatGetUnchecked}function ol(){return V.FloatSetChecked}function ll(){return V.FloatGetChecked}function cl(){return V.StringApply}function ul(){return V.FloatApplyUnchecked}function al(){return V.BoolCheckedApply}function dl(){return V.DateTimeApplyUnchecked}function hl(){return V.FileApplyUnchecked}function fl(){return V.StringListApply}function Ke(t){return Ls($l,t)}class re{constructor(){u(this,"$");u(this,"$0");u(this,"$1")}get Input(){return this.$==1?this.$0:this.$==2?this.$0:this.$1}static Blank(e){return le(re,{$:2,$0:e})}static Invalid(e){return le(re,{$:1,$0:e})}static Valid(e,n){return le(re,{$:0,$0:e,$1:n})}}function pl(t,e){let n;if(e!=null&&e.$==1){const r=e.$0[1],s=e.$0[0],i=[];for(n=s.nextSibling;n!==r;)i.push(n),n=n.nextSibling;return yt(i)}else{let r=t.childNodes.length;const s=t.childNodes;let i=oi(r,l=>s[l]);return yt(i)}}function gl(t,e){const n=t.$0;return yt(at(r=>On(s=>r!==s,n),e.$0))}function ml(t,e){Y(t,e.$0)}function wl(t){const e=[];function n(r){for(;;)if(r!=null&&r.$==2)r=r.$0.Current;else{if(r!=null&&r.$==1)return e.push(r.$0.El);if(r==null)return null;if(r!=null&&r.$==5)return e.push(r.$0);if(r!=null&&r.$==4)return e.push(r.$0.Text);if(r!=null&&r.$==6){const s=r.$0.Els;return(i=>l=>{Y(i,l)})(i=>{i==null||i.constructor===Object?n(i):e.push(i)})(s)}else{const s=r.$1,i=r.$0;n(i),r=s}}}return n(t.Children),yt(Tt(e))}function yt(t){return{$:0,$0:t}}function $l(t){return t.match(new RegExp("\\s"))!==null}function bl(t){const e=Date.parse(t);return isNaN(e)?null:$(e)}function yl(t,e,n,r){const s=+t,i=s===s-s%1&&s>=e&&s<=n;return i&&r.set(s),i}function vl(t){return xl(!1,t,Cl)}function Cl(){const t=this.v();return this.c=!0,this.v=t,this.f=Al,t}function Al(){return this.v}let fr=pe(t=>{var e;return e=class{},fr=t(e),u(e,"Empty"),e.Empty={$:0},e});function Nl(t){t.splice(0,I(t))}function xl(t,e,n){return{c:t,v:e,f:n}}Ur();export{be as B,Le as C,vt as W,De as _,on as a,Pl as b,kl as g,ve as r};
