const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/web-BC5_87za.js","assets/base-CfYYtOp-.js","assets/native-D1B_d48-.js"])))=>i.map(i=>d[i]);
var Rr=Object.defineProperty;var Or=(t,e,r)=>e in t?Rr(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var a=(t,e,r)=>Or(t,typeof e!="symbol"?e+"":e,r);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();document.write("");function le(t,e){return Object.assign(Object.create(t.prototype),e)}const Cn=Symbol("force");function M(t){t[Cn]}function C(t){var e;function r(){return e||(e=t(s=>e=s)),e}return new Proxy(Function(),{get(s,i){return i==Cn&&r(),r()[i]},set(s,i,o){return r()[i]=o,!0},construct(s,i,o){return Reflect.construct(r(),i,o)}})}function Wr(t,e){for(var r=0;r<e.length;r++){var n=e[r];t[n]===void 0&&delete t[n]}return t}function Ye(t){return t===void 0?null:{$:1,$0:t}}function _e(t,e,r){r?t[e]=r.$0:delete t[e]}function qr(t){return function(...e){return t(e)}}function Mr(t){return Object.defineProperty(t,"resizable",{enumerable:!1,writable:!1,configurable:!1,value:!0}),t}let gt=[];function Hr(t){gt.push(t)}function jr(){for(var t=0;t<gt.length;t++)gt[t]();gt=[]}/*! Capacitor: https://capacitorjs.com/ - MIT License */const Kr=t=>{const e=new Map;e.set("web",{name:"web"});const r=t.CapacitorPlatforms||{currentPlatform:{name:"web"},platforms:e},n=(i,o)=>{r.platforms.set(i,o)},s=i=>{r.platforms.has(i)&&(r.currentPlatform=r.platforms.get(i))};return r.addPlatform=n,r.setPlatform=s,r},Br=t=>t.CapacitorPlatforms=Kr(t),An=Br(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});An.addPlatform;An.setPlatform;var Ge;(function(t){t.Unimplemented="UNIMPLEMENTED",t.Unavailable="UNAVAILABLE"})(Ge||(Ge={}));class Ve extends Error{constructor(e,r,n){super(e),this.message=e,this.code=r,this.data=n}}const zr=t=>{var e,r;return t!=null&&t.androidBridge?"android":!((r=(e=t==null?void 0:t.webkit)===null||e===void 0?void 0:e.messageHandlers)===null||r===void 0)&&r.bridge?"ios":"web"},Jr=t=>{var e,r,n,s,i;const o=t.CapacitorCustomPlatform||null,l=t.Capacitor||{},c=l.Plugins=l.Plugins||{},d=t.CapacitorPlatforms,f=()=>o!==null?o.name:zr(t),$=((e=d==null?void 0:d.currentPlatform)===null||e===void 0?void 0:e.getPlatform)||f,p=()=>$()!=="web",v=((r=d==null?void 0:d.currentPlatform)===null||r===void 0?void 0:r.isNativePlatform)||p,T=m=>{const y=h.get(m);return!!(y!=null&&y.platforms.has($())||N(m))},U=((n=d==null?void 0:d.currentPlatform)===null||n===void 0?void 0:n.isPluginAvailable)||T,I=m=>{var y;return(y=l.PluginHeaders)===null||y===void 0?void 0:y.find(k=>k.name===m)},N=((s=d==null?void 0:d.currentPlatform)===null||s===void 0?void 0:s.getPluginHeader)||I,L=m=>t.console.error(m),u=(m,y,k)=>Promise.reject(`${k} does not have an implementation of "${y}".`),h=new Map,g=(m,y={})=>{const k=h.get(m);if(k)return console.warn(`Capacitor plugin "${m}" already registered. Cannot register plugins twice.`),k.proxy;const P=$(),D=N(m);let E;const V=async()=>(!E&&P in y?E=typeof y[P]=="function"?E=await y[P]():E=y[P]:o!==null&&!E&&"web"in y&&(E=typeof y.web=="function"?E=await y.web():E=y.web),E),W=(j,B)=>{var J,re;if(D){const ie=D==null?void 0:D.methods.find(X=>B===X.name);if(ie)return ie.rtype==="promise"?X=>l.nativePromise(m,B.toString(),X):(X,pe)=>l.nativeCallback(m,B.toString(),X,pe);if(j)return(J=j[B])===null||J===void 0?void 0:J.bind(j)}else{if(j)return(re=j[B])===null||re===void 0?void 0:re.bind(j);throw new Ve(`"${m}" plugin is not implemented on ${P}`,Ge.Unimplemented)}},R=j=>{let B;const J=(...re)=>{const ie=V().then(X=>{const pe=W(X,j);if(pe){const ve=pe(...re);return B=ve==null?void 0:ve.remove,ve}else throw new Ve(`"${m}.${j}()" is not implemented on ${P}`,Ge.Unimplemented)});return j==="addListener"&&(ie.remove=async()=>B()),ie};return J.toString=()=>`${j.toString()}() { [capacitor code] }`,Object.defineProperty(J,"name",{value:j,writable:!1,configurable:!1}),J},Q=R("addListener"),ne=R("removeListener"),be=(j,B)=>{const J=Q({eventName:j},B),re=async()=>{const X=await J;ne({eventName:j,callbackId:X},B)},ie=new Promise(X=>J.then(()=>X({remove:re})));return ie.remove=async()=>{console.warn("Using addListener() without 'await' is deprecated."),await re()},ie},$e=new Proxy({},{get(j,B){switch(B){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return D?be:Q;case"removeListener":return ne;default:return R(B)}}});return c[m]=$e,h.set(m,{name:m,proxy:$e,platforms:new Set([...Object.keys(y),...D?[P]:[]])}),$e},w=((i=d==null?void 0:d.currentPlatform)===null||i===void 0?void 0:i.registerPlugin)||g;return l.convertFileSrc||(l.convertFileSrc=m=>m),l.getPlatform=$,l.handleError=L,l.isNativePlatform=v,l.isPluginAvailable=U,l.pluginMethodNoop=u,l.registerPlugin=w,l.Exception=Ve,l.DEBUG=!!l.DEBUG,l.isLoggingEnabled=!!l.isLoggingEnabled,l.platform=l.getPlatform(),l.isNative=l.isNativePlatform(),l},Zr=t=>t.Capacitor=Jr(t),wt=Zr(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),Ae=wt.registerPlugin;wt.Plugins;class Nt{constructor(e){this.listeners={},this.retainedEventArguments={},this.windowListeners={},e&&(console.warn(`Capacitor WebPlugin "${e.name}" config object was deprecated in v3 and will be removed in v4.`),this.config=e)}addListener(e,r){let n=!1;this.listeners[e]||(this.listeners[e]=[],n=!0),this.listeners[e].push(r);const i=this.windowListeners[e];i&&!i.registered&&this.addWindowListener(i),n&&this.sendRetainedArgumentsForEvent(e);const o=async()=>this.removeListener(e,r);return Promise.resolve({remove:o})}async removeAllListeners(){this.listeners={};for(const e in this.windowListeners)this.removeWindowListener(this.windowListeners[e]);this.windowListeners={}}notifyListeners(e,r,n){const s=this.listeners[e];if(!s){if(n){let i=this.retainedEventArguments[e];i||(i=[]),i.push(r),this.retainedEventArguments[e]=i}return}s.forEach(i=>i(r))}hasListeners(e){return!!this.listeners[e].length}registerWindowListener(e,r){this.windowListeners[r]={registered:!1,windowEventName:e,pluginEventName:r,handler:n=>{this.notifyListeners(r,n)}}}unimplemented(e="not implemented"){return new wt.Exception(e,Ge.Unimplemented)}unavailable(e="not available"){return new wt.Exception(e,Ge.Unavailable)}async removeListener(e,r){const n=this.listeners[e];if(!n)return;const s=n.indexOf(r);this.listeners[e].splice(s,1),this.listeners[e].length||this.removeWindowListener(this.windowListeners[e])}addWindowListener(e){window.addEventListener(e.windowEventName,e.handler),e.registered=!0}removeWindowListener(e){e&&(window.removeEventListener(e.windowEventName,e.handler),e.registered=!1)}sendRetainedArgumentsForEvent(e){const r=this.retainedEventArguments[e];r&&(delete this.retainedEventArguments[e],r.forEach(n=>{this.notifyListeners(e,n)}))}}const nn=t=>encodeURIComponent(t).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),rn=t=>t.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class Qr extends Nt{async getCookies(){const e=document.cookie,r={};return e.split(";").forEach(n=>{if(n.length<=0)return;let[s,i]=n.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");s=rn(s).trim(),i=rn(i).trim(),r[s]=i}),r}async setCookie(e){try{const r=nn(e.key),n=nn(e.value),s=`; expires=${(e.expires||"").replace("expires=","")}`,i=(e.path||"/").replace("path=",""),o=e.url!=null&&e.url.length>0?`domain=${e.url}`:"";document.cookie=`${r}=${n||""}${s}; path=${i}; ${o};`}catch(r){return Promise.reject(r)}}async deleteCookie(e){try{document.cookie=`${e.key}=; Max-Age=0`}catch(r){return Promise.reject(r)}}async clearCookies(){try{const e=document.cookie.split(";")||[];for(const r of e)document.cookie=r.replace(/^ +/,"").replace(/=.*/,`=;expires=${new Date().toUTCString()};path=/`)}catch(e){return Promise.reject(e)}}async clearAllCookies(){try{await this.clearCookies()}catch(e){return Promise.reject(e)}}}const Xr=Ae("CapacitorCookies",{web:()=>new Qr}),Yr=async t=>new Promise((e,r)=>{const n=new FileReader;n.onload=()=>{const s=n.result;e(s.indexOf(",")>=0?s.split(",")[1]:s)},n.onerror=s=>r(s),n.readAsDataURL(t)}),_r=(t={})=>{const e=Object.keys(t);return Object.keys(t).map(s=>s.toLocaleLowerCase()).reduce((s,i,o)=>(s[i]=t[e[o]],s),{})},es=(t,e=!0)=>t?Object.entries(t).reduce((n,s)=>{const[i,o]=s;let l,c;return Array.isArray(o)?(c="",o.forEach(d=>{l=e?encodeURIComponent(d):d,c+=`${i}=${l}&`}),c.slice(0,-1)):(l=e?encodeURIComponent(o):o,c=`${i}=${l}`),`${n}&${c}`},"").substr(1):null,ts=(t,e={})=>{const r=Object.assign({method:t.method||"GET",headers:t.headers},e),s=_r(t.headers)["content-type"]||"";if(typeof t.data=="string")r.body=t.data;else if(s.includes("application/x-www-form-urlencoded")){const i=new URLSearchParams;for(const[o,l]of Object.entries(t.data||{}))i.set(o,l);r.body=i.toString()}else if(s.includes("multipart/form-data")||t.data instanceof FormData){const i=new FormData;if(t.data instanceof FormData)t.data.forEach((l,c)=>{i.append(c,l)});else for(const l of Object.keys(t.data))i.append(l,t.data[l]);r.body=i;const o=new Headers(r.headers);o.delete("content-type"),r.headers=o}else(s.includes("application/json")||typeof t.data=="object")&&(r.body=JSON.stringify(t.data));return r};class ns extends Nt{async request(e){const r=ts(e,e.webFetchExtra),n=es(e.params,e.shouldEncodeUrlParams),s=n?`${e.url}?${n}`:e.url,i=await fetch(s,r),o=i.headers.get("content-type")||"";let{responseType:l="text"}=i.ok?e:{};o.includes("application/json")&&(l="json");let c,d;switch(l){case"arraybuffer":case"blob":d=await i.blob(),c=await Yr(d);break;case"json":c=await i.json();break;case"document":case"text":default:c=await i.text()}const f={};return i.headers.forEach(($,p)=>{f[p]=$}),{data:c,headers:f,status:i.status,url:i.url}}async get(e){return this.request(Object.assign(Object.assign({},e),{method:"GET"}))}async post(e){return this.request(Object.assign(Object.assign({},e),{method:"POST"}))}async put(e){return this.request(Object.assign(Object.assign({},e),{method:"PUT"}))}async patch(e){return this.request(Object.assign(Object.assign({},e),{method:"PATCH"}))}async delete(e){return this.request(Object.assign(Object.assign({},e),{method:"DELETE"}))}}Ae("CapacitorHttp",{web:()=>new ns});var De;(function(t){t.Prompt="PROMPT",t.Camera="CAMERA",t.Photos="PHOTOS"})(De||(De={}));var Je;(function(t){t.Rear="REAR",t.Front="FRONT"})(Je||(Je={}));var sn;(function(t){t.Uri="uri",t.Base64="base64",t.DataUrl="dataUrl"})(sn||(sn={}));class Nn extends Nt{async getPhoto(e){return new Promise(async(r,n)=>{if(e.webUseInput||e.source===De.Photos)this.fileInputExperience(e,r,n);else if(e.source===De.Prompt){let s=document.querySelector("pwa-action-sheet");s||(s=document.createElement("pwa-action-sheet"),document.body.appendChild(s)),s.header=e.promptLabelHeader||"Photo",s.cancelable=!1,s.options=[{title:e.promptLabelPhoto||"From Photos"},{title:e.promptLabelPicture||"Take Picture"}],s.addEventListener("onSelection",async i=>{i.detail===0?this.fileInputExperience(e,r,n):this.cameraExperience(e,r,n)})}else this.cameraExperience(e,r,n)})}async pickImages(e){return new Promise(async(r,n)=>{this.multipleFileInputExperience(r,n)})}async cameraExperience(e,r,n){if(customElements.get("pwa-camera-modal")){const s=document.createElement("pwa-camera-modal");s.facingMode=e.direction===Je.Front?"user":"environment",document.body.appendChild(s);try{await s.componentOnReady(),s.addEventListener("onPhoto",async i=>{const o=i.detail;o===null?n(new Ve("User cancelled photos app")):o instanceof Error?n(o):r(await this._getCameraPhoto(o,e)),s.dismiss(),document.body.removeChild(s)}),s.present()}catch{this.fileInputExperience(e,r,n)}}else console.error("Unable to load PWA Element 'pwa-camera-modal'. See the docs: https://capacitorjs.com/docs/web/pwa-elements."),this.fileInputExperience(e,r,n)}fileInputExperience(e,r,n){let s=document.querySelector("#_capacitor-camera-input");const i=()=>{var o;(o=s.parentNode)===null||o===void 0||o.removeChild(s)};s||(s=document.createElement("input"),s.id="_capacitor-camera-input",s.type="file",s.hidden=!0,document.body.appendChild(s),s.addEventListener("change",o=>{const l=s.files[0];let c="jpeg";if(l.type==="image/png"?c="png":l.type==="image/gif"&&(c="gif"),e.resultType==="dataUrl"||e.resultType==="base64"){const d=new FileReader;d.addEventListener("load",()=>{if(e.resultType==="dataUrl")r({dataUrl:d.result,format:c});else if(e.resultType==="base64"){const f=d.result.split(",")[1];r({base64String:f,format:c})}i()}),d.readAsDataURL(l)}else r({webPath:URL.createObjectURL(l),format:c}),i()}),s.addEventListener("cancel",o=>{n(new Ve("User cancelled photos app")),i()})),s.accept="image/*",s.capture=!0,e.source===De.Photos||e.source===De.Prompt?s.removeAttribute("capture"):e.direction===Je.Front?s.capture="user":e.direction===Je.Rear&&(s.capture="environment"),s.click()}multipleFileInputExperience(e,r){let n=document.querySelector("#_capacitor-camera-input-multiple");const s=()=>{var i;(i=n.parentNode)===null||i===void 0||i.removeChild(n)};n||(n=document.createElement("input"),n.id="_capacitor-camera-input-multiple",n.type="file",n.hidden=!0,n.multiple=!0,document.body.appendChild(n),n.addEventListener("change",i=>{const o=[];for(let l=0;l<n.files.length;l++){const c=n.files[l];let d="jpeg";c.type==="image/png"?d="png":c.type==="image/gif"&&(d="gif"),o.push({webPath:URL.createObjectURL(c),format:d})}e({photos:o}),s()}),n.addEventListener("cancel",i=>{r(new Ve("User cancelled photos app")),s()})),n.accept="image/*",n.click()}_getCameraPhoto(e,r){return new Promise((n,s)=>{const i=new FileReader,o=e.type.split("/")[1];r.resultType==="uri"?n({webPath:URL.createObjectURL(e),format:o,saved:!1}):(i.readAsDataURL(e),i.onloadend=()=>{const l=i.result;r.resultType==="dataUrl"?n({dataUrl:l,format:o,saved:!1}):n({base64String:l.split(",")[1],format:o,saved:!1})},i.onerror=l=>{s(l)})})}async checkPermissions(){if(typeof navigator>"u"||!navigator.permissions)throw this.unavailable("Permissions API not available in this browser");try{return{camera:(await window.navigator.permissions.query({name:"camera"})).state,photos:"granted"}}catch{throw this.unavailable("Camera permissions are not available in this browser")}}async requestPermissions(){throw this.unimplemented("Not implemented on web.")}async pickLimitedLibraryPhotos(){throw this.unavailable("Not implemented on web.")}async getLimitedLibraryPhotos(){throw this.unavailable("Not implemented on web.")}}new Nn;const rs=Ae("Camera",{web:()=>new Nn});class ss extends Nt{async write(e){if(typeof navigator>"u"||!navigator.clipboard)throw this.unavailable("Clipboard API not available in this browser");if(e.string!==void 0)await this.writeText(e.string);else if(e.url)await this.writeText(e.url);else if(e.image)if(typeof ClipboardItem<"u")try{const r=await(await fetch(e.image)).blob(),n=new ClipboardItem({[r.type]:r});await navigator.clipboard.write([n])}catch{throw new Error("Failed to write image")}else throw this.unavailable("Writing images to the clipboard is not supported in this browser");else throw new Error("Nothing to write")}async read(){if(typeof navigator>"u"||!navigator.clipboard)throw this.unavailable("Clipboard API not available in this browser");if(typeof ClipboardItem<"u")try{const e=await navigator.clipboard.read(),r=e[0].types[0],n=await e[0].getType(r);return{value:await this._getBlobData(n,r),type:r}}catch{return this.readText()}else return this.readText()}async readText(){if(typeof navigator>"u"||!navigator.clipboard||!navigator.clipboard.readText)throw this.unavailable("Reading from clipboard not supported in this browser");return{value:await navigator.clipboard.readText(),type:"text/plain"}}async writeText(e){if(typeof navigator>"u"||!navigator.clipboard||!navigator.clipboard.writeText)throw this.unavailable("Writting to clipboard not supported in this browser");await navigator.clipboard.writeText(e)}_getBlobData(e,r){return new Promise((n,s)=>{const i=new FileReader;r.includes("image")?i.readAsDataURL(e):i.readAsText(e),i.onloadend=()=>{const o=i.result;n(o)},i.onerror=o=>{s(o)}})}}const is=Ae("Clipboard",{web:()=>new ss}),os="modulepreload",ls=function(t){return"/Capacitor/"+t},on={},Ie=function(e,r,n){let s=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),o=(i==null?void 0:i.nonce)||(i==null?void 0:i.getAttribute("nonce"));s=Promise.all(r.map(l=>{if(l=ls(l),l in on)return;on[l]=!0;const c=l.endsWith(".css"),d=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${d}`))return;const f=document.createElement("link");if(f.rel=c?"stylesheet":os,c||(f.as="script",f.crossOrigin=""),f.href=l,o&&f.setAttribute("nonce",o),document.head.appendChild(f),c)return new Promise(($,p)=>{f.addEventListener("load",$),f.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${l}`)))})}))}return s.then(()=>e()).catch(i=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=i,window.dispatchEvent(o),!o.defaultPrevented)throw i})},xn=Ae("Dialog",{web:()=>Ie(()=>import("./web-SfVjX8b-.js"),[]).then(t=>new t.DialogWeb)}),En=Ae("Preferences",{web:()=>Ie(()=>import("./web-BfLgm2jg.js"),[]).then(t=>new t.PreferencesWeb)});var ye;(function(t){t[t.none=0]="none",t[t.touchId=1]="touchId",t[t.faceId=2]="faceId",t[t.fingerprintAuthentication=3]="fingerprintAuthentication",t[t.faceAuthentication=4]="faceAuthentication",t[t.irisAuthentication=5]="irisAuthentication"})(ye||(ye={}));var ln;(function(t){t[t.weak=0]="weak",t[t.strong=1]="strong"})(ln||(ln={}));var cn;(function(t){t.none="",t.appCancel="appCancel",t.authenticationFailed="authenticationFailed",t.invalidContext="invalidContext",t.notInteractive="notInteractive",t.passcodeNotSet="passcodeNotSet",t.systemCancel="systemCancel",t.userCancel="userCancel",t.userFallback="userFallback",t.biometryLockout="biometryLockout",t.biometryNotAvailable="biometryNotAvailable",t.biometryNotEnrolled="biometryNotEnrolled",t.noDeviceCredential="noDeviceCredential"})(cn||(cn={}));class Ll{constructor(e,r){this.message=e,this.code=r}}const cs={[ye.none]:"",[ye.touchId]:"Touch ID",[ye.faceId]:"Face ID",[ye.fingerprintAuthentication]:"Fingerprint Authentication",[ye.faceAuthentication]:"Face Authentication",[ye.irisAuthentication]:"Iris Authentication"};function kl(t){return cs[t]||""}const Ut=Ae("BiometricAuthNative",{web:async()=>Ie(()=>import("./web-BC5_87za.js"),__vite__mapDeps([0,1])).then(t=>new t.BiometricAuthWeb),ios:async()=>Ie(()=>import("./native-D1B_d48-.js"),__vite__mapDeps([2,1])).then(t=>new t.BiometricAuthNative(Ut)),android:async()=>Ie(()=>import("./native-D1B_d48-.js"),__vite__mapDeps([2,1])).then(t=>new t.BiometricAuthNative(Ut))});var un;(function(t){t[t.Sunday=1]="Sunday",t[t.Monday=2]="Monday",t[t.Tuesday=3]="Tuesday",t[t.Wednesday=4]="Wednesday",t[t.Thursday=5]="Thursday",t[t.Friday=6]="Friday",t[t.Saturday=7]="Saturday"})(un||(un={}));const Pn=Ae("LocalNotifications",{web:()=>Ie(()=>import("./web-ChlO-_5a.js"),[]).then(t=>new t.LocalNotificationsWeb)});function se(t){return"Dispose"in t}function us(){const t=q.Create_1(""),e=q.Create_1(""),r=q.Create_1(""),n=q.Create_1(""),s=q.Create_1(""),i=q.Create_1(""),o=q.Create_1(""),l=new kn("New_1"),c=(l.h.push(de(l.k,"takephoto",()=>l.i,()=>{oe(Y(()=>he(ds().then(V=>q.Set(i,String(Js(V.base64String,0,20)))))))})),l),d=(c.h.push(new ke("cameraoutput",i.View)),c),f=(d.h.push(new $t("clipboardvalue",n)),d),$=(f.h.push(de(f.k,"writeclipboard",()=>f.i,()=>{oe(Y(()=>he(hs(n.Get()).then(()=>q.Set(s,"Successfully write '"+String(n.Get())+"' to clipboard")))))})),f),p=($.h.push(new ke("writeclipboardoutput",s.View)),$),v=(p.h.push(de(p.k,"setcookies",()=>p.i,()=>{oe(Y(()=>he(fs().then(()=>(W=>{console.log(W)})("Successfully Set Cookies")))))})),p),T=(v.h.push(de(v.k,"showalert",()=>v.i,()=>{oe(Y(()=>he(gs().then(()=>(W=>{console.log(W)})("Successfully Show Alert")))))})),v),U=(T.h.push(de(T.k,"showconfirm",()=>T.i,()=>{oe(Y(()=>he(ps().then(()=>(W=>{console.log(W)})("Successfully Show Confirm")))))})),T),I=(U.h.push(new $t("preferencesvalue",t)),U),N=(I.h.push(de(I.k,"save",()=>I.i,()=>{oe(Y(()=>he(ws(t.Get()).then(()=>q.Set(e,"Save '"+String(t.Get())+"' Successfully")))))})),I),L=(N.h.push(new ke("preferencessavedvalue",e.View)),N),u=(L.h.push(de(L.k,"get",()=>L.i,()=>{oe(Y(()=>he(ms().then(V=>q.Set(r,"Value: "+String(V.value))))))})),L),h=(u.h.push(new ke("preferencesoutput",r.View)),u),g=(h.h.push(de(h.k,"login",()=>h.i,()=>{oe(Y(()=>he(bs().then(()=>q.Set(o,"Finger print log in")))))})),h),w=(g.h.push(new ke("loginoutput",o.View)),g),m=(w.h.push(de(w.k,"notification",()=>w.i,()=>{oe(Y(()=>he($s().then(()=>(W=>{console.log(W)})("Scheduled notification complete")))))})),w),y=(m.h.push(de(m.k,"deliverednotification",()=>m.i,()=>{oe(Y(()=>he(vs().then(V=>alert(JSON.stringify(V))))))})),m),k=as(y.k,y.h,[["clipboardvalue",0,null],["preferencesvalue",0,null]]),P=new Sn(k[1],Ps(k[0])),E=(y.i=P,P).Doc;Un(""),ee.RunById("main",E)}let K=C(t=>{var e;return e=class{Equals(n){return this===n}GetHashCode(){return-1}},K=t(e),e}),q=C(t=>{var e;return e=class extends K{static Create_1(n){return new Vn(!1,{s:Tt(n,[])},n)}static Set(n,s){n.Set(s)}},q=t(e),e});function Z(t){throw new Error(t)}function Le(t){return[t.K,t.V]}function an(t,e){const r=1+e-t;return r<=0?[]:mi(r,n=>n+t)}let Sn=C(t=>{var e;return e=class extends K{constructor(s,i){super();a(this,"doc");a(this,"allVars");a(this,"anchorRoot");this.doc=i,this.allVars=s.$==0?s.$0:Z("Should not happen"),this.anchorRoot=null}get Doc(){return this.doc}SetAnchorRoot(s){this.anchorRoot=s}},Sn=t(e),e});function x(t,e){return Ln(t,e),t[e]}function Tn(t,e,r){Ln(t,e),t[e]=r}function Ln(t,e){(e<0||e>=t.length)&&Z("Index was outside the bounds of the array.")}function G(t){return t.dims===2?t.length*t.length:t.length}let kn=C(t=>{var r;return r=class extends K{constructor(i){var s=(...e)=>(super(...e),a(this,"i"),a(this,"k"),a(this,"h"),a(this,"s"),this);if(i=="New_1"){let o;s(),this.i=null,this.k=(o=Ms(),String(o)),this.h=Mr([]),_e(this,"s",null)}}static New_1(){return new this("New_1")}},kn=t(r),r}),S=C(t=>{var e;return e=class extends K{ForTextView(){return console.warn("Content hole filled with attribute data",this.Name),null}AddAttribute(n,s){console.warn("Var hole filled with non-Var data",this.Name)}get AsChoiceView(){return console.warn("Attribute value hole filled with non-text data",this.Name),_t("")}},S=t(e),e}),Rt=C(t=>{var e;return e=class extends K{},Rt=t(e),e});function de(t,e,r,n){return new Ht(e,s=>i=>{const o=r();return o.SetAnchorRoot(s),n({Vars:o,Anchors:o,Target:s,Event:i})})}function as(t,e,r){const n=new ce("New_5"),s=new ae("New_3"),i=O(e);try{for(;i.MoveNext();){const o=i.Current,l=o.Name;s.SAdd(l),n.set_Item(l,o)}}finally{typeof i=="object"&&se(i)&&i.Dispose()}return[qn(e,zt(o=>{const l=o[0],c=o[1],d=o[2];if(s.Contains(l))return null;{const f=c===0?_.GetOrAddHoleFor(t,l,()=>{const $=d==null?null:b(d.$0);let p=q.Create_1($==null?"":$.$0);return new $t(l,p)}):c===1?_.GetOrAddHoleFor(t,l,()=>{const $=d==null?null:b(d.$0);let p=q.Create_1($==null?0:$.$0);return new zn(l,p)}):c===2?_.GetOrAddHoleFor(t,l,()=>{const $=d==null?null:b(d.$0);let p=q.Create_1($==null?!1:$.$0);return new Jn(l,p)}):c===3?_.GetOrAddHoleFor(t,l,()=>{const $=d==null?null:b(d.$0);let p=q.Create_1($==null?-864e13:$.$0);return new Zn(l,p)}):c===4?_.GetOrAddHoleFor(t,l,()=>new Qn(l,q.Create_1([]))):c===5?_.GetOrAddHoleFor(t,l,()=>new Zt(l,q.Create_1(b(globalThis.document.querySelector("[ws-dom="+l+"]"))))):c===6?_.GetOrAddHoleFor(t,l,()=>{const $=d==null?null:b(d.$0);let p=q.Create_1($==null?[]:$.$0);return new Xn(l,p)}):Z("Invalid value type");return n.set_Item(l,f),b(f)}},r)),{$:0,$0:n}]}function ds(){return new Promise(t=>{t(rs.getPhoto({resultType:"base64"}).then(e=>Promise.resolve(e)))})}function hs(t){return new Promise(e=>{let r;e(is.write((r={},r.string=String(t),r)).then(()=>Promise.resolve(null)))})}function fs(){return new Promise(t=>{let e;t(Xr.setCookie((e={},e.url="http://example.com'",e.key="language",e.value="en",e)).then(()=>Promise.resolve(null)))})}function gs(){return new Promise(t=>{let e;t(xn.alert((e={},e.title="Stop",e.message="this is an error",e)).then(()=>Promise.resolve(null)))})}function ps(){return new Promise(t=>{let e;t(xn.confirm((e={},e.title="Confirm",e.message="Are you sure you'd like to press the red button?",e)).then(r=>Promise.resolve(r)))})}function ws(t){return new Promise(e=>{e(En.set({key:"auth_token",value:t}).then(()=>Promise.resolve(null)))})}function ms(){return new Promise(t=>{t(En.get({key:"auth_token"}).then(e=>Promise.resolve(e)))})}function bs(){return new Promise(t=>{let e;t((Ut.authenticate((e={},e.reason="Please authenticate",e.cancelTitle="Cancel",e.allowDeviceCredential=!0,e.iosFallbackTitle="Use passcode",e.androidTitle="Biometric login",e.androidSubtitle="Log in using biometric authentication",e.androidConfirmationRequired=!1,e.androidBiometryStrength="weak",e)),Promise.resolve(null)))})}function $s(){return new Promise(t=>{let e,r;t(Pn.schedule((e={},e.notifications=[(r={},r.id=1,r.title="Reminder Notification",r.body="Explore new variety and offers",r.largeBody="Get 30% discounts on new products",r.summaryText="Exciting offers",r)],e)).then(n=>Promise.resolve(n)))})}function vs(){return new Promise(t=>{t(Pn.getDeliveredNotifications().then(e=>Promise.resolve(e)))})}function ys(t){let e=[];for(var r in t)e.push(t[r]);return e}function b(t){return{$:1,$0:t}}function A(t,e){if(t===e)return!0;{const s=typeof t;if(s=="object"){if(t==null||e===null||e===void 0||!A(typeof e,"object"))return!1;if("Equals"in t)return t.Equals(e);if("Equals"in e)return!1;if(t instanceof Array&&e instanceof Array)return dn(t,e);if(t instanceof Date&&e instanceof Date)return Cs(t,e);{const i=[!0];for(var r in t)if((o=>(i[0]=!t.hasOwnProperty(o)||e.hasOwnProperty(o)&&A(t[o],e[o]),!i[0]))(r))break;if(i[0]){for(var n in e)if((o=>(i[0]=!e.hasOwnProperty(o)||t.hasOwnProperty(o),!i[0]))(n))break}return i[0]}}else return s=="function"&&("$Func"in t?t.$Func===e.$Func&&t.$Target===e.$Target:"$Invokes"in t&&"$Invokes"in e&&dn(t.$Invokes,e.$Invokes))}}function dn(t,e){let r,n;if(G(t)===G(e)){for(r=!0,n=0;r&&n<G(t);)A(x(t,n),x(e,n))||(r=!1),n=n+1;return r}else return!1}function Cs(t,e){return t.getTime()===e.getTime()}function et(t){const e=typeof t;return e=="function"?0:e=="boolean"?t?1:0:e=="number"?t:e=="string"?Dn(t):e=="object"?t==null?0:t instanceof Array?As(t):Ns(t):0}function Dn(t){let e;if(t===null)return 0;e=5381;for(let r=0,n=t.length-1;r<=n;r++)e=mt(e,t[r].charCodeAt());return e}function As(t){let e=-34948909;for(let r=0,n=G(t)-1;r<=n;r++)e=mt(e,et(x(t,r)));return e}function Ns(t){if("GetHashCode"in t)return t.GetHashCode();{const r=[0];for(var e in t)(n=>(r[0]=mt(mt(r[0],Dn(n)),et(t[n])),!1))(e);return r[0]}}function mt(t,e){return(t<<5)+t+e}function xt(t,e){if(t===e)return 0;{const s=typeof t;switch(s=="function"?1:s=="boolean"||s=="number"||s=="string"?2:s=="object"?3:0){case 0:return typeof e>"u"?0:-1;case 1:return Z("Cannot compare function values.");case 2:return t<e?-1:1;case 3:if(t===null)return-1;if(e===null)return 1;if("CompareTo"in t)return t.CompareTo(e);if("CompareTo0"in t)return t.CompareTo0(e);if(t instanceof Array&&e instanceof Array)return xs(t,e);if(t instanceof Date&&e instanceof Date)return Es(t,e);{const i=[0];for(var r in t)if((o=>t.hasOwnProperty(o)?e.hasOwnProperty(o)?(i[0]=xt(t[o],e[o]),i[0]!==0):(i[0]=1,!0):!1)(r))break;if(i[0]===0){for(var n in e)if((o=>e.hasOwnProperty(o)?!t.hasOwnProperty(o)&&(i[0]=-1,!0):!1)(n))break}return i[0]}}}}function xs(t,e){let r,n;if(G(t)<G(e))return-1;if(G(t)>G(e))return 1;for(r=0,n=0;r===0&&n<G(t);)r=xt(x(t,n),x(e,n)),n=n+1;return r}function Es(t,e){return xt(t.getTime(),e.getTime())}function Ps(t){return Un("index"),t?_s("index",b("main"),t):void 0}let Vn=C(t=>{var e;return M(Rt),e=class extends Rt{constructor(s,i,o){super();a(this,"isConst");a(this,"current");a(this,"snap");a(this,"view");a(this,"id");this.isConst=s,this.current=o,this.snap=i,this.view=()=>this.snap,this.id=Xe()}get View(){return this.view}Set(s){this.isConst?(i=>i("WebSharper.UI: invalid attempt to change value of a Var after calling SetFinal"))(i=>{console.log(i)}):(st(this.snap),this.current=s,this.snap={s:Tt(s,[])})}Get(){return this.current}SetFinal(s){this.isConst?(i=>i("WebSharper.UI: invalid attempt to change value of a Var after calling SetFinal"))(i=>{console.log(i)}):(st(this.snap),this.isConst=!0,this.current=s,this.snap={s:Ne(s)})}UpdateMaybe(s){const i=s(this.Get());i!=null&&i.$==1&&this.Set(i.$0)}},Vn=t(e),e});function Ss(t,e,r){const n=t.s;n==null?r():n!=null&&n.$==2?(n.$1.push(r),e(n.$0)):n!=null&&n.$==3?(n.$0.push(e),n.$1.push(r)):e(n.$0)}function qe(t,e){const r=e.s;if(r!=null&&r.$==0)return{s:Ne(t(r.$0))};{const n={s:Me([],[])};return fe(e,s=>{Fn(n,e,t(s))},n),n}}function Ts(t,e,r,n){const s=e.s,i=r.s,o=n.s;if(s!=null&&s.$==0)return i!=null&&i.$==0?o!=null&&o.$==0?{s:Ne(t(s.$0,i.$0,o.$0))}:Vs(t,s.$0,i.$0,n):o!=null&&o.$==0?Is(t,s.$0,o.$0,r):Fs(t,s.$0,r,n);if(i!=null&&i.$==0)return o!=null&&o.$==0?Gs(t,i.$0,o.$0,e):Us(t,i.$0,e,n);if(o!=null&&o.$==0)return Rs(t,o.$0,e,r);{const l={s:Me([],[])},c=()=>{const d=l.s;if(!(d!=null&&d.$==0||d!=null&&d.$==2)){const f=Pe(e),$=Pe(r),p=Pe(n);f!=null&&f.$==1&&$!=null&&$.$==1&&p!=null&&p.$==1&&(f.$0[1]&&$.$0[1]&&p.$0[1]?ct(l,t(f.$0[0],$.$0[0],p.$0[0])):ut(l,t(f.$0[0],$.$0[0],p.$0[0])))}};return fe(e,c,l),fe(r,c,l),fe(n,c,l),l}}function Ls(t){const e=rt(t);if(e.length==0)return{s:Ne([])};{const r={s:Me([],[])},n=[G(e)-1],s=()=>{if(n[0]===0){const i=xe(o=>{const l=o.s;return l!=null&&l.$==0||l!=null&&l.$==2?l.$0:Z("value not found by View.Sequence")},e);Bn(o=>{const l=o.s;return l!=null&&l.$==0},e)?ct(r,i):ut(r,i)}else n[0]=n[0]-1};return te(i=>{fe(i,s,r)},e),r}}function Et(t,e,r){const n=e.s,s=r.s;if(n!=null&&n.$==0)return s!=null&&s.$==0?{s:Ne(t(n.$0,s.$0))}:Os(t,n.$0,r);if(s!=null&&s.$==0)return Ws(t,s.$0,e);{const i={s:Me([],[])},o=()=>{const l=i.s;if(!(l!=null&&l.$==0||l!=null&&l.$==2)){const c=Pe(e),d=Pe(r);c!=null&&c.$==1&&d!=null&&d.$==1&&(c.$0[1]&&d.$0[1]?ct(i,t(c.$0[0],d.$0[0])):ut(i,t(c.$0[0],d.$0[0])))}};return fe(e,o,i),fe(r,o,i),i}}function ks(t,e){const r=t.s,n=e.s;if(r!=null&&r.$==0)return n!=null&&n.$==0?{s:Ne(null)}:e;if(n!=null&&n.$==0)return t;{const s={s:Me([],[])},i=()=>{const o=s.s;if(!(o!=null&&o.$==0||o!=null&&o.$==2)){const l=Pe(t),c=Pe(e);l!=null&&l.$==1&&c!=null&&c.$==1&&(l.$0[1]&&c.$0[1]?ct(s,null):ut(s,null))}};return fe(t,i,s),fe(e,i,s),s}}function Ds(t){const e=t.s;if(e==null)return t;if(e!=null&&e.$==2){const r={s:Tt(e.$0,[])};return qs(t,r),r}else if(e!=null&&e.$==3){const r={s:Me([],[])};return fe(t,n=>{Fn(r,t,n)},r),r}else return t}function In(t,e){const r=t.s;r==null?e():(r!=null&&r.$==2||r!=null&&r.$==3)&&r.$1.push(e)}function fe(t,e,r){const n=t.s;n==null?st(r):n!=null&&n.$==2?(bt(n.$1,r),e(n.$0)):n!=null&&n.$==3?(n.$0.push(e),bt(n.$1,r)):e(n.$0)}function Fn(t,e,r){const n=e.s;n!=null&&n.$==0?ct(t,r):ut(t,r)}function Vs(t,e,r,n){return qe(s=>t(e,r,s),n)}function Is(t,e,r,n){return qe(s=>t(e,s,r),n)}function Fs(t,e,r,n){return Et((s,i)=>t(e,s,i),r,n)}function Gs(t,e,r,n){return qe(s=>t(s,e,r),n)}function Us(t,e,r,n){return Et((s,i)=>t(s,e,i),r,n)}function Rs(t,e,r,n){return Et((s,i)=>t(s,i,e),r,n)}function Pe(t){const e=t.s;return e!=null&&e.$==0?b([e.$0,!0]):e!=null&&e.$==2?b([e.$0,!1]):null}function ct(t,e){const r=t.s;if(r!=null&&r.$==3){t.s=Ne(e);const n=r.$0;for(let s=0,i=G(n)-1;s<=i;s++)x(n,s)(e)}}function ut(t,e){const r=t.s;if(r!=null&&r.$==3){t.s=Tt(e,r.$1);const n=r.$0;for(let s=0,i=G(n)-1;s<=i;s++)x(n,s)(e)}}function Os(t,e,r){return qe(n=>t(e,n),r)}function Ws(t,e,r){return qe(n=>t(n,e),r)}function qs(t,e){const r=t.s;r==null?st(e):(r!=null&&r.$==2||r!=null&&r.$==3)&&bt(r.$1,e)}function bt(t,e){if(t.push(e),t.length%20===0){const r=t.slice(0);Pl(t);for(let n=0,s=G(r)-1;n<=s;n++){const i=x(r,n);typeof i=="object"?(o=>{o.s&&t.push(o)})(i):(o=>{t.push(o)})(i)}}}let Gn=C(t=>{var e;return M(S),e=class extends S{constructor(s,i){super();a(this,"name");a(this,"fillWith");this.name=s,this.fillWith=i}get Name(){return this.name}get Value(){return this.fillWith}get AsChoiceView(){return _t(this.fillWith)}},Gn=t(e),e}),ke=C(t=>{var e;return M(S),e=class extends S{constructor(s,i){super();a(this,"name");a(this,"fillWith");this.name=s,this.fillWith=i}get Name(){return this.name}ForTextView(){return b(this.fillWith)}get AsChoiceView(){return Te(this.fillWith)}},ke=t(e),e}),$t=C(t=>{var e;return M(S),e=class extends S{constructor(s,i){super();a(this,"name");a(this,"fillWith");this.name=s,this.fillWith=i}get Name(){return this.name}ForTextView(){return b(this.fillWith.View)}AddAttribute(s,i){s(i)(No(this.fillWith))}get AsChoiceView(){return Te(H(String,this.fillWith.View))}},$t=t(e),e});function Ms(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(new RegExp("[xy]","g"),t=>{const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}let Ht=C(t=>{var e;return M(S),e=class extends S{constructor(s,i){super();a(this,"name");a(this,"fillWith");this.name=s,this.fillWith=i}get Name(){return this.name}get Value(){return this.fillWith}},Ht=t(e),e});function Y(t){return e=>{try{t()(e)}catch(r){e.k(Kt(r))}}}function oe(t,e){const n=Hs()[0];Ue().Fork(()=>{n.c||t(On(s=>{s.$==1&&js(s.$0)},n))})}function Hs(){return Lt.defCTS}function js(t){console.log("WebSharper: Uncaught asynchronous exception",t)}function jt(t){return e=>{const r=[!1],n=s=>{r[0]?Z("A continuation provided by Async.FromContinuations was invoked multiple times"):(r[0]=!0,Ue().Fork(s))};t(s=>{n(()=>{e.k(Bt(s))})},s=>{n(()=>{e.k(Kt(s))})},s=>{n(()=>{e.k(Wn(s))})})}}function Ue(){return Lt.scheduler}function Pt(t){return e=>{e.k(Bt(t))}}function Ze(t,e){return Ks(r=>{t(On(n=>{if(n.$==0){const s=n.$0;Ue().Fork(()=>{try{e(s)(r)}catch(i){r.k(Kt(i))}})}else Ue().Fork(()=>{r.k(n)})},r.ct))})}function Ot(){return Lt.Zero}function Ks(t){return e=>{e.ct.c?Bs(e):t(e)}}function Bs(t){t.k(Wn(new ir("New",t.ct)))}function he(t){return jt((e,r)=>{t.then(e,n=>r(zs(n)))})}function zs(t){return t instanceof Error?t:new _n(t)}function Js(t,e,r){return t.substr(e,r)}function Re(t,e){return rt(e).join(t)}function ge(t,e,r){return Zs(t,new RegExp("["+Qs(e.join(""))+"]"),r)}function Wt(t,e){return t.substring(0,e.length)==e}function Zs(t,e,r){return r===1?at(n=>n!=="",hn(t,e)):hn(t,e)}function Qs(t){return t.replace(new RegExp("[-\\/\\\\^$*+?.()|[\\]{}]","g"),"\\$&")}function hn(t,e){return t.split(e)}function Xs(t,e){return yi(t,Ys(e))}function Ys(t){return t??""}function Un(t){ei()||(ti(!0),ni(globalThis.document.body,"")),tt().set_Item(t,St(""))}function _s(t,e,r){let n;const s=(n=null,[St(t).TryGetValue(e==null?"":e.$0,{get:()=>n,set:i=>{n=i}}),n]);return s[0]?ri(s[1].cloneNode(!0),r):(console.warn("Local template doesn't exist",e),ee.Empty)}function ei(){return He.LocalTemplatesLoaded}function ti(t){He.LocalTemplatesLoaded=t}function ni(t,e){const r=St(e),n=new ce("New_5"),s=t.querySelectorAll("[ws-template]");for(let f=0,$=s.length-1;f<=$;f++){const p=s[f],v=p.getAttribute("ws-template").toLowerCase();p.removeAttribute("ws-template"),n.set_Item(v,Rn(p))}const i=t.querySelectorAll("[ws-children-template]");for(let f=0,$=i.length-1;f<=$;f++){const p=i[f],v=p.getAttribute("ws-children-template").toLowerCase();p.removeAttribute("ws-children-template"),n.set_Item(v,si(p))}const o=t.querySelectorAll("template[id]");for(let f=0,$=o.length-1;f<=$;f++){const p=o[f];n.set_Item(p.getAttribute("id").toLowerCase(),fn(p))}const l=t.querySelectorAll("template[name]");for(let f=0,$=l.length-1;f<=$;f++){const p=l[f];n.set_Item(p.getAttribute("name").toLowerCase(),fn(p))}const c=new ae("New_3");function d(f){if(!r.ContainsKey(f)){let $;const p=($=null,[n.TryGetValue(f,{get:()=>$,set:v=>{$=v}}),$]);p[0]?(c.SAdd(f),n.RemoveKey(f),Qe(e,b(f),p[1],b(d))):console.warn(c.Contains(f)?"Encountered loop when instantiating "+f:"Local template does not exist: "+f)}}for(;n.count>0;)d(di(n.Keys))}function tt(){return He.LoadedTemplates}function St(t){let e;const r=(e=null,[tt().TryGetValue(t,{get:()=>e,set:n=>{e=n}}),e]);if(r[0])return r[1];{const n=new ce("New_5");return tt().set_Item(t,n),n}}function ri(t,e){const r=ii(t,qn(e,oi().Values)),n=r[1],s=r[0],i=s.Els;return!A(i,null)&&i.length===1&&x(i,0)instanceof Node&&A(x(i,0).nodeType,Node.ELEMENT_NODE)&&(x(i,0),!0)?lr.TreeNode(s,n):ee.Mk(Yn(s),n)}function Rn(t){t.removeAttribute("ws-template");const e=t.getAttribute("ws-replace");if(e!=null){t.removeAttribute("ws-replace");const n=t.parentNode;if(!A(n,null)){const s=globalThis.document.createElement(t.tagName);s.setAttribute("ws-replace",e),n.replaceChild(s,t)}}const r=globalThis.document.createElement("div");return r.appendChild(t),r}function si(t){const e=globalThis.document.createElement("div");for(;t.hasChildNodes();)e.appendChild(t.firstChild);return e}function fn(t){const e=globalThis.document.createElement("div"),r=t.content;for(let n=0,s=r.childNodes.length-1;n<=s;n++)e.appendChild(r.childNodes[n].cloneNode(!0));return e}function Qe(t,e,r,n){const s=new ae("New_3");function i(p,v){for(;;)switch(p){case 0:if(v!==null){const u=v.nextSibling;A(v.nodeType,Node.TEXT_NODE)?Ji(v):A(v.nodeType,Node.ELEMENT_NODE)&&l(v),v=u}else return null;break;case 1:const T=Ce(v.nodeName,b(3),null).toLowerCase(),U=T.indexOf("."),I=U===-1?[t,T]:[Ce(T,null,b(U-1)),Ce(T,b(U+1),null)],N=I[1],L=I[0];if(L!=""&&!tt().ContainsKey(L))return mn(N);{L==""&&n!=null&&n.$0(N);const u=tt().Item(L);if(u.ContainsKey(N)){const g=u.Item(N).cloneNode(!0),w=new ae("New_3"),m=new ce("New_5"),y=v.attributes;for(let P=0,D=y.length-1;P<=D;P++){const E=y.item(P).name.toLowerCase(),V=y.item(P).nodeValue;let W=V==""?E:V.toLowerCase();m.set_Item(E,W),w.SAdd(E)||console.warn("Hole mapped twice",E)}for(let P=0,D=v.childNodes.length-1;P<=D;P++){const E=v.childNodes[P];A(E.nodeType,Node.ELEMENT_NODE)&&(w.SAdd(E.nodeName.toLowerCase())||console.warn("Hole filled twice",N))}const k=v.childNodes.length===1&&A(v.firstChild.nodeType,Node.TEXT_NODE);if(k){const P=Zi(g,v.firstChild.textContent,N),D=(V=>W=>V.SAdd(W))(w);(V=>W=>{W!=null&&V(W.$0)})(V=>{D(V)})(P)}if(Qi(g,w),!k)for(let P=0,D=v.childNodes.length-1;P<=D;P++){const E=v.childNodes[P];A(E.nodeType,Node.ELEMENT_NODE)&&(E.hasAttributes()?Xi(g,E):o(g,E))}Yi(g,m),bn(g,v.parentNode,v),v.parentNode.removeChild(v);return}else return mn(N)}}}function o(p,v){const T=v.nodeName.toLowerCase(),U=(N,L)=>{if(T=="title"&&v.hasChildNodes()){const u=_i(v.textContent);for(v.removeChild(v.firstChild);u.hasChildNodes();)v.appendChild(u.firstChild)}return l(v),bn(v,N,L)};z(p,"[ws-attr-holes]",N=>{const L=ge(N.getAttribute("ws-attr-holes"),[" "],1);for(let u=0,h=L.length-1;u<=h;u++){const g=x(L,u);let w=new RegExp("\\${"+T+"}","ig"),m=N.getAttribute(g).replace(w,v.textContent);N.setAttribute(g,m)}});const I=p.querySelector("[ws-hole="+T+"]");if(A(I,null)){const N=p.querySelector("[ws-replace="+T+"]");if(A(N,null)){const L=p.querySelector("slot[name="+T+"]");return p.tagName.toLowerCase()=="template"?(U(L.parentNode,L),void L.parentNode.removeChild(L)):null}else{U(N.parentNode,N),N.parentNode.removeChild(N);return}}else{for(;I.hasChildNodes();)I.removeChild(I.lastChild);return I.removeAttribute("ws-hole"),U(I,null)}}function l(p){p.hasAttribute("ws-preserve")||(Wt(p.nodeName.toLowerCase(),"ws-")?d(p):(ur(p),c(p.firstChild)))}function c(p){return i(0,p)}function d(p){return i(1,p)}function f(p){for(;;){const v=p.querySelector("[ws-template]");if(A(v,null)){const T=p.querySelector("[ws-children-template]");if(A(T,null)){const U=p.querySelectorAll("template[id]");for(let N=1,L=U.length-1;N<=L;N++){const u=U[N];s.Contains(u)||(Qe(t,b(u.getAttribute("id")),u,null),s.SAdd(u))}const I=p.querySelectorAll("template[name]");for(let N=1,L=I.length-1;N<=L;N++){const u=I[N];s.Contains(u)||(Qe(t,b(u.getAttribute("name")),u,null),s.SAdd(u))}return null}else{const U=T.getAttribute("ws-children-template");T.removeAttribute("ws-children-template"),Qe(t,b(U),T,null),p=p}}else{const T=v.getAttribute("ws-template");li(t,b(T),v)(null),p=p}}}const $=(e==null?"":e.$0).toLowerCase();St(t).set_Item($,r),r.hasChildNodes()&&(f(r),c(r.firstChild))}function ii(t,e){let r;const n=[],s=[],i=[],o=[],l=new ce("New_5"),c=O(e);try{for(;c.MoveNext();){const u=c.Current;l.set_Item(u.Name,u)}}finally{typeof c=="object"&&se(c)&&c.Dispose()}let d=$n(t);const f=(u,h)=>{const g=gr(u,h);s.push(pr(g)),i.push([u,g]);const w=Ye(g.OnAfterRender);if(w==null)return null;{const m=w.$0;o.push(()=>{m(u)});return}},$=u=>{let h;const g=(h=null,[l.TryGetValue(u,{get:()=>h,set:w=>{h=w}}),h]);if(g[0]){const w=g[1];if(w instanceof $r)return b(w.Value);if(w instanceof Gn)return b(ee.TextNode(w.Value));{const m=w.ForTextView();return m==null?null:b(ee.TextView(m.$0))}}else return null};z(t,"[ws-hole]",u=>{const h=u.getAttribute("ws-hole");for(u.removeAttribute("ws-hole");u.hasChildNodes();)u.removeChild(u.lastChild);const g=$(h);if(g!=null&&g.$==1){const w=g.$0;vt(u,w.docNode),n.push(Fe.New(Ft(u),w.docNode,null,u,Xe(),null)),s.push(w.updates)}}),z(t,"[ws-replace]",u=>{const h=$(u.getAttribute("ws-replace"));if(h!=null&&h.$==1){const g=h.$0,w=u.parentNode,m=globalThis.document.createTextNode("");w.replaceChild(m,u);const y=Fi(m,g.docNode);d=$n(t);const k=Mn(P=>u===P,d);k==null||Tn(d,k.$0,g.docNode),n.push(Fe.New(Ft(w),g.docNode,b([y,m]),w,Xe(),null)),s.push(g.updates)}});let p=!1;z(t,"slot",u=>{const h=u.getAttribute("name"),g=h==""||h==null?"default":h.toLowerCase();if(!(p&&g=="default"||!A(t.parentElement,null))){for(;u.hasChildNodes();)u.removeChild(u.lastChild);g=="default"&&(p=!0);const w=$(g);if(w!=null&&w.$==1){const m=w.$0;vt(u,m.docNode),n.push(Fe.New(Ft(u),m.docNode,null,u,Xe(),null)),s.push(m.updates)}}}),z(t,"[ws-attr]",u=>{let h;const g=u.getAttribute("ws-attr");u.removeAttribute("ws-attr");const w=(h=null,[l.TryGetValue(g,{get:()=>h,set:m=>{h=m}}),h]);if(w[0]){const m=w[1];m instanceof vr?f(u,m.Value):console.warn("Attribute hole filled with non-attribute data",g)}}),z(t,"[ws-on]",u=>{f(u,ue.Concat(zt(h=>{let g;const w=ge(h,[":"],1),m=(g=null,[l.TryGetValue(x(w,1),{get:()=>g,set:y=>{g=y}}),g]);if(m[0]){const y=m[1];return y instanceof yr?b(Ao(x(w,0),y.Value)):y instanceof Ht?b(ue.Handler(x(w,0),y.Value)):(console.warn("Event hole on"+x(w,0)+" filled with non-event data",x(w,1)),null)}else return null},ge(u.getAttribute("ws-on"),[" "],1)))),u.removeAttribute("ws-on")}),z(t,"[ws-onafterrender]",u=>{let h;const g=u.getAttribute("ws-onafterrender"),w=(h=null,[l.TryGetValue(g,{get:()=>h,set:m=>{h=m}}),h]);if(w[0]){const m=w[1];m instanceof Cr||m instanceof Ar?(u.removeAttribute("ws-onafterrender"),f(u,yn(m.Value))):console.warn("onafterrender hole filled with non-onafterrender data",g)}}),z(t,"[ws-var]",u=>{let h;const g=u.getAttribute("ws-var");u.removeAttribute("ws-var");const w=(h=null,[l.TryGetValue(g,{get:()=>h,set:m=>{h=m}}),h]);w[0]&&w[1].AddAttribute(m=>y=>f(m,y),u)});const v=()=>{ci("[ws-dom]",u=>{let h,g,w;const m=(h=null,[l.TryGetValue(u.getAttribute("ws-dom").toLowerCase(),{get:()=>h,set:y=>{h=y}}),h]);if(m[0]){const y=m[1];if(y instanceof Zt){const k=y.Value;u.removeAttribute("ws-dom"),g=u;const P=new MutationObserver((D,E)=>{te(V=>{V.removedNodes.forEach(qr(W=>W[0]===g&&V.addedNodes.length!==1?(k.SetFinal(null),E.disconnect()):null),null)},D)});u.parentElement!==null&&P.observe(u.parentElement,(w={},w.childList=!0,w)),k.Set(b(u)),cr(D=>{if(D!=null&&D.$==1){const E=D.$0;g===E||(g.replaceWith(E),g=E)}else g.remove(),P.disconnect()},k.View)}}})};z(t,"[ws-attr-holes]",u=>{const h=new RegExp(nt(),"g"),g=ge(u.getAttribute("ws-attr-holes"),[" "],1);u.removeAttribute("ws-attr-holes");for(let w=0,m=g.length-1;w<=m;w++)(()=>{let y;const k=x(g,w),P=u.getAttribute(k);let D=null,E=0;const V=[];for(;D=h.exec(P),D!==null;){const Q=Ce(P,b(E),b(h.lastIndex-x(D,0).length-1));E=h.lastIndex,V.push([Q,x(D,1)])}const W=Ce(P,b(E),null);h.lastIndex=0;const R=Jt((Q,ne)=>(be=>{const $e=be[0],j=be[1];return B=>{let J;const re=B[0],ie=B[1],X=(J=null,[l.TryGetValue(j,{get:()=>J,set:ve=>{J=ve}}),J]),pe=X[0]?X[1].AsChoiceView:_t("");return pe.$==1?[$e,Oe.Cons(re==""?pe.$0:H(ve=>ve+re,pe.$0),ie)]:[$e+pe.$0+re,ie]}})(Q)(ne),V,[W,Oe.Empty]);if(R[1].$==1)if(R[1].$1.$==1)if(R[1].$1.$1.$==1)if(R[1].$1.$1.$1.$==0){const Q=R[0];y=Be(k,Ki((ne,be,$e)=>Q+ne+be+$e,R[1].$0,R[1].$1.$0,R[1].$1.$1.$0))}else{const Q=R[0];y=Be(k,H(ne=>Q+Re("",ne),Bi(R[1])))}else{const Q=R[0];y=Be(k,zi((ne,be)=>Q+ne+be,R[1].$0,R[1].$1.$0))}else if(R[0]=="")y=Be(k,R[1].$0);else{const Q=R[0];y=Be(k,H(ne=>Q+ne,R[1].$0))}else y=ue.Create(k,R[0]);return f(u,y)})()});let T=d;const U=o.length==0?b(()=>{v()}):b(u=>{v(),te(h=>{h(u)},o)}),I=!A(d,null)&&d.length===1&&x(d,0)instanceof Node&&x(d,0)instanceof Element&&(r=x(d,0),!0)?b(r):null;let N={Els:T,Dirty:!0,Holes:n,Attrs:i,Render:U?U.$0:void 0,El:I?I.$0:void 0};return[Wr(N,["Render","El"]),Dt(lt(),yt,s)]}function oi(){return He.GlobalHoles}function z(t,e,r){io(t,e,n=>{n.closest("[ws-preserve]")==null&&r(n)})}function li(t,e,r){const n=Rn(r);return s=>{Qe(t,e,n,s)}}function ci(t,e){oo(t,r=>{r.closest("[ws-preserve]")==null&&e(r)})}function nt(){return He.TextHoleRE}let ee=C(t=>{var e;return e=class extends K{constructor(s,i){super();a(this,"docNode");a(this,"updates");this.docNode=s,this.updates=i}static RunById(s,i){const o=globalThis.document.getElementById(s);A(o,null)?Z("invalid id: "+s):ee.Run(o,i)}static Run(s,i){vt(s,i.docNode),ee.RunInPlace(!1,s,i)}static get Empty(){return ee.Mk(null,lt())}static RunInPlace(s,i,o){const l=Di(i,o.docNode);cr(dr()||hr()?go(Vi(s,l,o.docNode)):()=>{Ii(s,l,o.docNode)},o.updates)}static Mk(s,i){return new e(s,i)}static TextNode(s){return ee.Mk(Si(globalThis.document.createTextNode(s)),lt())}static TextView(s){const i=Wi();return ee.Mk(Ti(i),H(o=>{qi(i,o)},s))}},ee=t(e),e});function Xe(){return ui(gn()+1),gn()}function ui(t){Qt.counter=t}function gn(){return Qt.counter}function Tt(t,e){return{$:2,$0:t,$1:e}}function Ne(t){return{$:0,$0:t}}function Me(t,e){return{$:3,$0:t,$1:e}}let ce=C(t=>{var r;return r=class extends K{constructor(i,o,l,c){var s=(...e)=>(super(...e),a(this,"equals"),a(this,"hash"),a(this,"count"),a(this,"data"),this);if(i=="New_5"&&(i="New_6",o=[],l=A,c=et),i=="New_6"){const d=o,f=l,$=c;s(),this.equals=f,this.hash=$,this.count=0,this.data=[];const p=O(d);try{for(;p.MoveNext();){const v=p.Current;this.set(v.K,v.V)}}finally{typeof p=="object"&&se(p)&&p.Dispose()}}}set_Item(i,o){this.set(i,o)}set(i,o){const l=this.hash(i),c=this.data[l];if(c==null)this.count=this.count+1,this.data[l]=new Array({K:i,V:o});else{const d=Mn(f=>this.equals.apply(null,[Le(f)[0],i]),c);d==null?(this.count=this.count+1,c.push({K:i,V:o})):c[d.$0]={K:i,V:o}}}TryGetValue(i,o){const l=this.data[this.hash(i)];if(l==null)return!1;{const c=Hn(d=>{const f=Le(d);return this.equals.apply(null,[f[0],i])?b(f[1]):null},l);return c!=null&&c.$==1&&(o.set(c.$0),!0)}}ContainsKey(i){const o=this.data[this.hash(i)];return o==null?!1:jn(l=>this.equals.apply(null,[Le(l)[0],i]),o)}RemoveKey(i){return this.remove(i)}get Keys(){return new ar(this)}GetEnumerator(){return ki(Ai(ys(this.data)))}get Values(){return new Nr(this)}remove(i){const o=this.hash(i),l=this.data[o];if(l==null)return!1;{const c=at(d=>!this.equals.apply(null,[Le(d)[0],i]),l);return G(c)<l.length&&(this.count=this.count-1,this.data[o]=c,!0)}}Item(i){return this.get(i)}get(i){const o=this.data[this.hash(i)];return o==null?Li():Ni(l=>{const c=Le(l);return this.equals.apply(null,[c[0],i])?b(c[1]):null},o)}static New_5(){return new this("New_5")}static New_6(i,o,l){return new this("New_6",i,o,l)}},ce=t(r),r});function On(t,e){return{k:t,ct:e}}function Kt(t){return{$:1,$0:t}}function Bt(t){return{$:0,$0:t}}function Wn(t){return{$:2,$0:t}}function ai(t,e){return{c:t,r:e}}let ae=C(t=>{var r;return r=class extends K{constructor(i,o,l,c){var s=(...e)=>(super(...e),a(this,"equals"),a(this,"hash"),a(this,"data"),a(this,"count"),this);i=="New_3"&&(i="New_4",o=[],l=A,c=et);let d;if(i=="New_2"&&(d=o,i="New_4",o=d,l=A,c=et),i=="New_4"){const f=o,$=l,p=c;s(),this.equals=$,this.hash=p,this.data=[],this.count=0;const v=O(f);try{for(;v.MoveNext();)this.add(v.Current)}finally{typeof v=="object"&&se(v)&&v.Dispose()}}}SAdd(i){return this.add(i)}Contains(i){const o=this.data[this.hash(i)];return o==null?!1:this.arrContains(i,o)}add(i){const o=this.hash(i),l=this.data[o];return l==null?(this.data[o]=[i],this.count=this.count+1,!0):this.arrContains(i,l)?!1:(l.push(i),this.count=this.count+1,!0)}arrContains(i,o){let l=!0,c=0;const d=o.length;for(;l&&c<d;)this.equals.apply(null,[o[c],i])?l=!1:c=c+1;return!l}GetEnumerator(){return O(Gt(this.data))}ExceptWith(i){const o=O(i);try{for(;o.MoveNext();)this.Remove(o.Current)}finally{typeof o=="object"&&se(o)&&o.Dispose()}}get Count(){return this.count}IntersectWith(i){const o=new ae("New_4",i,this.equals,this.hash),l=Gt(this.data);for(let c=0,d=l.length-1;c<=d;c++){const f=l[c];o.Contains(f)||this.Remove(f)}}Remove(i){const o=this.data[this.hash(i)];return o==null?!1:this.arrRemove(i,o)&&(this.count=this.count-1,!0)}CopyTo(i,o){const l=Gt(this.data);for(let c=0,d=l.length-1;c<=d;c++)Tn(i,c+o,l[c])}arrRemove(i,o){let l=!0,c=0;const d=o.length;for(;l&&c<d;)this.equals.apply(null,[o[c],i])?(o.splice(c,1),l=!1):c=c+1;return!l}static New_3(){return new this("New_3")}static New_4(i,o,l){return new this("New_4",i,o,l)}static New_2(i){return new this("New_2",i)}},ae=t(r),r});function qn(t,e){return{GetEnumerator:()=>{const r=O(t),n=[!0];return new me(r,null,s=>{if(s.s.MoveNext())return s.c=s.s.Current,!0;{const i=s.s;return A(i,null)||i.Dispose(),s.s=null,n[0]&&(n[0]=!1,s.s=O(e),s.s.MoveNext()?(s.c=s.s.Current,!0):(s.s.Dispose(),s.s=null,!1))}},s=>{const i=s.s;A(i,null)||i.Dispose()})}}}function di(t){const e=O(t);try{return e.MoveNext()?e.Current:qt()}finally{typeof e=="object"&&se(e)&&e.Dispose()}}function hi(t,e,r){let n=e;const s=O(r);try{for(;s.MoveNext();)n=t(n,s.Current);return n}finally{typeof s=="object"&&se(s)&&s.Dispose()}}function fi(t,e){const r=O(e);try{for(;r.MoveNext();)t(r.Current)}finally{typeof r=="object"&&se(r)&&r.Dispose()}}function Se(t,e){return{GetEnumerator:()=>{const r=O(e);return new me(null,null,n=>r.MoveNext()&&(n.c=t(r.Current),!0),()=>{r.Dispose()})}}}function pn(t){return{GetEnumerator:()=>O(t())}}function gi(t,e){return wi(Se(t,e))}function pi(t){const e=O(t);try{e.MoveNext()||bi();let r=e.Current;for(;e.MoveNext();){const n=e.Current;xt(n,r)===1&&(r=n)}return r}finally{typeof e=="object"&&se(e)&&e.Dispose()}}function wi(t){return{GetEnumerator:()=>{const e=O(t);function r(n){for(;;){const s=n.s;if(A(s,null))if(e.MoveNext())n.s=O(e.Current),n=n;else return e.Dispose(),!1;else{if(s.MoveNext())return n.c=s.Current,!0;n.Dispose(),n.s=null,n=n}}}return new me(null,null,r,n=>{const s=n.s;A(s,null)||s.Dispose(),A(e,null)||e.Dispose()})}}}function mi(t,e){return $i(t,vi(e))}function bi(){return Z("The input sequence was empty.")}function $i(t,e){return t<0&&ao(),{GetEnumerator:()=>{const r=[O(e)];return new me(0,null,n=>{if(n.s=n.s+1,n.s>t)return!1;{const s=r[0];return A(s,null)?qt():s.MoveNext()?(n.c=s.Current,n.s===t&&(s.Dispose(),r[0]=null),!0):(s.Dispose(),r[0]=null,qt())}},()=>{const n=r[0];A(n,null)||n.Dispose()})}}}function vi(t){return{GetEnumerator:()=>new me(0,null,e=>(e.c=t(e.s),e.s=e.s+1,!0),void 0)}}function yi(t,e){return!Ci(r=>!t(r),e)}function Ci(t,e){const r=O(e);try{let n=!1;for(;!n&&r.MoveNext();)n=t(r.Current);return n}finally{typeof r=="object"&&se(r)&&r.Dispose()}}function zt(t,e){const r=[];for(let n=0,s=e.length-1;n<=s;n++){const i=t(e[n]);i==null||r.push(i.$0)}return r}function Mn(t,e){let r=null,n=0;for(;n<e.length&&r==null;)t(e[n])&&(r=b(n)),n=n+1;return r}function Hn(t,e){let r=null,n=0;for(;n<e.length&&r==null;){const s=t(e[n]);s!=null&&s.$==1&&(r=s),n=n+1}return r}function jn(t,e){let r=!1,n=0;for(;!r&&n<G(e);)t(e[n])?r=!0:n=n+1;return r}function Ai(t){return Array.prototype.concat.apply([],rt(t))}function te(t,e){for(let r=0,n=e.length-1;r<=n;r++)t(e[r])}function Jt(t,e,r){let n=r;const s=e.length;for(let i=1,o=s;i<=o;i++)n=t(e[s-i],n);return n}function xe(t,e){const r=new Array(e.length);for(let n=0,s=e.length-1;n<=s;n++)r[n]=t(e[n]);return r}function at(t,e){const r=[];for(let n=0,s=e.length-1;n<=s;n++)t(e[n])&&r.push(e[n]);return r}function rt(t){if(t instanceof Array)return t.slice();if(t instanceof Oe)return Kn(t);{const e=[],r=O(t);try{for(;r.MoveNext();)e.push(r.Current);return e}finally{typeof r=="object"&&se(r)&&r.Dispose()}}}function Ni(t,e){const r=Hn(t,e);return r==null?Z("KeyNotFoundException"):r.$0}function Kn(t){const e=[];let r=t;for(;r.$!=0;)e.push(Bo(r)),r=zo(r);return e}function Bn(t,e){let r=!0,n=0;for(;r&&n<G(e);)t(e[n])?n=n+1:r=!1;return r}function xi(t,e){const r=new Array(t);for(let n=0,s=t-1;n<=s;n++)r[n]=e;return r}function Ei(t,e){t<0&&Z("Negative size given.");const r=new Array(t);for(let n=0,s=t-1;n<=s;n++)r[n]=e(n);return r}let _=C(t=>{var e;return e=class extends K{constructor(){super(...arguments);a(this,"id");a(this,"vars")}static GetOrAddHoleFor(s,i,o){let l;const c=_.GetHolesFor(s),d=(l=null,[c.TryGetValue(i,{get:()=>l,set:f=>{l=f}}),l]);if(d[0])return d[1];{const f=o();return c.set_Item(i,f),f}}static GetHolesFor(s){let i;const o=(i=null,[_.initialized.TryGetValue(s,{get:()=>i,set:l=>{i=l}}),i]);if(o[0])return o[1];{const l=new ce("New_5");return _.initialized.set_Item(s,l),l}}},_=t(e),a(e,"init"),a(e,"initialized"),a(e,"instances"),_.initialized=new ce("New_5"),_.instances=new ce("New_5"),e}),zn=C(t=>{var e;return M(S),e=class extends S{constructor(s,i){super();a(this,"name");a(this,"fillWith");this.name=s,this.fillWith=i}get Name(){return this.name}ForTextView(){return b(H(String,this.fillWith.View))}AddAttribute(s,i){s(i)(xo(this.fillWith))}get AsChoiceView(){return Te(H(String,this.fillWith.View))}},zn=t(e),e}),Jn=C(t=>{var e;return M(S),e=class extends S{constructor(s,i){super();a(this,"name");a(this,"fillWith");this.name=s,this.fillWith=i}get Name(){return this.name}ForTextView(){return b(H(String,this.fillWith.View))}AddAttribute(s,i){s(i)(Eo(this.fillWith))}get AsChoiceView(){return Te(H(String,this.fillWith.View))}},Jn=t(e),e}),Zn=C(t=>{var e;return M(S),e=class extends S{constructor(s,i){super();a(this,"name");a(this,"fillWith");this.name=s,this.fillWith=i}get Name(){return this.name}ForTextView(){return b(H(s=>new Date(s).toLocaleString(),this.fillWith.View))}AddAttribute(s,i){s(i)(Po(this.fillWith))}get AsChoiceView(){return Te(H(s=>new Date(s).toLocaleString(),this.fillWith.View))}},Zn=t(e),e}),Qn=C(t=>{var e;return M(S),e=class extends S{constructor(s,i){super();a(this,"name");a(this,"fillWith");this.name=s,this.fillWith=i}get Name(){return this.name}ForTextView(){return b(H(String,this.fillWith.View))}AddAttribute(s,i){s(i)(So(this.fillWith))}get AsChoiceView(){return Te(H(String,this.fillWith.View))}},Qn=t(e),e}),Zt=C(t=>{var e;return M(S),e=class extends S{constructor(s,i){super();a(this,"name");a(this,"fillWith");this.name=s,this.fillWith=i}get Name(){return this.name}get Value(){return this.fillWith}},Zt=t(e),e}),Xn=C(t=>{var e;return M(S),e=class extends S{constructor(s,i){super();a(this,"name");a(this,"fillWith");this.name=s,this.fillWith=i}get Name(){return this.name}ForTextView(){return b(H(s=>Re(",",s),this.fillWith.View))}AddAttribute(s,i){s(i)(To(this.fillWith))}get AsChoiceView(){return Te(H(String,this.fillWith.View))}},Xn=t(e),e});C(t=>{var e;return e=class extends K{},t(e),e});function st(t){let e;const r=t.s;if(!(r==null||(!(r!=null&&r.$==2||r!=null&&r.$==3)||(e=r.$1,!1)))){t.s=null;for(let n=0,s=G(e)-1;n<=s;n++){const i=x(e,n);typeof i=="object"?(o=>{st(o)})(i):i()}}}C(t=>{var e;return e=class{},t(e),e});function Pi(t,e){return Al(t,-2147483648,2147483647,e)}function Yn(t){return{$:6,$0:t}}function Si(t){return{$:5,$0:t}}function Ti(t){return{$:4,$0:t}}let _n=C(t=>{var e;return M(Error),e=class extends Error{constructor(s){super("Promise rejected");a(this,"reason");this.reason=s}},_n=t(e),e}),Lt=C(t=>{var e;return e=class{},Lt=t(e),a(e,"GetCT"),a(e,"Zero"),a(e,"defCTS"),a(e,"scheduler"),a(e,"noneCT"),e.noneCT=ai(!1,[]),e.scheduler=new er,e.defCTS=[new or],e.Zero=Pt(),e.GetCT=n=>{n.k(Bt(n.ct))},e}),er=C(t=>{var e;return e=class extends K{constructor(){super();a(this,"idle");a(this,"robin");this.idle=!0,this.robin=[]}Fork(s){this.robin.push(s),this.idle&&(this.idle=!1,setTimeout(()=>{this.tick()},0))}tick(){const s=Date.now();let i=!0;for(;i;)this.robin.length===0?(this.idle=!0,i=!1):(this.robin.shift()(),Date.now()-s>40&&(setTimeout(()=>{this.tick()},0),i=!1))}},er=t(e),e});function Li(){throw new Ir("New")}function O(t){return t instanceof Array?tr(t):A(typeof t,"string")?nr(t):t.GetEnumerator()}function tr(t){return new me(0,null,e=>{const r=e.s;return r<G(t)&&(e.c=x(t,r),e.s=r+1,!0)},void 0)}function nr(t){return new me(0,null,e=>{const r=e.s;return r<t.length&&(e.c=t[r],e.s=r+1,!0)},void 0)}function ki(t){return t instanceof Array?tr(t):A(typeof t,"string")?nr(t):"GetEnumerator0"in t?t.GetEnumerator0():t.GetEnumerator()}let me=C(t=>{var e;return e=class extends K{constructor(s,i,o,l){super();a(this,"s");a(this,"c");a(this,"n");a(this,"d");a(this,"e");this.s=s,this.c=i,this.n=o,this.d=l,this.e=0}MoveNext(){const s=this.n(this);return this.e=s?1:2,s}get Current(){return this.e===1?this.c:this.e===0?Z("Enumeration has not started. Call MoveNext."):Z("Enumeration already finished.")}Dispose(){this.d&&this.d(this)}},me=t(e),e}),He=C(t=>{var e;return e=class{},He=t(e),a(e,"RenderedFullDocTemplate"),a(e,"TextHoleRE"),a(e,"GlobalHoles"),a(e,"LocalTemplatesLoaded"),a(e,"LoadedTemplates"),e.LoadedTemplates=new ce("New_5"),e.LocalTemplatesLoaded=!1,e.GlobalHoles=new ce("New_5"),e.TextHoleRE="\\${([^}]+)}",e.RenderedFullDocTemplate=null,e});function vt(t,e){it(t,e,null)}function it(t,e,r){for(;;){if(e!=null&&e.$==1)return ft(t,e.$0.El,r);if(e!=null&&e.$==2){const n=e.$0;n.Dirty=!1,e=n.Current}else{if(e==null)return r;if(e!=null&&e.$==4)return ft(t,e.$0.Text,r);if(e!=null&&e.$==5)return ft(t,e.$0,r);if(e!=null&&e.$==6)return Jt((n,s)=>(i=>o=>l=>o==null||o.constructor===Object?it(i,o,l):ft(i,o,l))(t)(n)(s),e.$0.Els,r);{const n=e.$1;e=e.$0,r=it(t,n,r)}}}}function Di(t,e){return Do(Vo(),Gi(t,mr(),e))}function Vi(t,e,r){return dr()?Y(()=>{const n=xr(r),s=Oi(e,n),i=Ri(e,n);return Ze(vn(ho(s,Ui(e,n))),()=>Ze(wn(t,e),()=>Ze(vn(i),()=>(e.PreviousNodes=n,Pt(null)))))}):wn(t,e)}function Ii(t,e,r){const n=xr(r);ot(t,e.Top),e.PreviousNodes=n}function Fi(t,e){const r=t.parentNode,n=globalThis.document.createTextNode("");return r.insertBefore(n,t),Mi(t,e),n}function ft(t,e,r){return lo(t,r,e),e}function Gi(t,e,r){vt(t,r);const n=gr(t,e);return Fe.New(n,r,null,t,Xe(),Ye(n.OnAfterRender))}function wn(t,e){if(hr()){const r=n=>{requestAnimationFrame(()=>{ot(t,e.Top),n()})};return jt((n,s,i)=>r.apply(null,[n,s,i]))}else return ot(t,e.Top),Pt(null)}function Ui(t,e){return kt(xe(r=>wo(r.Attr),tn(Er(e,en(r=>po(r.Attr),t.PreviousNodes)))))}function Ri(t,e){return kt(xe(r=>bo(r.Attr),tn(Er(t.PreviousNodes,en(r=>mo(r.Attr),e)))))}function Oi(t,e){const r=s=>$o(s.Attr),n=s=>en(r,s);return kt(xe(s=>vo(s.Attr),tn(Io(n(t.PreviousNodes),n(e)))))}function ot(t,e){t||Hi(e),rr(e.Children),sr(e)}function Wi(){return{Text:globalThis.document.createTextNode(""),Dirty:!1,Value:""}}function qi(t,e){t.Value=e,t.Dirty=!0}function Mi(t,e){it(t.parentNode,e,t)}function Hi(t){function e(r){function n(s){for(;;)if(s!=null&&s.$==0){const i=s.$1,o=s.$0;if(n(o))return!0;s=i}else if(s!=null&&s.$==2){const i=s.$0;if(i.Dirty)return!0;s=i.Current}else if(s!=null&&s.$==6){const i=s.$0;return i.Dirty||jn(e,i.Holes)}else return!1}return n(r.Children)}br(t.El,t.Attr),e(t)&&ji(t)}function rr(t){for(;;){if(t!=null&&t.$==1)return ot(!1,t.$0);if(t!=null&&t.$==2)t=t.$0.Current;else{if(t==null)return null;if(t!=null&&t.$==5)return null;if(t!=null&&t.$==4){const e=t.$0;return e.Dirty?(e.Text.nodeValue=e.Value,e.Dirty=!1):null}else if(t!=null&&t.$==6){const e=t.$0;return te(r=>{ot(!1,r)},e.Holes),te(r=>{br(r[0],r[1])},e.Attrs),sr(e)}else{const e=t.$1,r=t.$0;rr(r),t=e}}}}function sr(t){const e=Ye(t.Render);e!=null&&e.$==1&&(e.$0(t.El),_e(t,"Render",null))}function ji(t){const e=t.El;function r(o,l){for(;;){if(o!=null&&o.$==1)return o.$0.El;if(o!=null&&o.$==2){const c=o.$0;if(c.Dirty)return c.Dirty=!1,it(e,c.Current,l);o=c.Current}else{if(o==null)return l;if(o!=null&&o.$==4)return o.$0.Text;if(o!=null&&o.$==5)return o.$0;if(o!=null&&o.$==6){const c=o.$0;return c.Dirty&&(c.Dirty=!1),Jt((d,f)=>d==null||d.constructor===Object?r(d,f):d,c.Els,l)}else{const c=o.$1;o=o.$0,l=r(c,l)}}}}const n=t.El;$l(o=>{co(n,o)},bl(vl(t),ml(t.El,Ye(t.Delimiters))));let s=t.Children;const i=Ye(t.Delimiters);r(s,i!=null&&i.$==1?i.$0[1]:null)}let Qt=C(t=>{var e;return e=class{},Qt=t(e),a(e,"counter"),e.counter=0,e}),Fe=C(t=>{var e;return e=class{constructor(){a(this,"Attr");a(this,"Children");a(this,"Delimiters");a(this,"El");a(this,"ElKey");a(this,"Render")}Equals(n){return this.ElKey===n.ElKey}GetHashCode(){return this.ElKey}static New(n,s,i,o,l,c){const d={Attr:n,Children:s,El:o,ElKey:l};let f=(_e(d,"Delimiters",i),_e(d,"Render",c),d);return le(Fe,f)}},Fe=t(e),e}),ir=C(t=>{var r;return M(Error),r=class extends Error{constructor(i,o,l,c){var s=(...e)=>(super(...e),a(this,"ct"),this);let d;if(i=="New"&&(d=o,i="New_1",o="The operation was canceled.",l=null,c=d),i=="New_1"){const f=o,$=l,p=c;s(f),this.inner=$,this.ct=p}}static New(i){return new this("New",i)}static New_1(i,o,l){return new this("New_1",i,o,l)}},ir=t(r),r}),or=C(t=>{var e;return e=class extends K{constructor(){super();a(this,"init");a(this,"c");a(this,"pending");a(this,"r");this.c=!1,this.pending=null,this.r=[],this.init=1}},or=t(e),e}),lr=C(t=>{var e;return M(ee),e=class extends ee{constructor(s,i,o,l){super(s,i);a(this,"docNode_1");a(this,"updates_1");a(this,"elt");a(this,"rvUpdates");this.docNode_1=s,this.updates_1=i,this.elt=o,this.rvUpdates=l}static TreeNode(s,i){const o=pt.Create(i),l=xe(f=>pr(f[1]),s.Attrs);let c=Dt(lt(),yt,l),d=yt(c,o.v);return new e(Yn(s),d,x(s.Els,0),o)}},lr=t(e),e});function lt(t){const e={s:Ne(t)};return()=>e}function cr(t,e){function r(){Ss(e(),t,()=>{Ue().Fork(r)})}Ue().Fork(r)}function H(t,e){return dt(()=>qe(t,e()))}function Ki(t,e,r,n){return dt(()=>Ts(t,e(),r(),n()))}function Bi(t){return dt(()=>Ls(Se(e=>e(),t)))}function zi(t,e,r){return dt(()=>Et(t,e(),r()))}function yt(t,e){return dt(()=>ks(t(),e()))}function dt(t){const e={c:null,o:t};return()=>{let r=e.c;if(r===null){r=e.o(),e.c=r;const n=r.s;return n!=null&&n.$==0?e.o=null:In(r,()=>{e.c=null}),r}else return r}}function Ji(t){let e=null,r=0;const n=t.textContent,s=new RegExp(nt(),"g");for(;e=s.exec(n),e!==null;){t.parentNode.insertBefore(globalThis.document.createTextNode(Ce(n,b(r),b(s.lastIndex-x(e,0).length-1))),t),r=s.lastIndex;const i=globalThis.document.createElement("span");i.setAttribute("ws-replace",x(e,1).toLowerCase()),t.parentNode.insertBefore(i,t)}s.lastIndex=0,t.textContent=Ce(n,b(r),null)}function mn(t){console.warn("Instantiating non-loaded template",t)}function Zi(t,e,r){const n=t.querySelector("[ws-replace]");return A(n,null)?(console.warn("Filling non-existent text hole",r),null):(n.parentNode.replaceChild(globalThis.document.createTextNode(e),n),b(n.getAttribute("ws-replace")))}function Qi(t,e){const r=n=>{z(t,"["+n+"]",s=>{e.Contains(s.getAttribute(n))||s.removeAttribute(n)})};r("ws-attr"),r("ws-onafterrender"),r("ws-var"),z(t,"[ws-hole]",n=>{if(!e.Contains(n.getAttribute("ws-hole")))for(n.removeAttribute("ws-hole");n.hasChildNodes();)n.removeChild(n.lastChild)}),z(t,"[ws-replace]",n=>{e.Contains(n.getAttribute("ws-replace"))||n.parentNode.removeChild(n)}),z(t,"[ws-on]",n=>{n.setAttribute("ws-on",Re(" ",at(s=>e.Contains(x(ge(s,[":"],1),1)),ge(n.getAttribute("ws-on"),[" "],1))))}),z(t,"[ws-attr-holes]",n=>{const s=ge(n.getAttribute("ws-attr-holes"),[" "],1);for(let i=0,o=s.length-1;i<=o;i++){const l=x(s,i);let c=new RegExp(nt(),"g"),d=n.getAttribute(l).replace(c,(f,$)=>e.Contains($)?f:"");n.setAttribute(l,d)}})}function Xi(t,e){ur(e);const r=e.nodeName.toLowerCase(),n=t.querySelector("[ws-attr="+r+"]");if(A(n,null))console.warn("Filling non-existent attr hole",r);else{n.removeAttribute("ws-attr");for(let s=0,i=e.attributes.length-1;s<=i;s++){const o=e.attributes.item(s);o.name=="class"&&n.hasAttribute("class")?n.setAttribute("class",n.getAttribute("class")+" "+o.nodeValue):n.setAttribute(o.name,o.nodeValue)}}}function Yi(t,e){const r=n=>{z(t,"["+n+"]",s=>{let i;const o=(i=null,[e.TryGetValue(s.getAttribute(n).toLowerCase(),{get:()=>i,set:l=>{i=l}}),i]);o[0]&&s.setAttribute(n,o[1])})};r("ws-hole"),r("ws-replace"),r("ws-attr"),r("ws-onafterrender"),r("ws-var"),z(t,"[ws-on]",n=>{n.setAttribute("ws-on",Re(" ",xe(s=>{let i;const o=ge(s,[":"],1),l=(i=null,[e.TryGetValue(x(o,1),{get:()=>i,set:c=>{i=c}}),i]);return l[0]?x(o,0)+":"+l[1]:s},ge(n.getAttribute("ws-on"),[" "],1))))}),z(t,"[ws-attr-holes]",n=>{const s=ge(n.getAttribute("ws-attr-holes"),[" "],1);for(let i=0,o=s.length-1;i<=o;i++)(()=>{const l=x(s,i);return n.setAttribute(l,hi((c,d)=>{const f=Le(d);return c.replace(new RegExp("\\${"+f[0]+"}","ig"),"${"+f[1]+"}")},n.getAttribute(l),e))})()})}function bn(t,e,r){for(;;)if(t.hasChildNodes())r=e.insertBefore(t.lastChild,r);else return null}function ur(t){const e=t.attributes,r=[],n=[],s=[];for(let o=0,l=e.length-1;o<=l;o++){const c=e.item(o);if(Wt(c.nodeName,"ws-on")&&c.nodeName!="ws-onafterrender"&&c.nodeName!="ws-on")r.push(c.nodeName),n.push(Ce(c.nodeName,b(5),null)+":"+c.nodeValue.toLowerCase());else if(!Wt(c.nodeName,"ws-")&&new RegExp(nt()).test(c.nodeValue)){let d=new RegExp(nt(),"g"),f=c.nodeValue.replace(d,($,p)=>"${"+p.toLowerCase()+"}");c.nodeValue=f,s.push(c.nodeName)}}n.length!=0&&t.setAttribute("ws-on",Re(" ",n)),s.length!=0&&t.setAttribute("ws-attr-holes",Re(" ",s));const i=o=>{const l=t.getAttribute(o);l==null||t.setAttribute(o,l.toLowerCase())};i("ws-hole"),i("ws-replace"),i("ws-attr"),i("ws-onafterrender"),i("ws-var"),te(o=>{t.removeAttribute(o)},r)}function Ce(t,e,r){if(e==null)if(r!=null&&r.$==1){const n=r.$0;return n<0?"":t.slice(0,n+1)}else return"";else{if(r==null)return t.slice(e.$0);{const n=r.$0;return n<0?"":t.slice(e.$0,n+1)}}}function _i(t){const e=globalThis.document.createElement("div");if(eo().test(t)){let o=function(l,c){for(;;){if(c===0)return l;{const d=c;l=l.lastChild,c=d-1}}};const r=so().exec(t),n=A(r,null)?"":x(r,1).toLowerCase(),s=to()[n],i=s||no();return e.innerHTML=i[1]+t.replace(ro(),"<$1></$2>")+i[2],o(e,i[0])}else return e.appendChild(globalThis.document.createTextNode(t)),e}function $n(t){const e=[];for(let r=0,n=t.childNodes.length-1;r<=n;r++)e.push(t.childNodes[r]);return e}function eo(){return Ke.rhtml}function to(){return Ke.wrapMap}function no(){return Ke.defaultWrap}function ro(){return Ke.rxhtmlTag}function so(){return Ke.rtagName}function io(t,e,r){const n=t.querySelectorAll(e);for(let s=0,i=n.length-1;s<=i;s++)r(n[s])}function oo(t,e){const r=globalThis.document.querySelectorAll(t);for(let n=0,s=r.length-1;n<=s;n++)e(r[n])}function lo(t,e,r){let n;if(r.parentNode===t){const s=r.nextSibling;let i=A(s,null)?null:s;n=e===i}else n=!1;n||t.insertBefore(r,e)}function co(t,e){e.parentNode===t&&t.removeChild(e)}function qt(){return Z("The input sequence has an insufficient number of elements.")}function uo(t,e){let r=!0,n=0;for(;r&&n<G(e);)A(e[n],t)?r=!1:n=n+1;return!r}function ao(){return Z("The input must be non-negative.")}let ar=C(t=>{var e;return e=class extends K{constructor(s){super();a(this,"d");this.d=s}GetEnumerator(){return O(Se(s=>s.K,this.d))}},ar=t(e),e});function dr(){return Fo()}function vn(t){return Y(()=>Ze(fo(()=>{},Go(t)),()=>(Uo(t),Pt(null))))}function ho(t,e){return Xt(Lr(t.$0,e.$0))}function fo(t,e){const r=e.Duration;if(r===0)return Ot();{const n=s=>{function i(o){return l=>{const c=l-o;return e.Compute(c),c<=r?void requestAnimationFrame(d=>{i(o)(d)}):s()}}requestAnimationFrame(o=>{i(o)(o)})};return jt((s,i,o)=>n.apply(null,[s,i,o]))}}function Xt(t){return{$:0,$0:t}}function kt(t){return Xt(Mo(Se(Oo,t)))}function It(){return Xt(Dr())}function hr(){return Sr.BatchUpdatesEnabled}function go(t){const e=[0];function r(){return Y(()=>Ze(t,()=>{const n=e[0];return A(n,1)?(e[0]=0,Ot()):A(n,2)?(e[0]=1,r()):Ot()}))}return()=>{const n=e[0];A(n,0)?(e[0]=1,oe(r())):A(n,1)&&(e[0]=2)}}function fr(t,e,r,n){const s={DynElem:t,DynFlags:e,DynNodes:r};return _e(s,"OnAfterRender",n),s}function gr(t,e){const r=[],n=[];function s(l){for(;;)if(l!==null){if(l!=null&&l.$==1)return r.push(l.$0);if(l!=null&&l.$==2){const c=l.$1,d=l.$0;s(d),l=c}else return l!=null&&l.$==3?l.$0(t):l!=null&&l.$==4?n.push(l.$0):null}else return null}s(e);const i=r.slice(0);return fr(t,Mt(e),i,n.length===0?null:b(l=>{fi(c=>{c(l)},n)}))}function pr(t){return ko(e=>e.NChanged,lt(),yt,t.DynNodes)}function Ft(t){return fr(t,0,[],null)}function Mt(t){return t!==null&&t.hasOwnProperty("flags")?t.flags:0}function Ct(t){return ue.A3(t)}function wr(t,e){return ue.A1(new Vr(t,e))}function mr(){return F.EmptyAttr}function po(t){return(t.DynFlags&2)===2}function wo(t){return Yt(t,(e,r)=>e.NGetExitAnim(r))}function mo(t){return(t.DynFlags&1)===1}function bo(t){return Yt(t,(e,r)=>e.NGetEnterAnim(r))}function $o(t){return(t.DynFlags&4)===4}function vo(t){return Yt(t,(e,r)=>e.NGetChangeAnim(r))}function yo(t,e){if(t===null)return e;if(e===null)return t;{const r=ue.A2(t,e);return Co(r,Mt(t)|Mt(e)),r}}function Yt(t,e){return kt(xe(r=>e(r,t.DynElem),t.DynNodes))}function br(t,e){te(r=>{r.NSync(t)},e.DynNodes)}function Co(t,e){t.flags=e}let $r=C(t=>{var e;return M(S),e=class extends S{constructor(){super(...arguments);a(this,"name");a(this,"fillWith")}get Value(){return this.fillWith}get Name(){return this.name}},$r=t(e),e}),vr=C(t=>{var e;return M(S),e=class extends S{constructor(){super(...arguments);a(this,"name");a(this,"fillWith")}get Value(){return this.fillWith}get Name(){return this.name}},vr=t(e),e}),yr=C(t=>{var e;return M(S),e=class extends S{constructor(){super(...arguments);a(this,"name");a(this,"fillWith")}get Value(){return this.fillWith}get Name(){return this.name}},yr=t(e),e});function Ao(t,e){return Ct(r=>{r.addEventListener(t,n=>e(r)(n),!1)})}function yn(t){return ue.A4(t)}function Be(t,e){return wr(e,r=>n=>r.setAttribute(t,n))}function No(t){return je(dl(),t)}function xo(t){return je(hl(),t)}function Eo(t){return je(fl(),t)}function Po(t){return je(gl(),t)}function So(t){return je(pl(),t)}function To(t){return je(wl(),t)}function je(t,e){const r=t(e);return ue.Append(Ct(r[0]),Lo(r[1],r[2]))}function Lo(t,e){return wr(e,t)}let ue=C(t=>{var e;return e=class{static Handler(n,s){return ue.HandlerImpl(n,s)}static Concat(n){const s=Vt(n);return Dt(mr(),ue.Append,s)}static Create(n,s){return Ct(i=>{i.setAttribute(n,s)})}static HandlerImpl(n,s){return Ct(i=>{i.addEventListener(n,o=>s(i)(o),!1)})}static Append(n,s){return yo(n,s)}static A4(n){return le(e,{$:4,$0:n})}static A3(n){return le(e,{$:3,$0:n})}static A1(n){return le(e,{$:1,$0:n})}static A2(n,s){return le(e,{$:2,$0:n,$1:s})}},ue=t(e),e}),Cr=C(t=>{var e;return M(S),e=class extends S{constructor(){super(...arguments);a(this,"name");a(this,"fillWith")}get Value(){return this.fillWith}get Name(){return this.name}},Cr=t(e),e}),Ar=C(t=>{var e;return M(S),e=class extends S{constructor(){super(...arguments);a(this,"name");a(this,"fillWith")}get Value(){return this.fillWith}get Name(){return this.name}},Ar=t(e),e});function _t(t){return{$:0,$0:t}}function Te(t){return{$:1,$0:t}}let Oe=C(t=>{var e;return e=class{static Cons(n,s){return le(e,{$:1,$0:n,$1:s})}GetEnumerator(){return new me(this,null,n=>{const s=n.s;return s.$==0?!1:(n.c=s.$0,n.s=s.$1,!0)},void 0)}},Oe=t(e),a(e,"Empty",le(Oe,{$:0})),e});function Dt(t,e,r){const n=G(r);function s(i){return o=>{switch(o<=0?0:o===1&&i>=0&&i<n?1:2){case 0:return t;case 1:return x(r,i);case 2:const l=o/2>>0;return e(s(i)(l),s(i+l)(o-l))}}}return s(0)(n)}function ko(t,e,r,n){const s=G(n);function i(o){return l=>{switch(l<=0?0:l===1&&o>=0&&o<s?1:2){case 0:return e;case 1:return t(x(n,o));case 2:const c=l/2>>0;return r(i(o)(c),i(o+c)(l-c))}}}return i(0)(s)}function Vt(t){if(t instanceof Array)return t;if(t instanceof Oe)return Kn(t);if(t===null)return[];{const e=[],r=O(t);try{for(;r.MoveNext();)e.push(r.Current);return e}finally{typeof r=="object"&&se(r)&&r.Dispose()}}}let pt=C(t=>{var e;return e=class{constructor(){a(this,"c");a(this,"s");a(this,"v")}static Create(n){let s;return s=null,s=pt.New(n,null,()=>{let i;return i=s.s,i===null&&(i=Ds(s.c()),s.s=i,In(i,()=>{s.s=null})),i}),s}static New(n,s,i){return le(pt,{c:n,s,v:i})}},pt=t(e),e}),Nr=C(t=>{var e;return e=class extends K{constructor(s){super();a(this,"d");this.d=s}GetEnumerator(){return O(Se(s=>s.V,this.d))}},Nr=t(e),e});function Do(t,e){return{PreviousNodes:t,Top:e}}function Vo(){return ht(new ae("New_3"))}function xr(t){const e=[];function r(i,o){for(;;)switch(i){case 0:if(o!=null&&o.$==0){const l=o.$1,c=o.$0;r(0,c),o=l}else if(o!=null&&o.$==1)o=o.$0,i=1;else if(o!=null&&o.$==2)o=o.$0.Current;else if(o!=null&&o.$==6){const l=o.$0.Holes;return(c=>d=>{te(c,d)})(s)(l)}else return null;break;case 1:e.push(o),o=o.Children,i=0;break}}function n(i){return r(0,i)}function s(i){return r(1,i)}return n(t),ht(new ae("New_2",e))}function ht(t){return{$:0,$0:t}}function en(t,e){return ht(Ho(t,e.$0))}function Er(t,e){return ht(jo(t.$0,e.$0))}function tn(t){return We(t.$0)}function Io(t,e){return ht(Ko(t.$0,e.$0))}function Fo(){return Tr.UseAnimations}function Go(t){return Ro(zt(e=>e.$==1?b(e.$0):null,kr(t.$0)))}function Uo(t){te(e=>{e.$==0&&e.$0()},kr(t.$0))}function Ro(t){const e=Vt(t),r=G(e);if(r===0)return Wo();if(r===1)return x(e,0);{const n=pi(Se(i=>i.Duration,e)),s=xe(i=>qo(n,i),e);return Pr(n,i=>{te(o=>{o.Compute(i)},s)})}}function Oo(t){return t.$0}function Wo(t){return Pr(0,()=>t)}function Pr(t,e){return{Compute:e,Duration:t}}function qo(t,e){const r=e.Compute,n=e.Duration,s=Nl(()=>e.Compute(e.Duration));return{Compute:i=>i>=n?s.f():r(i),Duration:t}}let Sr=C(t=>{var e;return e=class{},Sr=t(e),a(e,"BatchUpdatesEnabled"),e.BatchUpdatesEnabled=!0,e});function Gt(t){let e=[];for(var r in t)e.push.apply(e,t[r]);return e}let Ke=C(t=>{var e;return e=class{},Ke=t(e),a(e,"defaultWrap"),a(e,"wrapMap"),a(e,"rhtml"),a(e,"rtagName"),a(e,"rxhtmlTag"),(()=>{e.rxhtmlTag=new RegExp("<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\\w:]+)[^>]*)\\/>","gi"),e.rtagName=new RegExp("<([\\w:]+)"),e.rhtml=new RegExp("<|&#?\\w+;");const n=[1,"<table>","</table>"];let s=Object.fromEntries([["option",[1,"<select multiple='multiple'>","</select>"]],["legend",[1,"<fieldset>","</fieldset>"]],["area",[1,"<map>","</map>"]],["param",[1,"<object>","</object>"]],["thead",n],["tbody",n],["tfoot",n],["tr",[2,"<table><tbody>","</tbody></table>"]],["col",[2,"<table><colgroup>","</colgoup></table>"]],["td",[3,"<table><tbody><tr>","</tr></tbody></table>"]]]);e.wrapMap=s,e.defaultWrap=[0,"",""]})(),e}),Tr=C(t=>{var e;return e=class{},Tr=t(e),a(e,"UseAnimations"),a(e,"CubicInOut"),e.CubicInOut=Fr.Custom(n=>{const s=n*n;return 3*s-2*(s*n)}),e.UseAnimations=!0,e});function Lr(t,e){return t.$==0?e:e.$==0?t:{$:2,$0:t,$1:e}}function kr(t){const e=[];function r(n){for(;;){if(n.$==1)return e.push(n.$0);if(n.$==2){const s=n.$1,i=n.$0;r(i),n=s}else return n.$==3?te(s=>{e.push(s)},n.$0):null}}return r(t),e.slice(0)}function Mo(t){const e=Vt(t);return Dt(Dr(),Lr,e)}function Dr(){return Ur.Empty}let Vr=C(t=>{var e;return e=class extends K{constructor(s,i){super();a(this,"push");a(this,"value");a(this,"dirty");a(this,"updates");this.push=i,this.value=void 0,this.dirty=!1,this.updates=H(o=>{this.value=o,this.dirty=!0},s)}get NChanged(){return this.updates}NGetExitAnim(s){return It()}NGetEnterAnim(s){return It()}NGetChangeAnim(s){return It()}NSync(s){this.dirty&&(this.push(s)(this.value),this.dirty=!1)}},Vr=t(e),e}),Ir=C(t=>{var e;return M(Error),e=class extends Error{static New(){return new this("New")}static New_1(n){return new this("New_1",n)}constructor(n,s){if(n=="New"&&(n="New_1",s="The given key was not present in the dictionary."),n=="New_1"){const i=s;super(i)}}},Ir=t(e),e}),F=C(t=>{var e;return e=class{},F=t(e),a(e,"FloatApplyChecked"),a(e,"FloatGetChecked"),a(e,"FloatSetChecked"),a(e,"FloatApplyUnchecked"),a(e,"FloatGetUnchecked"),a(e,"FloatSetUnchecked"),a(e,"IntApplyChecked"),a(e,"IntGetChecked"),a(e,"IntSetChecked"),a(e,"IntApplyUnchecked"),a(e,"IntGetUnchecked"),a(e,"IntSetUnchecked"),a(e,"FileApplyUnchecked"),a(e,"FileGetUnchecked"),a(e,"FileSetUnchecked"),a(e,"DateTimeApplyUnchecked"),a(e,"DateTimeGetUnchecked"),a(e,"DateTimeSetUnchecked"),a(e,"StringListApply"),a(e,"StringListGet"),a(e,"StringListSet"),a(e,"StringApply"),a(e,"StringGet"),a(e,"StringSet"),a(e,"BoolCheckedApply"),a(e,"EmptyAttr"),(()=>{e.EmptyAttr=null,e.BoolCheckedApply=u=>[h=>{h.addEventListener("change",()=>u.Get()!=h.checked?u.Set(h.checked):null)},h=>g=>g!=null&&g.$==1?void(h.checked=g.$0):null,H(b,u.View)],e.StringSet=u=>h=>{u.value=h},e.StringGet=u=>b(u.value);const n=Zo(),s=Jo();e.StringApply=u=>Ee(n,s,u),e.StringListSet=u=>h=>{const g=u.options;for(let w=0,m=g.length-1;w<=m;w++)(()=>{const y=g.item(w);y.selected=uo(y.value,h)})()},e.StringListGet=u=>{const h=u.selectedOptions;return b(rt(pn(()=>gi(g=>[h.item(g).value],an(0,h.length-1)))))};const i=Xo(),o=Qo();e.StringListApply=u=>Ee(i,o,u),e.DateTimeSetUnchecked=u=>h=>{u.value=new Date(h).toLocaleString()},e.DateTimeGetUnchecked=u=>{let h,g;const w=u.value;if(ze(w))return b(-864e13);{h=0;const m=Cl(w);return g=[m!=null&&m.$==1&&(h=m.$0,!0),h],g[0]?b(g[1]):null}};const l=_o(),c=Yo();e.DateTimeApplyUnchecked=u=>Ee(l,c,u),e.FileSetUnchecked=()=>()=>null,e.FileGetUnchecked=u=>{const h=u.files;return b(rt(pn(()=>Se(g=>h.item(g),an(0,h.length-1)))))};const d=nl(),f=tl();e.FileApplyUnchecked=u=>el(d,f,u),e.IntSetUnchecked=u=>h=>{u.value=String(h)},e.IntGetUnchecked=u=>{const h=u.value;if(ze(h))return b(0);{const g=+h;return g!==g>>0?null:b(g)}};const $=sl(),p=rl();e.IntApplyUnchecked=u=>Ee($,p,u),e.IntSetChecked=u=>h=>{const g=h.Input;return u.value!=g?void(u.value=g):null},e.IntGetChecked=u=>{let h,g;const w=u.value;if(ze(w))h=!u.checkValidity||u.checkValidity()?we.Blank(w):we.Invalid(w);else{const m=(g=0,[Pi(w,{get:()=>g,set:y=>{g=y}}),g]);h=m[0]?we.Valid(m[1],w):we.Invalid(w)}return b(h)};const v=ol(),T=il();e.IntApplyChecked=u=>Ee(v,T,u),e.FloatSetUnchecked=u=>h=>{u.value=String(h)},e.FloatGetUnchecked=u=>{const h=u.value;if(ze(h))return b(0);{const g=+h;return isNaN(g)?null:b(g)}};const U=cl(),I=ll();e.FloatApplyUnchecked=u=>Ee(U,I,u),e.FloatSetChecked=u=>h=>{const g=h.Input;return u.value!=g?void(u.value=g):null},e.FloatGetChecked=u=>{let h;const g=u.value;if(ze(g))h=!u.checkValidity||u.checkValidity()?we.Blank(g):we.Invalid(g);else{const w=+g;h=isNaN(w)?we.Invalid(g):we.Valid(w,g)}return b(h)};const N=al(),L=ul();e.FloatApplyChecked=u=>Ee(N,L,u)})(),e}),Fr=C(t=>{var e;return e=class extends K{constructor(s){super();a(this,"transformTime");this.transformTime=s}static Custom(s){return new e(s)}},Fr=t(e),e});function Ho(t,e){return new ae("New_2",at(t,We(e)))}function jo(t,e){const r=new ae("New_2",We(e));return r.ExceptWith(We(t)),r}function We(t){const e=xi(t.Count,void 0);return t.CopyTo(e,0),e}function Ko(t,e){const r=new ae("New_2",We(t));return r.IntersectWith(We(e)),r}function Bo(t){return t.$==1?t.$0:Gr()}function zo(t){return t.$==1?t.$1:Gr()}function Gr(){return Z("The input list was empty.")}function Ee(t,e,r){let n;return n=null,[s=>{const i=()=>{r.UpdateMaybe(o=>{let l;return n=t(s),n!=null&&n.$==1&&!A(n.$0,o)&&(l=[n,n.$0],!0)?l[0]:null})};s.addEventListener("change",i),s.addEventListener("input",i),s.addEventListener("keypress",i)},s=>{const i=e(s);return o=>o==null?null:i(o.$0)},H(s=>n!=null&&n.$==1&&A(n.$0,s)&&(n.$0,!0)?null:b(s),r.View)]}function Jo(){return F.StringSet}function Zo(){return F.StringGet}function Qo(){return F.StringListSet}function Xo(){return F.StringListGet}function Yo(){return F.DateTimeSetUnchecked}function _o(){return F.DateTimeGetUnchecked}function el(t,e,r){let n;return n=null,[s=>{s.addEventListener("change",()=>{r.UpdateMaybe(i=>{let o;return n=t(s),n!=null&&n.$==1&&n.$0!==i&&(o=[n,n.$0],!0)?o[0]:null})})},s=>{const i=e(s);return o=>o==null?null:i(o.$0)},H(s=>n!=null&&n.$==1&&A(n.$0,s)&&(n.$0,!0)?null:b(s),r.View)]}function tl(){return F.FileSetUnchecked}function nl(){return F.FileGetUnchecked}function rl(){return F.IntSetUnchecked}function sl(){return F.IntGetUnchecked}function il(){return F.IntSetChecked}function ol(){return F.IntGetChecked}function ll(){return F.FloatSetUnchecked}function cl(){return F.FloatGetUnchecked}function ul(){return F.FloatSetChecked}function al(){return F.FloatGetChecked}function dl(){return F.StringApply}function hl(){return F.FloatApplyUnchecked}function fl(){return F.BoolCheckedApply}function gl(){return F.DateTimeApplyUnchecked}function pl(){return F.FileApplyUnchecked}function wl(){return F.StringListApply}function ze(t){return Xs(yl,t)}let we=C(t=>{var e;return e=class{get Input(){return this.$==1?this.$0:this.$==2?this.$0:this.$1}static Blank(n){return le(e,{$:2,$0:n})}static Invalid(n){return le(e,{$:1,$0:n})}static Valid(n,s){return le(e,{$:0,$0:n,$1:s})}},we=t(e),e});function ml(t,e){let r;if(e!=null&&e.$==1){const n=[];for(r=e.$0[0].nextSibling;r!==e.$0[1];)n.push(r),r=r.nextSibling;return At(n)}else{let n=t.childNodes.length;const s=t.childNodes;let i=Ei(n,o=>s[o]);return At(i)}}function bl(t,e){const r=t.$0;return At(at(n=>Bn(s=>n!==s,r),e.$0))}function $l(t,e){te(t,e.$0)}function vl(t){const e=[];function r(n){for(;;)if(n!=null&&n.$==2)n=n.$0.Current;else{if(n!=null&&n.$==1)return e.push(n.$0.El);if(n==null)return null;if(n!=null&&n.$==5)return e.push(n.$0);if(n!=null&&n.$==4)return e.push(n.$0.Text);if(n!=null&&n.$==6){const s=n.$0.Els;return(i=>o=>{te(i,o)})(i=>{i==null||i.constructor===Object?r(i):e.push(i)})(s)}else{const s=n.$1,i=n.$0;r(i),n=s}}}return r(t.Children),At(Vt(e))}function At(t){return{$:0,$0:t}}function yl(t){return t.match(new RegExp("\\s"))!==null}function Cl(t){const e=Date.parse(t);return isNaN(e)?null:b(e)}function Al(t,e,r,n){const s=+t,i=s===s-s%1&&s>=e&&s<=r;return i&&n.set(s),i}function Nl(t){return Sl(!1,t,xl)}function xl(){const t=this.v();return this.c=!0,this.v=t,this.f=El,t}function El(){return this.v}let Ur=C(t=>{var e;return e=class{},Ur=t(e),a(e,"Empty"),e.Empty={$:0},e});function Pl(t){t.splice(0,G(t))}function Sl(t,e,r){return{c:t,v:e,f:r}}Hr(()=>{us()});jr();export{ye as B,Ve as C,Nt as W,Ie as _,cn as a,Ll as b,kl as g,Ae as r};
