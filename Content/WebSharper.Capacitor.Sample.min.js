import { Start as fS } from "./WebSharper.Core.JavaScript/Runtime.js"
import { Lazy as fT, MarkResizable as fU, SetOptional as fV, Force as fW, GetOptional as fX, CreateFuncWithArgs as fY, DeleteEmptyFields as fZ, Create as f0, OnLoad as f1 } from "./WebSharper.Core.JavaScript/Runtime.js"
import { Camera as f2 } from "@capacitor/camera"
import { Clipboard as f3 } from "@capacitor/clipboard"
import { CapacitorCookies as f4 } from "@capacitor/core"
import { Dialog as f5 } from "@capacitor/dialog"
import { Preferences as f6 } from "@capacitor/preferences"
import { BiometricAuth as f7 } from "@aparajita/capacitor-biometric-auth"
import { LocalNotifications as f8 } from "@capacitor/local-notifications"
function a(f9){ return"Dispose"in f9;}
function b(){ const f9=d.Create_1("");const f_=d.Create_1("");const f$=d.Create_1("");const ga=d.Create_1("");const gb=d.Create_1("");const gc=d.Create_1("");const gd=d.Create_1("");const ge=new m("New_1");const gf=(ge.h.push(p(ge.k, "takephoto", () => ge.i, () => { const gA=null;bj(bi(() => bt(r().then((gB) => d.Set(gc, String(bv(gB.base64String, 0, 20)))))), null);})),ge);const gg=(gf.h.push(new bd("cameraoutput", gc.View)),gf);const gh=(gg.h.push(new be("clipboardvalue", ga)),gg);const gi=(gh.h.push(p(gh.k, "writeclipboard", () => gh.i, () => { const gA=null;bj(bi(() => bt(s(ga.Get()).then(() => d.Set(gb, "Successfully write '"+String(ga.Get())+"' to clipboard")))), null);})),gh);const gj=(gi.h.push(new bd("writeclipboardoutput", gb.View)),gi);const gk=(gj.h.push(p(gj.k, "setcookies", () => gj.i, () => { const gA=null;bj(bi(() => bt(t().then(() => { const gB=(gC) => { console.log(gC);};return gB("Successfully Set Cookies");}))), null);})),gj);const gl=(gk.h.push(p(gk.k, "showalert", () => gk.i, () => { const gA=null;bj(bi(() => bt(u().then(() => { const gB=(gC) => { console.log(gC);};return gB("Successfully Show Alert");}))), null);})),gk);const gm=(gl.h.push(p(gl.k, "showconfirm", () => gl.i, () => { const gA=null;bj(bi(() => bt(v().then(() => { const gB=(gC) => { console.log(gC);};return gB("Successfully Show Confirm");}))), null);})),gl);const gn=(gm.h.push(new be("preferencesvalue", f9)),gm);const go=(gn.h.push(p(gn.k, "save", () => gn.i, () => { const gA=null;bj(bi(() => bt(w(f9.Get()).then(() => d.Set(f_, "Save '"+String(f9.Get())+"' Successfully")))), null);})),gn);const gp=(go.h.push(new bd("preferencessavedvalue", f_.View)),go);const gq=(gp.h.push(p(gp.k, "get", () => gp.i, () => { const gA=null;bj(bi(() => bt(x().then((gB) => d.Set(f$, "Value: "+String(gB.value))))), null);})),gp);const gr=(gq.h.push(new bd("preferencesoutput", f$.View)),gq);const gs=(gr.h.push(p(gr.k, "login", () => gr.i, () => { const gA=null;bj(bi(() => bt(y().then(() => d.Set(gd, "Finger print log in")))), null);})),gr);const gt=(gs.h.push(new bd("loginoutput", gd.View)),gs);const gu=(gt.h.push(p(gt.k, "notification", () => gt.i, () => { const gA=null;bj(bi(() => bt(z().then(() => { const gB=(gC) => { console.log(gC);};return gB("Scheduled notification complete");}))), null);})),gt);const gv=(gu.h.push(p(gu.k, "deliverednotification", () => gu.i, () => { const gA=null;bj(bi(() => bt(A().then((gB) => alert(JSON.stringify(gB))))), null);})),gu);const gw=q(gv.k, gv.h, [["clipboardvalue", 0, null], ["preferencesvalue", 0, null]]);const gx=new h(gw[1], O(gw[0]));let gy=(gv.i=gx,gx);const gz=gy.Doc;bE("");bW.RunById("main", gz);}
let c=fT((f9) => class f_ { static { c=f9(this);} Equals(f$){ return this===f$;} GetHashCode(){ return -1;} });
let d=fT((f9) => class f_ extends c { static { d=f9(this);} static Create_1(f$){ return new P(false, {s:b0(f$, [])}, f$);} static Set(f$, ga){ f$.Set(ga);} static { } });
function e(f9){ throw new Error(f9);}
function f(f9){ return[f9.K, f9.V];}
function g(f9, f_){ const f$=1+f_-f9;return f$<=0?[]:ch(f$, (ga) => ga+f9);}
let h=fT((f9) => class f_ extends c { static { h=f9(this);} doc;allVars;anchorRoot;get Doc(){ return this.doc;} SetAnchorRoot(f$){ this.anchorRoot=f$;} constructor(f$, ga){ super();this.doc=ga;this.allVars=f$.$==0?f$.$0:e("Should not happen");this.anchorRoot=null;} });
function i(f9, f_){ k(f9, f_);return f9[f_];}
function j(f9, f_, f$){ k(f9, f_);f9[f_]=f$;}
function k(f9, f_){ if(f_<0||f_>=f9.length)e("Index was outside the bounds of the array.");}
function l(f9){ return f9.dims===2?f9.length*f9.length:f9.length;}
let m=fT((f9) => class f_ extends c { static { m=f9(this);} i;k;h;s;static New_1(){ return new this("New_1");} constructor(f$){ if(f$=="New_1"){ let ga;super();this.i=null;this.k=(ga=bf(),String(ga));this.h=fU([]);fV(this, "s", null);} } });
let n=fT((f9) => class f_ extends c { static { n=f9(this);} ForTextView(){ console.warn("Content hole filled with attribute data", this.Name);return null;} AddAttribute(f$, ga){ console.warn("Var hole filled with non-Var data", this.Name);} get AsChoiceView(){ console.warn("Attribute value hole filled with non-text data", this.Name);return ez("");} });
let o=fT((f9) => class f_ extends c { static { o=f9(this);} });
function p(f9, f_, f$, ga){ return new bg(f_, (gb) =>(gc) => { const gd=f$();gd.SetAnchorRoot(gb);return ga({Vars:gd, Anchors:gd, Target:gb, Event:gc});});}
function q(f9, f_, f$){ const ga=new b3("New_5");const gb=new b9("New_3");const gc=cU(f_);try { while(gc.MoveNext()){ const gd=gc.Current;const ge=gd.Name;gb.SAdd(ge);ga.set_Item(ge, gd);} } finally { if(typeof gc=="object"&&a(gc))gc.Dispose();} return[b_(f_, cn((gf) => { const gg=gf[0];const gh=gf[1];const gi=gf[2];if(gb.Contains(gg))return null;else { const gj=gh===0?cC.GetOrAddHoleFor(f9, gg, () => { const gk=gi==null?null:C(gi.$0);let gl=d.Create_1(gk==null?"":gk.$0);return new be(gg, gl);}):gh===1?cC.GetOrAddHoleFor(f9, gg, () => { const gk=gi==null?null:C(gi.$0);let gl=d.Create_1(gk==null?0:gk.$0);return new cD(gg, gl);}):gh===2?cC.GetOrAddHoleFor(f9, gg, () => { const gk=gi==null?null:C(gi.$0);let gl=d.Create_1(gk==null?false:gk.$0);return new cE(gg, gl);}):gh===3?cC.GetOrAddHoleFor(f9, gg, () => { const gk=gi==null?null:C(gi.$0);let gl=d.Create_1(gk==null?-8640000000000000:gk.$0);return new cF(gg, gl);}):gh===4?cC.GetOrAddHoleFor(f9, gg, () => new cG(gg, d.Create_1([]))):gh===5?cC.GetOrAddHoleFor(f9, gg, () => new cH(gg, d.Create_1(C(globalThis.document.querySelector("[ws-dom="+gg+"]"))))):gh===6?cC.GetOrAddHoleFor(f9, gg, () => { const gk=gi==null?null:C(gi.$0);let gl=d.Create_1(gk==null?[]:gk.$0);return new cI(gg, gl);}):e("Invalid value type");ga.set_Item(gg, gj);return C(gj);} }, f$)), {$:0, $0:ga}];}
function r(){ const f9=null;return new Promise((f_) => { f_(f2.getPhoto({resultType:"base64"}).then((f$) => Promise.resolve(f$)));});}
function s(f9){ const f_=null;return new Promise((f$) => { let ga;f$(f3.write((ga={},ga.string=String(f9),ga)).then(() => Promise.resolve(null)));});}
function t(){ const f9=null;return new Promise((f_) => { let f$;f_(f4.setCookie((f$={},f$.url="http://example.com'",f$.key="language",f$.value="en",f$)).then(() => Promise.resolve(null)));});}
function u(){ const f9=null;return new Promise((f_) => { let f$;f_(f5.alert((f$={},f$.title="Stop",f$.message="this is an error",f$)).then(() => Promise.resolve(null)));});}
function v(){ const f9=null;return new Promise((f_) => { let f$;f_(f5.confirm((f$={},f$.title="Confirm",f$.message="Are you sure you'd like to press the red button?",f$)).then((ga) => Promise.resolve(ga)));});}
function w(f9){ const f_=null;return new Promise((f$) => { f$(f6.set({key:"auth_token", value:f9}).then(() => Promise.resolve(null)));});}
function x(){ const f9=null;return new Promise((f_) => { f_(f6.get({key:"auth_token"}).then((f$) => Promise.resolve(f$)));});}
function y(){ const f9=null;return new Promise((f_) => { let f$;f_((f7.authenticate((f$={},f$.reason="Please authenticate",f$.cancelTitle="Cancel",f$.allowDeviceCredential=true,f$.iosFallbackTitle="Use passcode",f$.androidTitle="Biometric login",f$.androidSubtitle="Log in using biometric authentication",f$.androidConfirmationRequired=false,f$.androidBiometryStrength="weak",f$)),Promise.resolve(null)));});}
function z(){ const f9=null;return new Promise((f_) => { let f$;let ga;f_(f8.schedule((f$={},f$.notifications=[(ga={},ga.id=1,ga.title="Reminder Notification",ga.body="Explore new variety and offers",ga.largeBody="Get 30% discounts on new products",ga.summaryText="Exciting offers",ga)],f$)).then((gb) => Promise.resolve(gb)));});}
function A(){ const f9=null;return new Promise((f_) => { f_(f8.getDeliveredNotifications().then((f$) => Promise.resolve(f$)));});}
function B(f9){ let f_=[];let f$;for(var ga in f9)f_.push(f9[ga]);return f_;}
function C(f9){ return{$:1, $0:f9};}
function D(f9, f_){ if(f9===f_)return true;else { const f$=typeof f9;if(f$=="object"){ if(f9===null||f9===void 0||f_===null||f_===void 0||!D(typeof f_, "object"))return false;else if("Equals"in f9)return f9.Equals(f_);else if("Equals"in f_)return false;else if(f9 instanceof Array&&f_ instanceof Array)return E(f9, f_);else if(f9 instanceof Date&&f_ instanceof Date)return F(f9, f_);else { const ga=[true];let gb;for(var gd in f9)if(((ge) => { ga[0]=!f9.hasOwnProperty(ge)||f_.hasOwnProperty(ge)&&D(f9[ge], f_[ge]);return!ga[0];})(gd))break;if(ga[0]){ let gc;for(var ge in f_)if(((gf) => { ga[0]=!f_.hasOwnProperty(gf)||f9.hasOwnProperty(gf);return!ga[0];})(ge))break;} return ga[0];} } else return f$=="function"&&("$Func"in f9?f9.$Func===f_.$Func&&f9.$Target===f_.$Target:"$Invokes"in f9&&"$Invokes"in f_&&E(f9.$Invokes, f_.$Invokes));} }
function E(f9, f_){ let f$;let ga;if(l(f9)===l(f_)){ f$=true;ga=0;while(f$&&ga<l(f9)){!D(i(f9, ga), i(f_, ga))?f$=false:void 0;ga=ga+1;} return f$;} else return false;}
function F(f9, f_){ return f9.getTime()===f_.getTime();}
function G(f9){ const f_=typeof f9;return f_=="function"?0:f_=="boolean"?f9?1:0:f_=="number"?f9:f_=="string"?H(f9):f_=="object"?f9==null?0:f9 instanceof Array?I(f9):J(f9):0;}
function H(f9){ let f_;if(f9===null)return 0;else { f_=5381;for(let f$=0, ga=f9.length-1;f$<=ga;f$++)f_=K(f_, f9[f$].charCodeAt());return f_;} }
function I(f9){ let f_=-34948909;for(let f$=0, ga=l(f9)-1;f$<=ga;f$++)f_=K(f_, G(i(f9, f$)));return f_;}
function J(f9){ if("GetHashCode"in f9)return f9.GetHashCode();else { const f_=[0];let f$;for(var ga in f9)if(((gb) => { f_[0]=K(K(f_[0], H(gb)), G(f9[gb]));return false;})(ga))break;return f_[0];} }
function K(f9, f_){ return(f9<<5)+f9+f_;}
function L(f9, f_){ if(f9===f_)return 0;else { const f$=typeof f9;switch(f$=="function"?1:f$=="boolean"?2:f$=="number"?2:f$=="string"?2:f$=="object"?3:0){ case 0:return typeof f_=="undefined"?0:-1;case 1:return e("Cannot compare function values.");case 2:return f9<f_?-1:1;case 3:if(f9===null)return -1;else if(f_===null)return 1;else if("CompareTo"in f9)return f9.CompareTo(f_);else if("CompareTo0"in f9)return f9.CompareTo0(f_);else if(f9 instanceof Array&&f_ instanceof Array)return M(f9, f_);else if(f9 instanceof Date&&f_ instanceof Date)return N(f9, f_);else { const ga=[0];let gb;for(var gd in f9)if(((ge) =>!f9.hasOwnProperty(ge)?false:!f_.hasOwnProperty(ge)?(ga[0]=1,true):(ga[0]=L(f9[ge], f_[ge]),ga[0]!==0))(gd))break;if(ga[0]===0){ let gc;for(var ge in f_)if(((gf) =>!f_.hasOwnProperty(gf)?false:!f9.hasOwnProperty(gf)&&(ga[0]=-1,true))(ge))break;} return ga[0];} break;} } }
function M(f9, f_){ let f$;let ga;if(l(f9)<l(f_))return -1;else if(l(f9)>l(f_))return 1;else { f$=0;ga=0;while(f$===0&&ga<l(f9)){ f$=L(i(f9, ga), i(f_, ga));ga=ga+1;} return f$;} }
function N(f9, f_){ return L(f9.getTime(), f_.getTime());}
function O(f9){ bE("index");return f9?bF("index", C("main"), f9):void 0;}
let P=fT((f9) => { fW(o);return class f_ extends o { static { P=f9(this);} isConst;current;snap;view;id;get View(){ return this.view;} Set(f$){ if(this.isConst)(((ga) => ga("WebSharper.UI: invalid attempt to change value of a Var after calling SetFinal"))((ga) => { console.log(ga);}));else { cK(this.snap);this.current=f$;this.snap={s:b0(f$, [])};} } Get(){ return this.current;} SetFinal(f$){ if(this.isConst)(((ga) => ga("WebSharper.UI: invalid attempt to change value of a Var after calling SetFinal"))((ga) => { console.log(ga);}));else { cK(this.snap);this.isConst=true;this.current=f$;this.snap={s:b1(f$)};} } UpdateMaybe(f$){ const ga=f$(this.Get());if(ga!=null&&ga.$==1)this.Set(ga.$0);} constructor(f$, ga, gb){ super();this.isConst=f$;this.current=gb;this.snap=ga;this.view=() => this.snap;this.id=bX();} };});
function Q(f9, f_, f$){ const ga=f9.s;if(ga==null)f$();else ga!=null&&ga.$==2?(ga.$1.push(f$),f_(ga.$0)):ga!=null&&ga.$==3?(ga.$0.push(f_),ga.$1.push(f$)):f_(ga.$0);}
function R(f9, f_){ const f$=f_.s;if(f$!=null&&f$.$==0)return{s:b1(f9(f$.$0))};else { const ga={s:b2([], [])};Y(f_, (gb) => { Z(ga, f_, f9(gb));}, ga);return ga;} }
function S(f9, f_, f$, ga){ const gb=f_.s;const gc=f$.s;const gd=ga.s;if(gb!=null&&gb.$==0)return gc!=null&&gc.$==0?gd!=null&&gd.$==0?{s:b1(f9(gb.$0, gc.$0, gd.$0))}:u0030(f9, gb.$0, gc.$0, ga):gd!=null&&gd.$==0?u0031(f9, gb.$0, gd.$0, f$):u0032(f9, gb.$0, f$, ga);else if(gc!=null&&gc.$==0)return gd!=null&&gd.$==0?u0033(f9, gc.$0, gd.$0, f_):u0034(f9, gc.$0, f_, ga);else if(gd!=null&&gd.$==0)return u0035(f9, gd.$0, f_, f$);else { const ge={s:b2([], [])};const gf=() => { const gg=ge.s;if(!(gg!=null&&gg.$==0||gg!=null&&gg.$==2)){ const gh=u0036(f_);const gi=u0036(f$);const gj=u0036(ga);if(gh!=null&&gh.$==1)if(gi!=null&&gi.$==1)if(gj!=null&&gj.$==1)if(gh.$0[1]&&gi.$0[1]&&gj.$0[1])u0037(ge, f9(gh.$0[0], gi.$0[0], gj.$0[0]));else u0038(ge, f9(gh.$0[0], gi.$0[0], gj.$0[0]));} };Y(f_, gf, ge);Y(f$, gf, ge);Y(ga, gf, ge);return ge;} }
function T(f9){ const f_=cw(f9);if(f_.length==0)return{s:b1([])};else { const f$={s:b2([], [])};const ga=[l(f_)-1];const gb=() => { if(ga[0]===0){ const gc=cu((gd) => { const ge=gd.s;return ge!=null&&ge.$==0?ge.$0:ge!=null&&ge.$==2?ge.$0:e("value not found by View.Sequence");}, f_);if(cz((gd) => { const ge=gd.s;return ge!=null&&ge.$==0;}, f_))u0037(f$, gc);else u0038(f$, gc);} else ga[0]=ga[0]-1;};cs((gc) => { Y(gc, gb, f$);}, f_);return f$;} }
function U(f9, f_, f$){ const ga=f_.s;const gb=f$.s;if(ga!=null&&ga.$==0)return gb!=null&&gb.$==0?{s:b1(f9(ga.$0, gb.$0))}:u0039(f9, ga.$0, f$);else if(gb!=null&&gb.$==0)return $(f9, gb.$0, f_);else { const gc={s:b2([], [])};const gd=() => { const ge=gc.s;if(!(ge!=null&&ge.$==0||ge!=null&&ge.$==2)){ const gf=u0036(f_);const gg=u0036(f$);if(gf!=null&&gf.$==1)if(gg!=null&&gg.$==1)if(gf.$0[1]&&gg.$0[1])u0037(gc, f9(gf.$0[0], gg.$0[0]));else u0038(gc, f9(gf.$0[0], gg.$0[0]));} };Y(f_, gd, gc);Y(f$, gd, gc);return gc;} }
function V(f9, f_){ const f$=f9.s;const ga=f_.s;if(f$!=null&&f$.$==0)return ga!=null&&ga.$==0?{s:b1(null)}:f_;else if(ga!=null&&ga.$==0)return f9;else { const gb={s:b2([], [])};const gc=() => { const gd=gb.s;if(!(gd!=null&&gd.$==0||gd!=null&&gd.$==2)){ const ge=u0036(f9);const gf=u0036(f_);if(ge!=null&&ge.$==1)if(gf!=null&&gf.$==1)if(ge.$0[1]&&gf.$0[1])u0037(gb, null);else u0038(gb, null);} };Y(f9, gc, gb);Y(f_, gc, gb);return gb;} }
function W(f9){ const f_=f9.s;if(f_==null)return f9;else if(f_!=null&&f_.$==2){ const f$={s:b0(f_.$0, [])};ba(f9, f$);return f$;} else if(f_!=null&&f_.$==3){ const ga={s:b2([], [])};Y(f9, (gb) => { Z(ga, f9, gb);}, ga);return ga;} else return f9;}
function X(f9, f_){ const f$=f9.s;if(f$==null)f_();else f$!=null&&f$.$==2?f$.$1.push(f_):f$!=null&&f$.$==3?f$.$1.push(f_):void 0;}
function Y(f9, f_, f$){ const ga=f9.s;if(ga==null)cK(f$);else ga!=null&&ga.$==2?(bb(ga.$1, f$),f_(ga.$0)):ga!=null&&ga.$==3?(ga.$0.push(f_),bb(ga.$1, f$)):f_(ga.$0);}
function Z(f9, f_, f$){ const ga=f_.s;if(ga!=null&&ga.$==0)u0037(f9, f$);else u0038(f9, f$);}
function u0030(f9, f_, f$, ga){ return R((gb) => f9(f_, f$, gb), ga);}
function u0031(f9, f_, f$, ga){ return R((gb) => f9(f_, gb, f$), ga);}
function u0032(f9, f_, f$, ga){ return U((gb, gc) => f9(f_, gb, gc), f$, ga);}
function u0033(f9, f_, f$, ga){ return R((gb) => f9(gb, f_, f$), ga);}
function u0034(f9, f_, f$, ga){ return U((gb, gc) => f9(gb, f_, gc), f$, ga);}
function u0035(f9, f_, f$, ga){ return U((gb, gc) => f9(gb, gc, f_), f$, ga);}
function u0036(f9){ const f_=f9.s;return f_!=null&&f_.$==0?C([f_.$0, true]):f_!=null&&f_.$==2?C([f_.$0, false]):null;}
function u0037(f9, f_){ const f$=f9.s;if(f$!=null&&f$.$==3){ f9.s=b1(f_);const ga=f$.$0;for(let gb=0, gc=l(ga)-1;gb<=gc;gb++)(i(ga, gb))(f_);} else void 0;}
function u0038(f9, f_){ const f$=f9.s;if(f$!=null&&f$.$==3){ f9.s=b0(f_, f$.$1);const ga=f$.$0;for(let gb=0, gc=l(ga)-1;gb<=gc;gb++)(i(ga, gb))(f_);} else void 0;}
function u0039(f9, f_, f$){ return R((ga) => f9(f_, ga), f$);}
function $(f9, f_, f$){ return R((ga) => f9(ga, f_), f$);}
function ba(f9, f_){ const f$=f9.s;if(f$==null)cK(f_);else f$!=null&&f$.$==2?bb(f$.$1, f_):f$!=null&&f$.$==3?bb(f$.$1, f_):void 0;}
function bb(f9, f_){ f9.push(f_);if(f9.length%20===0){ const f$=f9.slice(0);fQ(f9);for(let gb=0, gc=l(f$)-1;gb<=gc;gb++){ const ga=i(f$, gb);if(typeof ga=="object")(((gd) => { if(gd.s)f9.push(gd);})(ga));else(((gd) => { f9.push(gd);})(ga));} } else void 0;}
let bc=fT((f9) => { fW(n);return class f_ extends n { static { bc=f9(this);} name;fillWith;get Name(){ return this.name;} get Value(){ return this.fillWith;} get AsChoiceView(){ return ez(this.fillWith);} constructor(f$, ga){ super();this.name=f$;this.fillWith=ga;} };});
let bd=fT((f9) => { fW(n);return class f_ extends n { static { bd=f9(this);} name;fillWith;get Name(){ return this.name;} ForTextView(){ return C(this.fillWith);} get AsChoiceView(){ return eA(this.fillWith);} constructor(f$, ga){ super();this.name=f$;this.fillWith=ga;} };});
let be=fT((f9) => { fW(n);return class f_ extends n { static { be=f9(this);} name;fillWith;get Name(){ return this.name;} ForTextView(){ return C(this.fillWith.View);} AddAttribute(f$, ga){(f$(ga))(eo(this.fillWith));} get AsChoiceView(){ return eA(dp(String, this.fillWith.View));} constructor(f$, ga){ super();this.name=f$;this.fillWith=ga;} };});
function bf(){ return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(new RegExp("[xy]", "g"), (f9) => { const f_=Math.random()*16|0;const f$=f9=="x"?f_:f_&3|8;return f$.toString(16);});}
let bg=fT((f9) => { fW(n);return class f_ extends n { static { bg=f9(this);} name;fillWith;get Name(){ return this.name;} get Value(){ return this.fillWith;} constructor(f$, ga){ super();this.name=f$;this.fillWith=ga;} };});
function bh(f9){ const f_={};const f$=cU(f9);try { while(f$.MoveNext()){ const ga=f$.Current;f_[ga[0]]=ga[1];} } finally { if(typeof f$=="object"&&a(f$))f$.Dispose();} return f_;}
function bi(f9){ return(f_) => { try {(f9())(f_);} catch(f$){ f_.k(b5(f$));} };}
function bj(f9, f_){ const f$=(bk())[0];const ga=f_==null?f$:f_.$0;bn().Fork(() => { if(!ga.c)f9(b4((gb) => { if(gb.$==1)bl(gb.$0);}, ga));});}
function bk(){ return cR.defCTS;}
function bl(f9){ console.log("WebSharper: Uncaught asynchronous exception", f9);}
function bm(f9){ return(f_) => { const f$=[false];const ga=(gb) => { if(f$[0])e("A continuation provided by Async.FromContinuations was invoked multiple times");else { f$[0]=true;bn().Fork(gb);} };f9((gb) => { ga(() => { f_.k(b6(gb));});}, (gb) => { ga(() => { f_.k(b5(gb));});}, (gb) => { ga(() => { f_.k(b7(gb));});});};}
function bn(){ return cR.scheduler;}
function bo(f9){ return(f_) => { f_.k(b6(f9));};}
function bp(f9, f_){ return br((f$) => { f9(b4((ga) => { if(ga.$==0){ const gb=ga.$0;bn().Fork(() => { try {(f_(gb))(f$);} catch(gc){ f$.k(b5(gc));} });} else bn().Fork(() => { f$.k(ga);});}, f$.ct));});}
function bq(){ return cR.Zero;}
function br(f9){ return(f_) => { if(f_.ct.c)bs(f_);else f9(f_);};}
function bs(f9){ f9.k(b7(new dk("New", f9.ct)));}
function bt(f9){ return bm((f_, f$) => { f9.then(f_, (ga) => f$(bu(ga)));});}
function bu(f9){ return f9 instanceof Error?f9:new cQ(f9);}
function bv(f9, f_, f$){ return f9.substr(f_, f$);}
function bw(f9, f_){ return cw(f_).join(f9);}
function bx(f9, f_, f$){ return bz(f9, new RegExp("["+bA(f_.join(""))+"]"), f$);}
function by(f9, f_){ return f9.substring(0, f_.length)==f_;}
function bz(f9, f_, f$){ return f$===1?cv((ga) => ga!=="", bB(f9, f_)):bB(f9, f_);}
function bA(f9){ return f9.replace(new RegExp("[-\\/\\\\^$*+?.()|[\\]{}]", "g"), "\\$&");}
function bB(f9, f_){ return f9.split(f_);}
function bC(f9, f_){ return cl(f9, bD(f_));}
function bD(f9){ return f9==null?"":f9;}
function bE(f9){!bG()?(bH(true),bI(globalThis.document.body, "")):void 0;bJ().set_Item(f9, bK(""));}
function bF(f9, f_, f$){ let ga;const gb=(ga=null,[bK(f9).TryGetValue(f_==null?"":f_.$0, {get:() => ga, set:(gc) => { ga=gc;}}), ga]);return gb[0]?bL(gb[1].cloneNode(true), f$):(console.warn("Local template doesn't exist", f_),bW.Empty);}
function bG(){ return cZ.LocalTemplatesLoaded;}
function bH(f9){ cZ.LocalTemplatesLoaded=f9;}
function bI(f9, f_){ const f$=bK(f_);const ga=new b3("New_5");const gb=f9.querySelectorAll("[ws-template]");for(let gn=0, go=gb.length-1;gn<=go;gn++){ const gc=gb[gn];const gd=gc.getAttribute("ws-template").toLowerCase();gc.removeAttribute("ws-template");ga.set_Item(gd, bM(gc));} const ge=f9.querySelectorAll("[ws-children-template]");for(let gp=0, gq=ge.length-1;gp<=gq;gp++){ const gf=ge[gp];const gg=gf.getAttribute("ws-children-template").toLowerCase();gf.removeAttribute("ws-children-template");ga.set_Item(gg, bN(gf));} const gh=f9.querySelectorAll("template[id]");for(let gr=0, gs=gh.length-1;gr<=gs;gr++){ const gi=gh[gr];ga.set_Item(gi.getAttribute("id").toLowerCase(), bO(gi));} const gj=f9.querySelectorAll("template[name]");for(let gt=0, gu=gj.length-1;gt<=gu;gt++){ const gk=gj[gt];ga.set_Item(gk.getAttribute("name").toLowerCase(), bO(gk));} const gl=new b9("New_3");function gm(gv){ if(!f$.ContainsKey(gv)){ let gw;const gx=(gw=null,[ga.TryGetValue(gv, {get:() => gw, set:(gy) => { gw=gy;}}), gw]);if(gx[0]){ gl.SAdd(gv);ga.RemoveKey(gv);bP(f_, C(gv), gx[1], C(gm));} else console.warn(gl.Contains(gv)?"Encountered loop when instantiating "+gv:"Local template does not exist: "+gv);} } while(ga.count>0)gm(b$(ga.Keys));}
function bJ(){ return cZ.LoadedTemplates;}
function bK(f9){ let f_;const f$=(f_=null,[bJ().TryGetValue(f9, {get:() => f_, set:(gb) => { f_=gb;}}), f_]);if(f$[0])return f$[1];else { const ga=new b3("New_5");bJ().set_Item(f9, ga);return ga;} }
function bL(f9, f_){ let f$;const ga=bQ(f9, b_(f_, bR().Values));const gb=ga[1];const gc=ga[0];const gd=gc.Els;return!D(gd, null)&&gd.length===1&&(i(gd, 0)instanceof Node&&(D(i(gd, 0).nodeType, Node.ELEMENT_NODE)&&(f$=i(gd, 0),true)))?dm.TreeNode(gc, gb):bW.Mk(cN(gc), gb);}
function bM(f9){ f9.removeAttribute("ws-template");const f_=f9.getAttribute("ws-replace");if(f_==null){ } else { f9.removeAttribute("ws-replace");const f$=f9.parentNode;if(D(f$, null)){ } else { const ga=globalThis.document.createElement(f9.tagName);ga.setAttribute("ws-replace", f_);f$.replaceChild(ga, f9);} } const gb=globalThis.document.createElement("div");gb.appendChild(f9);return gb;}
function bN(f9){ const f_=globalThis.document.createElement("div");while(f9.hasChildNodes())f_.appendChild(f9.firstChild);return f_;}
function bO(f9){ const f_=globalThis.document.createElement("div");const f$=f9.content;for(let ga=0, gb=f$.childNodes.length-1;ga<=gb;ga++)f_.appendChild(f$.childNodes[ga].cloneNode(true));return f_;}
function bP(f9, f_, f$, ga){ const gb=new b9("New_3");function gc(gj, gk){ while(true)switch(gj){ case 0:if(gk!==null){ const gl=gk.nextSibling;if(D(gk.nodeType, Node.TEXT_NODE))dv(gk);else if(D(gk.nodeType, Node.ELEMENT_NODE))ge(gk);gk=gl;} else return null;break;case 1:const gm=dD(gk.nodeName, C(3), null).toLowerCase();const gn=gm.indexOf(".");const go=gn===-1?[f9, gm]:[dD(gm, null, C(gn-1)), dD(gm, C(gn+1), null)];const gp=go[1];const gq=go[0];if(gq!=""&&!bJ().ContainsKey(gq))return dw(gp);else { if(gq==""&&ga!=null)ga.$0(gp);const gr=bJ().Item(gq);if(!gr.ContainsKey(gp))return dw(gp);else { const gs=gr.Item(gp);const gt=gs.cloneNode(true);const gu=new b9("New_3");const gv=new b3("New_5");const gw=gk.attributes;for(let gG=0, gH=gw.length-1;gG<=gH;gG++){ const gx=gw.item(gG).name.toLowerCase();const gy=gw.item(gG).nodeValue;let gz=gy==""?gx:gy.toLowerCase();gv.set_Item(gx, gz);if(!gu.SAdd(gx))console.warn("Hole mapped twice", gx);} for(let gI=0, gJ=gk.childNodes.length-1;gI<=gJ;gI++){ const gA=gk.childNodes[gI];if(D(gA.nodeType, Node.ELEMENT_NODE))if(!gu.SAdd(gA.nodeName.toLowerCase()))console.warn("Hole filled twice", gp);} const gB=gk.childNodes.length===1&&D(gk.firstChild.nodeType, Node.TEXT_NODE);if(gB){ const gC=dx(gt, gk.firstChild.textContent, gp);const gD=((gK) =>(gL) => gK.SAdd(gL))(gu);let gE=((gK) =>(gL) => { if(gL!=null)gK(gL.$0);})((gK) => { gD(gK);});gE(gC);} dy(gt, gu);if(!gB){ for(let gK=0, gL=gk.childNodes.length-1;gK<=gL;gK++){ const gF=gk.childNodes[gK];if(D(gF.nodeType, Node.ELEMENT_NODE))if(gF.hasAttributes())dz(gt, gF);else gd(gt, gF);} } dA(gt, gv);dB(gt, gk.parentNode, gk);gk.parentNode.removeChild(gk);return;} } break;} } function gd(gj, gk){ const gl=gk.nodeName.toLowerCase();const gm=(gq, gr) => { if(gl=="title"&&gk.hasChildNodes()){ const gs=dE(gk.textContent);gk.removeChild(gk.firstChild);while(gs.hasChildNodes())gk.appendChild(gs.firstChild);} ge(gk);return dB(gk, gq, gr);};bS(gj, "[ws-attr-holes]", (gq) => { const gr=bx(gq.getAttribute("ws-attr-holes"), [" "], 1);for(let gv=0, gw=gr.length-1;gv<=gw;gv++){ const gs=i(gr, gv);let gt=new RegExp("\\${"+gl+"}", "ig");let gu=gq.getAttribute(gs).replace(gt, gk.textContent);gq.setAttribute(gs, gu);} });const gn=gj.querySelector("[ws-hole="+gl+"]");if(D(gn, null)){ const go=gj.querySelector("[ws-replace="+gl+"]");if(D(go, null)){ const gp=gj.querySelector("slot[name="+gl+"]");return gj.tagName.toLowerCase()=="template"?(gm(gp.parentNode, gp),void gp.parentNode.removeChild(gp)):null;} else { gm(go.parentNode, go);go.parentNode.removeChild(go);return;} } else { while(gn.hasChildNodes())gn.removeChild(gn.lastChild);gn.removeAttribute("ws-hole");return gm(gn, null);} } function ge(gj){ if(!gj.hasAttribute("ws-preserve"))if(by(gj.nodeName.toLowerCase(), "ws-"))gg(gj);else { dC(gj);gf(gj.firstChild);} } function gf(gj){ return gc(0, gj);} function gg(gj){ return gc(1, gj);} function gh(gj){ while(true){ const gk=gj.querySelector("[ws-template]");if(D(gk, null)){ const gl=gj.querySelector("[ws-children-template]");if(D(gl, null)){ const gm=gj.querySelectorAll("template[id]");for(let gs=1, gt=gm.length-1;gs<=gt;gs++){ const gn=gm[gs];if(gb.Contains(gn)){ } else { bP(f9, C(gn.getAttribute("id")), gn, null);gb.SAdd(gn);} } const go=gj.querySelectorAll("template[name]");for(let gu=1, gv=go.length-1;gu<=gv;gu++){ const gp=go[gu];if(gb.Contains(gp)){ } else { bP(f9, C(gp.getAttribute("name")), gp, null);gb.SAdd(gp);} } return null;} else { const gq=gl.getAttribute("ws-children-template");gl.removeAttribute("ws-children-template");bP(f9, C(gq), gl, null);gj=gj;} } else { const gr=gk.getAttribute("ws-template");(bT(f9, C(gr), gk))(null);gj=gj;} } } const gi=(f_==null?"":f_.$0).toLowerCase();bK(f9).set_Item(gi, f$);if(f$.hasChildNodes()){ gh(f$);gf(f$.firstChild);} }
function bQ(f9, f_){ let f$;const ga=[];const gb=[];const gc=[];const gd=[];const ge=new b3("New_5");const gf=cU(f_);try { while(gf.MoveNext()){ const gg=gf.Current;ge.set_Item(gg.Name, gg);} } finally { if(typeof gf=="object"&&a(gf))gf.Dispose();} let gh=dF(f9);const gi=(gr, gs) => { const gt=d3(gr, gs);gb.push(d4(gt));gc.push([gr, gt]);const gu=fX(gt.OnAfterRender);if(gu==null)return null;else { const gv=gu.$0;gd.push(() => { gv(gr);});return;} };const gj=(gr) => { let gs;const gt=(gs=null,[ge.TryGetValue(gr, {get:() => gs, set:(gw) => { gs=gw;}}), gs]);if(gt[0]){ const gu=gt[1];if(gu instanceof ei)return C(gu.Value);else if(gu instanceof bc)return C(bW.TextNode(gu.Value));else { const gv=gu.ForTextView();return gv==null?null:C(bW.TextView(gv.$0));} } else return null;};bS(f9, "[ws-hole]", (gr) => { const gs=gr.getAttribute("ws-hole");gr.removeAttribute("ws-hole");while(gr.hasChildNodes())gr.removeChild(gr.lastChild);const gt=gj(gs);if(gt!=null&&gt.$==1){ const gu=gt.$0;c0(gr, gu.docNode);ga.push(dj.New(d5(gr), gu.docNode, null, gr, bX(), null));gb.push(gu.updates);} });bS(f9, "[ws-replace]", (gr) => { const gs=gj(gr.getAttribute("ws-replace"));if(gs!=null&&gs.$==1){ const gt=gs.$0;const gu=gr.parentNode;const gv=globalThis.document.createTextNode("");gu.replaceChild(gv, gr);const gw=c5(gv, gt.docNode);gh=dF(f9);const gx=co((gy) => gr===gy, gh);if(gx==null){ } else j(gh, gx.$0, gt.docNode);ga.push(dj.New(d5(gu), gt.docNode, C([gw, gv]), gu, bX(), null));gb.push(gt.updates);} });let gk=false;bS(f9, "slot", (gr) => { const gs=gr.getAttribute("name");const gt=gs==""||gs==null?"default":gs.toLowerCase();if(gk&&gt=="default"||!D(f9.parentElement, null)){ } else { while(gr.hasChildNodes())gr.removeChild(gr.lastChild);if(gt=="default")gk=true;const gu=gj(gt);if(gu!=null&&gu.$==1){ const gv=gu.$0;c0(gr, gv.docNode);ga.push(dj.New(d5(gr), gv.docNode, null, gr, bX(), null));gb.push(gv.updates);} } });bS(f9, "[ws-attr]", (gr) => { let gs;const gt=gr.getAttribute("ws-attr");gr.removeAttribute("ws-attr");const gu=(gs=null,[ge.TryGetValue(gt, {get:() => gs, set:(gw) => { gs=gw;}}), gs]);if(gu[0]){ const gv=gu[1];if(gv instanceof ej)gi(gr, gv.Value);else console.warn("Attribute hole filled with non-attribute data", gt);} });bS(f9, "[ws-on]", (gr) => { gi(gr, ew.Concat(cn((gs) => { let gt;const gu=bx(gs, [":"], 1);const gv=(gt=null,[ge.TryGetValue(i(gu, 1), {get:() => gt, set:(gx) => { gt=gx;}}), gt]);if(gv[0]){ const gw=gv[1];return gw instanceof ek?C(el(i(gu, 0), gw.Value)):gw instanceof bg?C(ew.Handler(i(gu, 0), gw.Value)):(console.warn("Event hole on"+i(gu, 0)+" filled with non-event data", i(gu, 1)),null);} else return null;}, bx(gr.getAttribute("ws-on"), [" "], 1))));gr.removeAttribute("ws-on");});bS(f9, "[ws-onafterrender]", (gr) => { let gs;const gt=gr.getAttribute("ws-onafterrender");const gu=(gs=null,[ge.TryGetValue(gt, {get:() => gs, set:(gw) => { gs=gw;}}), gs]);if(gu[0]){ const gv=gu[1];if(gv instanceof ex){ gr.removeAttribute("ws-onafterrender");gi(gr, em(gv.Value));} else if(gv instanceof ey){ gr.removeAttribute("ws-onafterrender");gi(gr, em(gv.Value));} else console.warn("onafterrender hole filled with non-onafterrender data", gt);} });bS(f9, "[ws-var]", (gr) => { let gs;const gt=gr.getAttribute("ws-var");gr.removeAttribute("ws-var");const gu=(gs=null,[ge.TryGetValue(gt, {get:() => gs, set:(gv) => { gs=gv;}}), gs]);if(gu[0])gu[1].AddAttribute((gv) =>(gw) => gi(gv, gw), gr);});const gl=() => { bU("[ws-dom]", (gr) => { let gs;let gt;let gu;const gv=(gs=null,[ge.TryGetValue(gr.getAttribute("ws-dom").toLowerCase(), {get:() => gs, set:(gz) => { gs=gz;}}), gs]);if(gv[0]){ const gw=gv[1];if(gw instanceof cH){ const gx=gw.Value;gr.removeAttribute("ws-dom");gt=gr;const gy=new MutationObserver((gz, gA) => { cs((gB) => { gB.removedNodes.forEach(fY((gC) => gC[0]===gt&&gB.addedNodes.length!==1?(gx.SetFinal(null),gA.disconnect()):null), null);}, gz);});if(gr.parentElement!==null)gy.observe(gr.parentElement, (gu={},gu.childList=true,gu));gx.Set(C(gr));do_1((gz) => { if(gz!=null&&gz.$==1){ const gA=gz.$0;if(gt===gA){ } else { gt.replaceWith(gA);gt=gA;} } else { gt.remove();gy.disconnect();} }, gx.View);} } });};bS(f9, "[ws-attr-holes]", (gr) => { const gs=new RegExp(bV(), "g");const gt=bx(gr.getAttribute("ws-attr-holes"), [" "], 1);gr.removeAttribute("ws-attr-holes");for(let gu=0, gv=gt.length-1;gu<=gv;gu++)((() => { let gw;const gx=i(gt, gu);const gy=gr.getAttribute(gx);let gz=null;let gA=0;const gB=[];while(gz=gs.exec(gy),gz!==null){ const gC=dD(gy, C(gA), C(gs.lastIndex-i(gz, 0).length-1));gA=gs.lastIndex;gB.push([gC, i(gz, 1)]);} const gD=dD(gy, C(gA), null);gs.lastIndex=0;const gE=ct((gJ, gK) =>(((gL) => { const gM=gL[0];const gN=gL[1];return(gO) => { let gP;const gQ=gO[0];const gR=gO[1];const gS=(gP=null,[ge.TryGetValue(gN, {get:() => gP, set:(gU) => { gP=gU;}}), gP]);const gT=gS[0]?gS[1].AsChoiceView:ez("");return gT.$==1?[gM, eB.Cons(gQ==""?gT.$0:dp((gU) => gU+gQ, gT.$0), gR)]:[gM+gT.$0+gQ, gR];};})(gJ))(gK), gB, [gD, eB.Empty]);if(gE[1].$==1){ if(gE[1].$1.$==1){ if(gE[1].$1.$1.$==1){ if(gE[1].$1.$1.$1.$==0){ const gF=gE[0];gw=en(gx, dq((gJ, gK, gL) => gF+gJ+gK+gL, gE[1].$0, gE[1].$1.$0, gE[1].$1.$1.$0));} else { const gG=gE[0];gw=en(gx, dp((gJ) => gG+bw("", gJ), dr(gE[1])));} } else { const gH=gE[0];gw=en(gx, ds((gJ, gK) => gH+gJ+gK, gE[1].$0, gE[1].$1.$0));} } else if(gE[0]=="")gw=en(gx, gE[1].$0);else { const gI=gE[0];gw=en(gx, dp((gJ) => gI+gJ, gE[1].$0));} } else gw=ew.Create(gx, gE[0]);return gi(gr, gw);})());});let gm=gh;const gn=gd.length==0?C(() => { gl();}):C((gr) => { gl();cs((gs) => { gs(gr);}, gd);});const go=!D(gh, null)&&gh.length===1&&(i(gh, 0)instanceof Node&&(i(gh, 0)instanceof Element&&(f$=i(gh, 0),true)))?C(f$):null;let gp={Els:gm, Dirty:true, Holes:ga, Attrs:gc, Render:gn?gn.$0:void 0, El:go?go.$0:void 0};let gq=fZ(gp, ["Render", "El"]);return[gq, eC(dn(), dt, gb)];}
function bR(){ return cZ.GlobalHoles;}
function bS(f9, f_, f$){ dL(f9, f_, (ga) => { if(ga.closest("[ws-preserve]")==null)f$(ga);});}
function bT(f9, f_, f$){ const ga=bM(f$);return(gb) => { bP(f9, f_, ga, gb);};}
function bU(f9, f_){ dM(f9, (f$) => { if(f$.closest("[ws-preserve]")==null)f_(f$);});}
function bV(){ return cZ.TextHoleRE;}
let bW=fT((f9) => class f_ extends c { static { bW=f9(this);} docNode;updates;static RunById(f$, ga){ const gb=globalThis.document.getElementById(f$);if(D(gb, null))e("invalid id: "+f$);else bW.Run(gb, ga);} static Run(f$, ga){ c0(f$, ga.docNode);bW.RunInPlace(false, f$, ga);} static get Empty(){ return bW.Mk(null, dn());} static RunInPlace(f$, ga, gb){ const gc=c2(ga, gb.docNode);do_1(dT()||d0()?d1(c3(f$, gc, gb.docNode)):() => { c4(f$, gc, gb.docNode);}, gb.updates);} static Mk(f$, ga){ return new f_(f$, ga);} static TextNode(f$){ return bW.Mk(cO(globalThis.document.createTextNode(f$)), dn());} static TextView(f$){ const ga=db();return bW.Mk(cP(ga), dp((gb) => { dc(ga, gb);}, f$));} constructor(f$, ga){ super();this.docNode=f$;this.updates=ga;} });
function bX(){ bY(bZ()+1);return bZ();}
function bY(f9){ di.counter=f9;}
function bZ(){ return di.counter;}
function b0(f9, f_){ return{$:2, $0:f9, $1:f_};}
function b1(f9){ return{$:0, $0:f9};}
function b2(f9, f_){ return{$:3, $0:f9, $1:f_};}
let b3=fT((f9) => class f_ extends c { static { b3=f9(this);} equals;hash;count;data;set_Item(f$, ga){ this.set(f$, ga);} set(f$, ga){ const gb=this.hash(f$);const gc=this.data[gb];if(gc==null){ this.count=this.count+1;this.data[gb]=new Array({K:f$, V:ga});} else { const gd=co((ge) => this.equals.apply(null, [(f(ge))[0], f$]), gc);if(gd==null){ this.count=this.count+1;gc.push({K:f$, V:ga});} else gc[gd.$0]={K:f$, V:ga};} } TryGetValue(f$, ga){ const gb=this.data[this.hash(f$)];if(gb==null)return false;else { const gc=cp((gd) => { const ge=f(gd);return this.equals.apply(null, [ge[0], f$])?C(ge[1]):null;}, gb);return gc!=null&&gc.$==1&&(ga.set(gc.$0),true);} } ContainsKey(f$){ const ga=this.data[this.hash(f$)];return ga==null?false:cq((gb) => this.equals.apply(null, [(f(gb))[0], f$]), ga);} RemoveKey(f$){ return this.remove(f$);} get Keys(){ return new dS(this);} GetEnumerator(){ return cX(cr(B(this.data)));} get Values(){ return new eG(this);} remove(f$){ const ga=this.hash(f$);const gb=this.data[ga];if(gb==null)return false;else { const gc=cv((gd) =>!this.equals.apply(null, [(f(gd))[0], f$]), gb);return l(gc)<gb.length&&(this.count=this.count-1,this.data[ga]=gc,true);} } Item(f$){ return this.get(f$);} get(f$){ const ga=this.data[this.hash(f$)];return ga==null?cT():cx((gb) => { const gc=f(gb);return this.equals.apply(null, [gc[0], f$])?C(gc[1]):null;}, ga);} static New_5(){ return new this("New_5");} static New_6(f$, ga, gb){ return new this("New_6", f$, ga, gb);} constructor(f$, ga, gb, gc){ if(f$=="New_5"){ f$="New_6";ga=[];gb=D;gc=G;} if(f$=="New_6"){ const gd=ga;const ge=gb;const gf=gc;super();this.equals=ge;this.hash=gf;this.count=0;this.data=[];const gg=cU(gd);try { while(gg.MoveNext()){ const gh=gg.Current;this.set(gh.K, gh.V);} } finally { if(typeof gg=="object"&&a(gg))gg.Dispose();} } } });
function b4(f9, f_){ return{k:f9, ct:f_};}
function b5(f9){ return{$:1, $0:f9};}
function b6(f9){ return{$:0, $0:f9};}
function b7(f9){ return{$:2, $0:f9};}
function b8(f9, f_){ return{c:f9, r:f_};}
let b9=fT((f9) => class f_ extends c { static { b9=f9(this);} equals;hash;data;count;SAdd(f$){ return this.add(f$);} Contains(f$){ const ga=this.data[this.hash(f$)];return ga==null?false:this.arrContains(f$, ga);} add(f$){ const ga=this.hash(f$);const gb=this.data[ga];return gb==null?(this.data[ga]=[f$],this.count=this.count+1,true):this.arrContains(f$, gb)?false:(gb.push(f$),this.count=this.count+1,true);} arrContains(f$, ga){ let gb=true;let gc=0;const gd=ga.length;while(gb&&gc<gd)if(this.equals.apply(null, [ga[gc], f$]))gb=false;else gc=gc+1;return!gb;} GetEnumerator(){ return cU(eY(this.data));} ExceptWith(f$){ const ga=cU(f$);try { while(ga.MoveNext())this.Remove(ga.Current);} finally { if(typeof ga=="object"&&a(ga))ga.Dispose();} } get Count(){ return this.count;} IntersectWith(f$){ const ga=new b9("New_4", f$, this.equals, this.hash);const gb=eY(this.data);for(let gd=0, ge=gb.length-1;gd<=ge;gd++){ const gc=gb[gd];if(!ga.Contains(gc))this.Remove(gc);} } Remove(f$){ const ga=this.data[this.hash(f$)];return ga==null?false:this.arrRemove(f$, ga)&&(this.count=this.count-1,true);} CopyTo(f$, ga){ const gb=eY(this.data);for(let gc=0, gd=gb.length-1;gc<=gd;gc++)j(f$, gc+ga, gb[gc]);} arrRemove(f$, ga){ let gb=true;let gc=0;const gd=ga.length;while(gb&&gc<gd)if(this.equals.apply(null, [ga[gc], f$])){ ga.splice(gc, 1);gb=false;} else gc=gc+1;return!gb;} static New_3(){ return new this("New_3");} static New_4(f$, ga, gb){ return new this("New_4", f$, ga, gb);} static New_2(f$){ return new this("New_2", f$);} constructor(f$, ga, gb, gc){ if(f$=="New_3"){ f$="New_4";ga=[];gb=D;gc=G;} let gd;if(f$=="New_2"){ gd=ga;f$="New_4";ga=gd;gb=D;gc=G;} if(f$=="New_4"){ const ge=ga;const gf=gb;const gg=gc;super();this.equals=gf;this.hash=gg;this.data=[];this.count=0;const gh=cU(ge);try { while(gh.MoveNext())this.add(gh.Current);} finally { if(typeof gh=="object"&&a(gh))gh.Dispose();} } } });
function b_(f9, f_){ return{GetEnumerator:() => { const f$=cU(f9);const ga=[true];return new cY(f$, null, (gb) => { if(gb.s.MoveNext()){ gb.c=gb.s.Current;return true;} else { const gc=gb.s;if(!D(gc, null))gc.Dispose();gb.s=null;return ga[0]&&(ga[0]=false,gb.s=cU(f_),gb.s.MoveNext()?(gb.c=gb.s.Current,true):(gb.s.Dispose(),gb.s=null,false));} }, (gb) => { const gc=gb.s;if(!D(gc, null))gc.Dispose();});}};}
function b$(f9){ const f_=cU(f9);try { return f_.MoveNext()?f_.Current:dP();} finally { if(typeof f_=="object"&&a(f_))f_.Dispose();} }
function ca(f9, f_, f$){ let ga=f_;const gb=cU(f$);try { while(gb.MoveNext())ga=f9(ga, gb.Current);return ga;} finally { if(typeof gb=="object"&&a(gb))gb.Dispose();} }
function cb(f9, f_){ const f$=cU(f_);try { while(f$.MoveNext())f9(f$.Current);} finally { if(typeof f$=="object"&&a(f$))f$.Dispose();} }
function cc(f9, f_){ return{GetEnumerator:() => { const f$=cU(f_);return new cY(null, null, (ga) => f$.MoveNext()&&(ga.c=f9(f$.Current),true), () => { f$.Dispose();});}};}
function cd(f9){ return{GetEnumerator:() => cU(f9())};}
function ce(f9, f_){ return cg(cc(f9, f_));}
function cf(f9){ const f_=cU(f9);try { if(!f_.MoveNext())ci();let f$=f_.Current;while(f_.MoveNext()){ const ga=f_.Current;if(L(ga, f$)===1)f$=ga;} return f$;} finally { if(typeof f_=="object"&&a(f_))f_.Dispose();} }
function cg(f9){ return{GetEnumerator:() => { const f_=cU(f9);function f$(ga){ while(true){ const gb=ga.s;if(D(gb, null)){ if(f_.MoveNext()){ ga.s=cU(f_.Current);ga=ga;} else { f_.Dispose();return false;} } else if(gb.MoveNext()){ ga.c=gb.Current;return true;} else { ga.Dispose();ga.s=null;ga=ga;} } } return new cY(null, null, f$, (ga) => { const gb=ga.s;if(!D(gb, null))gb.Dispose();if(!D(f_, null))f_.Dispose();});}};}
function ch(f9, f_){ return cj(f9, ck(f_));}
function ci(){ return e("The input sequence was empty.");}
function cj(f9, f_){ f9<0?dR():void 0;return{GetEnumerator:() => { const f$=[cU(f_)];return new cY(0, null, (ga) => { ga.s=ga.s+1;if(ga.s>f9)return false;else { const gb=f$[0];return D(gb, null)?dP():gb.MoveNext()?(ga.c=gb.Current,ga.s===f9?(gb.Dispose(),f$[0]=null):void 0,true):(gb.Dispose(),f$[0]=null,dP());} }, () => { const ga=f$[0];if(!D(ga, null))ga.Dispose();});}};}
function ck(f9){ return{GetEnumerator:() => new cY(0, null, (f_) => { f_.c=f9(f_.s);f_.s=f_.s+1;return true;}, void 0)};}
function cl(f9, f_){ return!cm((f$) =>!f9(f$), f_);}
function cm(f9, f_){ const f$=cU(f_);try { let ga=false;while(!ga&&f$.MoveNext())ga=f9(f$.Current);return ga;} finally { if(typeof f$=="object"&&a(f$))f$.Dispose();} }
function cn(f9, f_){ const f$=[];for(let gb=0, gc=f_.length-1;gb<=gc;gb++){ const ga=f9(f_[gb]);if(ga==null){ } else f$.push(ga.$0);} return f$;}
function co(f9, f_){ let f$=null;let ga=0;while(ga<f_.length&&f$==null){ f9(f_[ga])?f$=C(ga):void 0;ga=ga+1;} return f$;}
function cp(f9, f_){ let f$=null;let ga=0;while(ga<f_.length&&f$==null){ const gb=f9(f_[ga]);if(gb!=null&&gb.$==1)f$=gb;ga=ga+1;} return f$;}
function cq(f9, f_){ let f$=false;let ga=0;while(!f$&&ga<l(f_))if(f9(f_[ga]))f$=true;else ga=ga+1;return f$;}
function cr(f9){ return Array.prototype.concat.apply([], cw(f9));}
function cs(f9, f_){ for(let f$=0, ga=f_.length-1;f$<=ga;f$++)f9(f_[f$]);}
function ct(f9, f_, f$){ let ga=f$;const gb=f_.length;for(let gc=1, gd=gb;gc<=gd;gc++)ga=f9(f_[gb-gc], ga);return ga;}
function cu(f9, f_){ const f$=new Array(f_.length);for(let ga=0, gb=f_.length-1;ga<=gb;ga++)f$[ga]=f9(f_[ga]);return f$;}
function cv(f9, f_){ const f$=[];for(let ga=0, gb=f_.length-1;ga<=gb;ga++)if(f9(f_[ga]))f$.push(f_[ga]);return f$;}
function cw(f9){ if(f9 instanceof Array)return f9.slice();else if(f9 instanceof eB)return cy(f9);else { const f_=[];const f$=cU(f9);try { while(f$.MoveNext())f_.push(f$.Current);return f_;} finally { if(typeof f$=="object"&&a(f$))f$.Dispose();} } }
function cx(f9, f_){ const f$=cp(f9, f_);return f$==null?e("KeyNotFoundException"):f$.$0;}
function cy(f9){ const f_=[];let f$=f9;while(!(f$.$==0)){ f_.push(fb(f$));f$=fc(f$);} return f_;}
function cz(f9, f_){ let f$=true;let ga=0;while(f$&&ga<l(f_))if(f9(f_[ga]))ga=ga+1;else f$=false;return f$;}
function cA(f9, f_){ const f$=new Array(f9);for(let ga=0, gb=f9-1;ga<=gb;ga++)f$[ga]=f_;return f$;}
function cB(f9, f_){ if(f9<0)e("Negative size given.");else null;const f$=new Array(f9);for(let ga=0, gb=f9-1;ga<=gb;ga++)f$[ga]=f_(ga);return f$;}
let cC=fT((f9) => class f_ extends c { static { cC=f9(this);} static init;id;vars;static initialized;static instances;static GetOrAddHoleFor(f$, ga, gb){ let gc;const gd=cC.GetHolesFor(f$);const ge=(gc=null,[gd.TryGetValue(ga, {get:() => gc, set:(gg) => { gc=gg;}}), gc]);if(ge[0])return ge[1];else { const gf=gb();gd.set_Item(ga, gf);return gf;} } static GetHolesFor(f$){ let ga;const gb=(ga=null,[cC.initialized.TryGetValue(f$, {get:() => ga, set:(gd) => { ga=gd;}}), ga]);if(gb[0])return gb[1];else { const gc=new b3("New_5");cC.initialized.set_Item(f$, gc);return gc;} } static { cC.initialized=new b3("New_5");cC.instances=new b3("New_5");} });
let cD=fT((f9) => { fW(n);return class f_ extends n { static { cD=f9(this);} name;fillWith;get Name(){ return this.name;} ForTextView(){ return C(dp(String, this.fillWith.View));} AddAttribute(f$, ga){(f$(ga))(ep(this.fillWith));} get AsChoiceView(){ return eA(dp(String, this.fillWith.View));} constructor(f$, ga){ super();this.name=f$;this.fillWith=ga;} };});
let cE=fT((f9) => { fW(n);return class f_ extends n { static { cE=f9(this);} name;fillWith;get Name(){ return this.name;} ForTextView(){ return C(dp(String, this.fillWith.View));} AddAttribute(f$, ga){(f$(ga))(eq(this.fillWith));} get AsChoiceView(){ return eA(dp(String, this.fillWith.View));} constructor(f$, ga){ super();this.name=f$;this.fillWith=ga;} };});
let cF=fT((f9) => { fW(n);return class f_ extends n { static { cF=f9(this);} name;fillWith;get Name(){ return this.name;} ForTextView(){ return C(dp((f$) =>(new Date(f$)).toLocaleString(), this.fillWith.View));} AddAttribute(f$, ga){(f$(ga))(er(this.fillWith));} get AsChoiceView(){ return eA(dp((f$) =>(new Date(f$)).toLocaleString(), this.fillWith.View));} constructor(f$, ga){ super();this.name=f$;this.fillWith=ga;} };});
let cG=fT((f9) => { fW(n);return class f_ extends n { static { cG=f9(this);} name;fillWith;get Name(){ return this.name;} ForTextView(){ return C(dp(String, this.fillWith.View));} AddAttribute(f$, ga){(f$(ga))(es(this.fillWith));} get AsChoiceView(){ return eA(dp(String, this.fillWith.View));} constructor(f$, ga){ super();this.name=f$;this.fillWith=ga;} };});
let cH=fT((f9) => { fW(n);return class f_ extends n { static { cH=f9(this);} name;fillWith;get Name(){ return this.name;} get Value(){ return this.fillWith;} constructor(f$, ga){ super();this.name=f$;this.fillWith=ga;} };});
let cI=fT((f9) => { fW(n);return class f_ extends n { static { cI=f9(this);} name;fillWith;get Name(){ return this.name;} ForTextView(){ return C(dp((f$) => bw(",", f$), this.fillWith.View));} AddAttribute(f$, ga){(f$(ga))(et(this.fillWith));} get AsChoiceView(){ return eA(dp(String, this.fillWith.View));} constructor(f$, ga){ super();this.name=f$;this.fillWith=ga;} };});
let cJ=fT((f9) => class f_ extends c { static { cJ=f9(this);} });
function cK(f9){ let f_;const f$=f9.s;if(f$==null||(f$!=null&&f$.$==2?(f_=f$.$1,false):f$!=null&&f$.$==3?(f_=f$.$1,false):true))void 0;else { f9.s=null;for(let gb=0, gc=l(f_)-1;gb<=gc;gb++){ const ga=i(f_, gb);if(typeof ga=="object")(((gd) => { cK(gd);})(ga));else ga();} } }
let cL=fT((f9) => class f_ { static { cL=f9(this);} });
function cM(f9, f_){ return fL(f9, -2147483648, 2147483647, f_);}
function cN(f9){ return{$:6, $0:f9};}
function cO(f9){ return{$:5, $0:f9};}
function cP(f9){ return{$:4, $0:f9};}
let cQ=fT((f9) => { fW(Error);return class f_ extends Error { static { cQ=f9(this);} reason;constructor(f$){ super("Promise rejected");this.reason=f$;} };});
let cR=fT((f9) => class f_ { static { cR=f9(this);} static GetCT;static Zero;static defCTS;static scheduler;static noneCT;static { this.noneCT=b8(false, []);this.scheduler=new cS();this.defCTS=[new dl()];this.Zero=bo();this.GetCT=(f$) => { f$.k(b6(f$.ct));};} });
let cS=fT((f9) => class f_ extends c { static { cS=f9(this);} idle;robin;Fork(f$){ this.robin.push(f$);this.idle?(this.idle=false,setTimeout(() => { this.tick();}, 0)):void 0;} tick(){ const f$=Date.now();let ga=true;while(ga)if(this.robin.length===0){ this.idle=true;ga=false;} else {(this.robin.shift())();Date.now()-f$>40?(setTimeout(() => { this.tick();}, 0),ga=false):void 0;} } constructor(){ super();this.idle=true;this.robin=[];} });
function cT(){ throw new e6("New");}
function cU(f9){ return f9 instanceof Array?cV(f9):D(typeof f9, "string")?cW(f9):f9.GetEnumerator();}
function cV(f9){ return new cY(0, null, (f_) => { const f$=f_.s;return f$<l(f9)&&(f_.c=i(f9, f$),f_.s=f$+1,true);}, void 0);}
function cW(f9){ return new cY(0, null, (f_) => { const f$=f_.s;return f$<f9.length&&(f_.c=f9[f$],f_.s=f$+1,true);}, void 0);}
function cX(f9){ return f9 instanceof Array?cV(f9):D(typeof f9, "string")?cW(f9):"GetEnumerator0"in f9?f9.GetEnumerator0():f9.GetEnumerator();}
let cY=fT((f9) => class f_ extends c { static { cY=f9(this);} s;c;n;d;e;MoveNext(){ const f$=this.n(this);this.e=f$?1:2;return f$;} get Current(){ return this.e===1?this.c:this.e===0?e("Enumeration has not started. Call MoveNext."):e("Enumeration already finished.");} Dispose(){ if(this.d)this.d(this);} constructor(f$, ga, gb, gc){ super();this.s=f$;this.c=ga;this.n=gb;this.d=gc;this.e=0;} });
let cZ=fT((f9) => class f_ { static { cZ=f9(this);} static RenderedFullDocTemplate;static TextHoleRE;static GlobalHoles;static LocalTemplatesLoaded;static LoadedTemplates;static { this.LoadedTemplates=new b3("New_5");this.LocalTemplatesLoaded=false;this.GlobalHoles=new b3("New_5");this.TextHoleRE="\\${([^}]+)}";this.RenderedFullDocTemplate=null;} });
function c0(f9, f_){ c1(f9, f_, null);}
function c1(f9, f_, f$){ while(true){ if(f_!=null&&f_.$==1)return c6(f9, f_.$0.El, f$);else if(f_!=null&&f_.$==2){ const ga=f_.$0;ga.Dirty=false;f_=ga.Current;} else if(f_==null)return f$;else if(f_!=null&&f_.$==4)return c6(f9, f_.$0.Text, f$);else if(f_!=null&&f_.$==5)return c6(f9, f_.$0, f$);else if(f_!=null&&f_.$==6)return ct((gd, ge) =>((((gf) =>(gg) =>(gh) => gg==null||gg.constructor===Object?c1(gf, gg, gh):c6(gf, gg, gh))(f9))(gd))(ge), f_.$0.Els, f$);else { const gb=f_.$1;const gc=f_.$0;f_=gc;f$=c1(f9, gb, f$);} } }
function c2(f9, f_){ return eH(eI(), c7(f9, d9(), f_));}
function c3(f9, f_, f$){ if(dT()){ const ga=null;return bi(() => { const gb=eJ(f$);const gc=c$(f_, gb);const gd=c_(f_, gb);return bp(dU(dV(gc, c9(f_, gb))), () => bp(c8(f9, f_), () => bp(dU(gd), () => { f_.PreviousNodes=gb;return bo(null);})));});} else return c8(f9, f_);}
function c4(f9, f_, f$){ const ga=eJ(f$);da(f9, f_.Top);f_.PreviousNodes=ga;}
function c5(f9, f_){ const f$=f9.parentNode;const ga=globalThis.document.createTextNode("");f$.insertBefore(ga, f9);dd(f9, f_);return ga;}
function c6(f9, f_, f$){ dN(f9, f$, f_);return f_;}
function c7(f9, f_, f$){ c0(f9, f$);const ga=d3(f9, f_);return dj.New(ga, f$, null, f9, bX(), fX(ga.OnAfterRender));}
function c8(f9, f_){ if(d0()){ const f$=(ga) => { requestAnimationFrame(() => { da(f9, f_.Top);ga();});};return bm((ga, gb, gc) => f$.apply(null, [ga, gb, gc]));} else { da(f9, f_.Top);return bo(null);} }
function c9(f9, f_){ return dY(cu((f$) => d$(f$.Attr), eN(eM(f_, eL((f$) => d_(f$.Attr), f9.PreviousNodes)))));}
function c_(f9, f_){ return dY(cu((f$) => eb(f$.Attr), eN(eM(f9.PreviousNodes, eL((f$) => ea(f$.Attr), f_)))));}
function c$(f9, f_){ const f$=(gb) => ec(gb.Attr);const ga=(gb) => eL(f$, gb);return dY(cu((gb) => ed(gb.Attr), eN(eO(ga(f9.PreviousNodes), ga(f_)))));}
function da(f9, f_){!f9?de(f_):void 0;df(f_.Children);dg(f_);}
function db(){ return{Text:globalThis.document.createTextNode(""), Dirty:false, Value:""};}
function dc(f9, f_){ f9.Value=f_;f9.Dirty=true;}
function dd(f9, f_){ c1(f9.parentNode, f_, f9);}
function de(f9){ function f_(f$){ function ga(gb){ while(true){ if(gb!=null&&gb.$==0){ const gc=gb.$1;const gd=gb.$0;if(ga(gd))return true;else gb=gc;} else if(gb!=null&&gb.$==2){ const ge=gb.$0;if(ge.Dirty)return true;else gb=ge.Current;} else if(gb!=null&&gb.$==6){ const gf=gb.$0;return gf.Dirty||cq(f_, gf.Holes);} else return false;} } return ga(f$.Children);} eg(f9.El, f9.Attr);if(f_(f9))dh(f9);}
function df(f9){ while(true){ if(f9!=null&&f9.$==1)return da(false, f9.$0);else if(f9!=null&&f9.$==2){ const f_=f9.$0;f9=f_.Current;} else if(f9==null)return null;else if(f9!=null&&f9.$==5)return null;else if(f9!=null&&f9.$==4){ const f$=f9.$0;return f$.Dirty?(f$.Text.nodeValue=f$.Value,f$.Dirty=false):null;} else if(f9!=null&&f9.$==6){ const ga=f9.$0;cs((gd) => { da(false, gd);}, ga.Holes);cs((gd) => { eg(gd[0], gd[1]);}, ga.Attrs);return dg(ga);} else { const gb=f9.$1;const gc=f9.$0;df(gc);f9=gb;} } }
function dg(f9){ const f_=fX(f9.Render);if(f_!=null&&f_.$==1){ f_.$0(f9.El);fV(f9, "Render", null);} }
function dh(f9){ const f_=f9.El;function f$(gd, ge){ while(true){ if(gd!=null&&gd.$==1)return gd.$0.El;else if(gd!=null&&gd.$==2){ const gf=gd.$0;if(gf.Dirty){ gf.Dirty=false;return c1(f_, gf.Current, ge);} else gd=gf.Current;} else if(gd==null)return ge;else if(gd!=null&&gd.$==4)return gd.$0.Text;else if(gd!=null&&gd.$==5)return gd.$0;else if(gd!=null&&gd.$==6){ const gg=gd.$0;if(gg.Dirty)gg.Dirty=false;return ct((gj, gk) => gj==null||gj.constructor===Object?f$(gj, gk):gj, gg.Els, ge);} else { const gh=gd.$1;const gi=gd.$0;gd=gi;ge=f$(gh, ge);} } } const ga=f9.El;fG((gd) => { dO(ga, gd);}, fF(fH(f9), fE(f9.El, fX(f9.Delimiters))));let gb=f9.Children;const gc=fX(f9.Delimiters);f$(gb, gc!=null&&gc.$==1?gc.$0[1]:null);}
let di=fT((f9) => class f_ { static { di=f9(this);} static counter;static { this.counter=0;} });
let dj=fT((f9) => class f_ { static { dj=f9(this);} Attr;Children;Delimiters;El;ElKey;Render;Equals(f$){ return this.ElKey===f$.ElKey;} GetHashCode(){ return this.ElKey;} static New(f$, ga, gb, gc, gd, ge){ const gf={Attr:f$, Children:ga, El:gc, ElKey:gd};let gg=(fV(gf, "Delimiters", gb),fV(gf, "Render", ge),gf);return f0(dj, gg);} });
let dk=fT((f9) => { fW(Error);return class f_ extends Error { static { dk=f9(this);} ct;static New(f$){ return new this("New", f$);} static New_1(f$, ga, gb){ return new this("New_1", f$, ga, gb);} constructor(f$, ga, gb, gc){ let gd;if(f$=="New"){ gd=ga;f$="New_1";ga="The operation was canceled.";gb=null;gc=gd;} if(f$=="New_1"){ const ge=ga;const gf=gb;const gg=gc;super(ge);this.inner=gf;this.ct=gg;} } };});
let dl=fT((f9) => class f_ extends c { static { dl=f9(this);} init;c;pending;r;constructor(){ super();this.c=false;this.pending=null;this.r=[];this.init=1;} });
let dm=fT((f9) => { fW(bW);return class f_ extends bW { static { dm=f9(this);} docNode_1;updates_1;elt;rvUpdates;static TreeNode(f$, ga){ const gb=eF.Create(ga);const gc=cu((gf) => d4(gf[1]), f$.Attrs);let gd=eC(dn(), dt, gc);let ge=dt(gd, gb.v);return new f_(cN(f$), ge, i(f$.Els, 0), gb);} constructor(f$, ga, gb, gc){ super(f$, ga);this.docNode_1=f$;this.updates_1=ga;this.elt=gb;this.rvUpdates=gc;} };});
function dn(f9){ const f_={s:b1(f9)};return() => f_;}
function do_1(f9, f_){ function f$(){ Q(f_(), f9, () => { bn().Fork(f$);});} bn().Fork(f$);}
function dp(f9, f_){ return du(() => R(f9, f_()));}
function dq(f9, f_, f$, ga){ return du(() => S(f9, f_(), f$(), ga()));}
function dr(f9){ return du(() => T(cc((f_) => f_(), f9)));}
function ds(f9, f_, f$){ return du(() => U(f9, f_(), f$()));}
function dt(f9, f_){ return du(() => V(f9(), f_()));}
function du(f9){ const f_={c:null, o:f9};return() => { let f$=f_.c;if(f$===null){ f$=f_.o();f_.c=f$;const ga=f$.s;if(ga!=null&&ga.$==0)f_.o=null;else X(f$, () => { f_.c=null;});return f$;} else return f$;};}
function dv(f9){ let f_=null;let f$=0;const ga=f9.textContent;const gb=new RegExp(bV(), "g");while(f_=gb.exec(ga),f_!==null){ f9.parentNode.insertBefore(globalThis.document.createTextNode(dD(ga, C(f$), C(gb.lastIndex-i(f_, 0).length-1))), f9);f$=gb.lastIndex;const gc=globalThis.document.createElement("span");gc.setAttribute("ws-replace", i(f_, 1).toLowerCase());f9.parentNode.insertBefore(gc, f9);} gb.lastIndex=0;f9.textContent=dD(ga, C(f$), null);}
function dw(f9){ console.warn("Instantiating non-loaded template", f9);}
function dx(f9, f_, f$){ const ga=f9.querySelector("[ws-replace]");return D(ga, null)?(console.warn("Filling non-existent text hole", f$),null):(ga.parentNode.replaceChild(globalThis.document.createTextNode(f_), ga),C(ga.getAttribute("ws-replace")));}
function dy(f9, f_){ const f$=(ga) => { bS(f9, "["+ga+"]", (gb) => { if(!f_.Contains(gb.getAttribute(ga)))gb.removeAttribute(ga);});};f$("ws-attr");f$("ws-onafterrender");f$("ws-var");bS(f9, "[ws-hole]", (ga) => { if(!f_.Contains(ga.getAttribute("ws-hole"))){ ga.removeAttribute("ws-hole");while(ga.hasChildNodes())ga.removeChild(ga.lastChild);} });bS(f9, "[ws-replace]", (ga) => { if(!f_.Contains(ga.getAttribute("ws-replace")))ga.parentNode.removeChild(ga);});bS(f9, "[ws-on]", (ga) => { ga.setAttribute("ws-on", bw(" ", cv((gb) => f_.Contains(i(bx(gb, [":"], 1), 1)), bx(ga.getAttribute("ws-on"), [" "], 1))));});bS(f9, "[ws-attr-holes]", (ga) => { const gb=bx(ga.getAttribute("ws-attr-holes"), [" "], 1);for(let gf=0, gg=gb.length-1;gf<=gg;gf++){ const gc=i(gb, gf);let gd=new RegExp(bV(), "g");let ge=ga.getAttribute(gc).replace(gd, (gh, gi) => f_.Contains(gi)?gh:"");ga.setAttribute(gc, ge);} });}
function dz(f9, f_){ dC(f_);const f$=f_.nodeName.toLowerCase();const ga=f9.querySelector("[ws-attr="+f$+"]");if(D(ga, null))console.warn("Filling non-existent attr hole", f$);else { ga.removeAttribute("ws-attr");for(let gc=0, gd=f_.attributes.length-1;gc<=gd;gc++){ const gb=f_.attributes.item(gc);if(gb.name=="class"&&ga.hasAttribute("class"))ga.setAttribute("class", ga.getAttribute("class")+" "+gb.nodeValue);else ga.setAttribute(gb.name, gb.nodeValue);} } }
function dA(f9, f_){ const f$=(ga) => { bS(f9, "["+ga+"]", (gb) => { let gc;const gd=(gc=null,[f_.TryGetValue(gb.getAttribute(ga).toLowerCase(), {get:() => gc, set:(ge) => { gc=ge;}}), gc]);if(gd[0])gb.setAttribute(ga, gd[1]);});};f$("ws-hole");f$("ws-replace");f$("ws-attr");f$("ws-onafterrender");f$("ws-var");bS(f9, "[ws-on]", (ga) => { ga.setAttribute("ws-on", bw(" ", cu((gb) => { let gc;const gd=bx(gb, [":"], 1);const ge=(gc=null,[f_.TryGetValue(i(gd, 1), {get:() => gc, set:(gf) => { gc=gf;}}), gc]);return ge[0]?i(gd, 0)+":"+ge[1]:gb;}, bx(ga.getAttribute("ws-on"), [" "], 1))));});bS(f9, "[ws-attr-holes]", (ga) => { const gb=bx(ga.getAttribute("ws-attr-holes"), [" "], 1);for(let gc=0, gd=gb.length-1;gc<=gd;gc++)((() => { const ge=i(gb, gc);return ga.setAttribute(ge, ca((gf, gg) => { const gh=f(gg);return gf.replace(new RegExp("\\${"+gh[0]+"}", "ig"), "${"+gh[1]+"}");}, ga.getAttribute(ge), f_));})());});}
function dB(f9, f_, f$){ while(true){ if(f9.hasChildNodes())f$=f_.insertBefore(f9.lastChild, f$);else return null;} }
function dC(f9){ const f_=f9.attributes;const f$=[];const ga=[];const gb=[];for(let gg=0, gh=f_.length-1;gg<=gh;gg++){ const gc=f_.item(gg);if(by(gc.nodeName, "ws-on")&&gc.nodeName!="ws-onafterrender"&&gc.nodeName!="ws-on"){ f$.push(gc.nodeName);ga.push(dD(gc.nodeName, C("ws-on".length), null)+":"+gc.nodeValue.toLowerCase());} else if(!by(gc.nodeName, "ws-")&&(new RegExp(bV())).test(gc.nodeValue)){ let gd=new RegExp(bV(), "g");let ge=gc.nodeValue.replace(gd, (gi, gj) =>"${"+gj.toLowerCase()+"}");gc.nodeValue=ge;gb.push(gc.nodeName);} else void 0;} if(!(ga.length==0))f9.setAttribute("ws-on", bw(" ", ga));if(!(gb.length==0))f9.setAttribute("ws-attr-holes", bw(" ", gb));const gf=(gi) => { const gj=f9.getAttribute(gi);if(gj==null){ } else f9.setAttribute(gi, gj.toLowerCase());};gf("ws-hole");gf("ws-replace");gf("ws-attr");gf("ws-onafterrender");gf("ws-var");cs((gi) => { f9.removeAttribute(gi);}, f$);}
function dD(f9, f_, f$){ if(f_==null){ if(f$!=null&&f$.$==1){ const ga=f$.$0;return ga<0?"":f9.slice(0, ga+1);} else return"";} else if(f$==null)return f9.slice(f_.$0);else { const gb=f$.$0;return gb<0?"":f9.slice(f_.$0, gb+1);} }
function dE(f9){ const f_=globalThis.document.createElement("div");if(!dG().test(f9)){ f_.appendChild(globalThis.document.createTextNode(f9));return f_;} else { const f$=dK().exec(f9);const ga=D(f$, null)?"":i(f$, 1).toLowerCase();const gb=(dH())[ga];const gc=gb?gb:dI();f_.innerHTML=gc[1]+f9.replace(dJ(), "<$1></$2>")+gc[2];function gd(ge, gf){ while(true){ if(gf===0)return ge;else { const gg=gf;ge=ge.lastChild;gf=gg-1;} } } return gd(f_, gc[0]);} }
function dF(f9){ const f_=[];for(let f$=0, ga=f9.childNodes.length-1;f$<=ga;f$++)f_.push(f9.childNodes[f$]);return f_;}
function dG(){ return eZ.rhtml;}
function dH(){ return eZ.wrapMap;}
function dI(){ return eZ.defaultWrap;}
function dJ(){ return eZ.rxhtmlTag;}
function dK(){ return eZ.rtagName;}
function dL(f9, f_, f$){ const ga=f9.querySelectorAll(f_);for(let gb=0, gc=ga.length-1;gb<=gc;gb++)f$(ga[gb]);}
function dM(f9, f_){ const f$=globalThis.document.querySelectorAll(f9);for(let ga=0, gb=f$.length-1;ga<=gb;ga++)f_(f$[ga]);}
function dN(f9, f_, f$){ let ga;if(f$.parentNode===f9){ const gb=f$.nextSibling;let gc=D(gb, null)?null:gb;ga=f_===gc;} else ga=false;if(!ga)f9.insertBefore(f$, f_);}
function dO(f9, f_){ if(f_.parentNode===f9)f9.removeChild(f_);}
function dP(){ return e("The input sequence has an insufficient number of elements.");}
function dQ(f9, f_){ let f$=true;let ga=0;while(f$&&ga<l(f_))if(D(f_[ga], f9))f$=false;else ga=ga+1;return!f$;}
function dR(){ return e("The input must be non-negative.");}
let dS=fT((f9) => class f_ extends c { static { dS=f9(this);} d;GetEnumerator(){ return cU(cc((f$) => f$.K, this.d));} constructor(f$){ super();this.d=f$;} });
function dT(){ return eP();}
function dU(f9){ const f_=null;return bi(() => bp(dW(() => { }, eQ(f9)), () => { eR(f9);return bo(null);}));}
function dV(f9, f_){ return dX(e1(f9.$0, f_.$0));}
function dW(f9, f_){ const f$=f_.Duration;if(f$===0)return bq();else { const ga=(gb) => { function gc(gd){ return(ge) => { const gf=ge-gd;f_.Compute(gf);f9();return gf<=f$?void requestAnimationFrame((gg) => {(gc(gd))(gg);}):gb();};} requestAnimationFrame((gd) => {(gc(gd))(gd);});};return bm((gb, gc, gd) => ga.apply(null, [gb, gc, gd]));} }
function dX(f9){ return{$:0, $0:f9};}
function dY(f9){ return dX(e3(cc(eT, f9)));}
function dZ(){ return dX(e4());}
function d0(){ return eX.BatchUpdatesEnabled;}
function d1(f9){ const f_=[0];function f$(){ const ga=null;return bi(() => bp(f9, () => { const gb=f_[0];return D(gb, 1)?(f_[0]=0,bq()):D(gb, 2)?(f_[0]=1,f$()):bq();}));} return() => { const ga=f_[0];if(D(ga, 0)){ f_[0]=1;bj(f$(), null);} else D(ga, 1)?f_[0]=2:void 0;};}
function d2(f9, f_, f$, ga){ const gb={DynElem:f9, DynFlags:f_, DynNodes:f$};fV(gb, "OnAfterRender", ga);return gb;}
function d3(f9, f_){ const f$=[];const ga=[];function gb(ge){ while(true){ if(!(ge===null)){ if(ge!=null&&ge.$==1)return f$.push(ge.$0);else if(ge!=null&&ge.$==2){ const gf=ge.$1;const gg=ge.$0;gb(gg);ge=gf;} else return ge!=null&&ge.$==3?ge.$0(f9):ge!=null&&ge.$==4?ga.push(ge.$0):null;} else return null;} } gb(f_);const gc=f$.slice(0);let gd=d2(f9, d6(f_), gc, ga.length===0?null:C((ge) => { cb((gf) => { gf(ge);}, ga);}));return gd;}
function d4(f9){ return eD((f_) => f_.NChanged, dn(), dt, f9.DynNodes);}
function d5(f9){ return d2(f9, 0, [], null);}
function d6(f9){ return f9!==null&&f9.hasOwnProperty("flags")?f9.flags:0;}
function d7(f9){ return ew.A3(f9);}
function d8(f9, f_){ return ew.A1(new e5(f9, f_));}
function d9(){ return e7.EmptyAttr;}
function d_(f9){ const f_=2;return(f9.DynFlags&f_)===f_;}
function d$(f9){ return ef(f9, (f_, f$) => f_.NGetExitAnim(f$));}
function ea(f9){ const f_=1;return(f9.DynFlags&f_)===f_;}
function eb(f9){ return ef(f9, (f_, f$) => f_.NGetEnterAnim(f$));}
function ec(f9){ const f_=4;return(f9.DynFlags&f_)===f_;}
function ed(f9){ return ef(f9, (f_, f$) => f_.NGetChangeAnim(f$));}
function ee(f9, f_){ if(f9===null)return f_;else if(f_===null)return f9;else { const f$=ew.A2(f9, f_);eh(f$, d6(f9)|d6(f_));return f$;} }
function ef(f9, f_){ return dY(cu((f$) => f_(f$, f9.DynElem), f9.DynNodes));}
function eg(f9, f_){ cs((f$) => { f$.NSync(f9);}, f_.DynNodes);}
function eh(f9, f_){ f9.flags=f_;}
let ei=fT((f9) => { fW(n);return class f_ extends n { static { ei=f9(this);} name;fillWith;get Value(){ return this.fillWith;} get Name(){ return this.name;} };});
let ej=fT((f9) => { fW(n);return class f_ extends n { static { ej=f9(this);} name;fillWith;get Value(){ return this.fillWith;} get Name(){ return this.name;} };});
let ek=fT((f9) => { fW(n);return class f_ extends n { static { ek=f9(this);} name;fillWith;get Value(){ return this.fillWith;} get Name(){ return this.name;} };});
function el(f9, f_){ return d7((f$) => { f$.addEventListener(f9, (ga) =>(f_(f$))(ga), false);});}
function em(f9){ return ew.A4(f9);}
function en(f9, f_){ return d8(f_, (f$) =>(ga) => f$.setAttribute(f9, ga));}
function eo(f9){ return eu(fw(), f9);}
function ep(f9){ return eu(fx(), f9);}
function eq(f9){ return eu(fy(), f9);}
function er(f9){ return eu(fz(), f9);}
function es(f9){ return eu(fA(), f9);}
function et(f9){ return eu(fB(), f9);}
function eu(f9, f_){ const f$=f9(f_);return ew.Append(d7(f$[0]), ev(f$[1], f$[2]));}
function ev(f9, f_){ return d8(f_, f9);}
let ew=fT((f9) => class f_ { static { ew=f9(this);} static Handler(f$, ga){ return ew.HandlerImpl(f$, ga);} static Concat(f$){ const ga=eE(f$);return eC(d9(), ew.Append, ga);} static Create(f$, ga){ return d7((gb) => { gb.setAttribute(f$, ga);});} static HandlerImpl(f$, ga){ return d7((gb) => { gb.addEventListener(f$, (gc) =>(ga(gb))(gc), false);});} static Append(f$, ga){ return ee(f$, ga);} static A4(f$){ return f0(f_, {$:4, $0:f$});} static A3(f$){ return f0(f_, {$:3, $0:f$});} static A1(f$){ return f0(f_, {$:1, $0:f$});} static A2(f$, ga){ return f0(f_, {$:2, $0:f$, $1:ga});} });
let ex=fT((f9) => { fW(n);return class f_ extends n { static { ex=f9(this);} name;fillWith;get Value(){ return this.fillWith;} get Name(){ return this.name;} };});
let ey=fT((f9) => { fW(n);return class f_ extends n { static { ey=f9(this);} name;fillWith;get Value(){ return this.fillWith;} get Name(){ return this.name;} };});
function ez(f9){ return{$:0, $0:f9};}
function eA(f9){ return{$:1, $0:f9};}
let eB=fT((f9) => class f_ { static { eB=f9(this);} static Cons(f$, ga){ return f0(f_, {$:1, $0:f$, $1:ga});} static Empty=f0(eB, {$:0});GetEnumerator(){ return new cY(this, null, (f$) => { const ga=f$.s;return ga.$==0?false:(f$.c=ga.$0,f$.s=ga.$1,true);}, void 0);} });
function eC(f9, f_, f$){ const ga=l(f$);function gb(gc){ return(gd) => { let ge;switch(gd<=0?0:gd===1?gc>=0&&gc<ga?1:(ge=gd,2):(ge=gd,2)){ case 0:return f9;case 1:return i(f$, gc);case 2:const gf=gd/2>>0;return f_((gb(gc))(gf), (gb(gc+gf))(gd-gf));} };} return(gb(0))(ga);}
function eD(f9, f_, f$, ga){ const gb=l(ga);function gc(gd){ return(ge) => { let gf;switch(ge<=0?0:ge===1?gd>=0&&gd<gb?1:(gf=ge,2):(gf=ge,2)){ case 0:return f_;case 1:return f9(i(ga, gd));case 2:const gg=ge/2>>0;return f$((gc(gd))(gg), (gc(gd+gg))(ge-gg));} };} return(gc(0))(gb);}
function eE(f9){ if(f9 instanceof Array)return f9;else if(f9 instanceof eB)return cy(f9);else if(f9===null)return[];else { const f_=[];const f$=cU(f9);try { while(f$.MoveNext())f_.push(f$.Current);return f_;} finally { if(typeof f$=="object"&&a(f$))f$.Dispose();} } }
let eF=fT((f9) => class f_ { static { eF=f9(this);} c;s;v;static Create(f$){ let ga;ga=null;ga=eF.New(f$, null, () => { let gb;gb=ga.s;return gb===null?(gb=W(ga.c()),ga.s=gb,X(gb, () => { ga.s=null;}),gb):gb;});return ga;} static New(f$, ga, gb){ return f0(eF, {c:f$, s:ga, v:gb});} });
let eG=fT((f9) => class f_ extends c { static { eG=f9(this);} d;GetEnumerator(){ return cU(cc((f$) => f$.V, this.d));} constructor(f$){ super();this.d=f$;} });
function eH(f9, f_){ return{PreviousNodes:f9, Top:f_};}
function eI(){ return eK(new b9("New_3"));}
function eJ(f9){ const f_=[];function f$(gc, gd){ while(true)switch(gc){ case 0:if(gd!=null&&gd.$==0){ const ge=gd.$1;const gf=gd.$0;f$(0, gf);gd=ge;} else if(gd!=null&&gd.$==1){ const gg=gd.$0;gd=gg;gc=1;} else if(gd!=null&&gd.$==2){ const gh=gd.$0;gd=gh.Current;} else if(gd!=null&&gd.$==6){ const gi=gd.$0.Holes;return(((gj) =>(gk) => { cs(gj, gk);})(gb))(gi);} else return null;break;case 1:f_.push(gd);gd=gd.Children;gc=0;break;} } function ga(gc){ return f$(0, gc);} function gb(gc){ return f$(1, gc);} ga(f9);return eK(new b9("New_2", f_));}
function eK(f9){ return{$:0, $0:f9};}
function eL(f9, f_){ return eK(e9(f9, f_.$0));}
function eM(f9, f_){ return eK(e_(f9.$0, f_.$0));}
function eN(f9){ return e$(f9.$0);}
function eO(f9, f_){ return eK(fa(f9.$0, f_.$0));}
function eP(){ return e0.UseAnimations;}
function eQ(f9){ return eS(cn((f_) => f_.$==1?C(f_.$0):null, e2(f9.$0)));}
function eR(f9){ cs((f_) => { if(f_.$==0)f_.$0();}, e2(f9.$0));}
function eS(f9){ const f_=eE(f9);const f$=l(f_);if(f$===0)return eU();else if(f$===1)return i(f_, 0);else { const ga=cf(cc((gc) => gc.Duration, f_));const gb=cu((gc) => eW(ga, gc), f_);return eV(ga, (gc) => { cs((gd) => { gd.Compute(gc);}, gb);});} }
function eT(f9){ return f9.$0;}
function eU(f9){ return eV(0, () => f9);}
function eV(f9, f_){ return{Compute:f_, Duration:f9};}
function eW(f9, f_){ const f$=f_.Compute;const ga=f_.Duration;const gb=fM(() => f_.Compute(f_.Duration));return{Compute:(gc) => gc>=ga?gb.f():f$(gc), Duration:f9};}
let eX=fT((f9) => class f_ { static { eX=f9(this);} static BatchUpdatesEnabled;static { this.BatchUpdatesEnabled=true;} });
function eY(f9){ let f_=[];let f$;for(var ga in f9)f_.push.apply(f_, f9[ga]);return f_;}
let eZ=fT((f9) => class f_ { static { eZ=f9(this);} static defaultWrap;static wrapMap;static rhtml;static rtagName;static rxhtmlTag;static { this.rxhtmlTag=new RegExp("<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\\w:]+)[^>]*)\\/>", "gi");this.rtagName=new RegExp("<([\\w:]+)");this.rhtml=new RegExp("<|&#?\\w+;");const f$=[1, "<table>", "</table>"];let ga=Object.fromEntries([["option", [1, "<select multiple='multiple'>", "</select>"]], ["legend", [1, "<fieldset>", "</fieldset>"]], ["area", [1, "<map>", "</map>"]], ["param", [1, "<object>", "</object>"]], ["thead", f$], ["tbody", f$], ["tfoot", f$], ["tr", [2, "<table><tbody>", "</tbody></table>"]], ["col", [2, "<table><colgroup>", "</colgoup></table>"]], ["td", [3, "<table><tbody><tr>", "</tr></tbody></table>"]]]);this.wrapMap=ga;this.defaultWrap=[0, "", ""];} });
let e0=fT((f9) => class f_ { static { e0=f9(this);} static UseAnimations;static CubicInOut;static { this.CubicInOut=e8.Custom((f$) => { const ga=f$*f$;return 3*ga-2*(ga*f$);});this.UseAnimations=true;} });
function e1(f9, f_){ return f9.$==0?f_:f_.$==0?f9:{$:2, $0:f9, $1:f_};}
function e2(f9){ const f_=[];function f$(ga){ while(true){ if(ga.$==1)return f_.push(ga.$0);else if(ga.$==2){ const gb=ga.$1;const gc=ga.$0;f$(gc);ga=gb;} else return ga.$==3?cs((gd) => { f_.push(gd);}, ga.$0):null;} } f$(f9);return f_.slice(0);}
function e3(f9){ const f_=eE(f9);return eC(e4(), e1, f_);}
function e4(){ return fP.Empty;}
let e5=fT((f9) => class f_ extends c { static { e5=f9(this);} push;value;dirty;updates;get NChanged(){ return this.updates;} NGetExitAnim(f$){ return dZ();} NGetEnterAnim(f$){ return dZ();} NGetChangeAnim(f$){ return dZ();} NSync(f$){ if(this.dirty){(this.push(f$))(this.value);this.dirty=false;} } constructor(f$, ga){ super();this.push=ga;this.value=void 0;this.dirty=false;this.updates=dp((gb) => { this.value=gb;this.dirty=true;}, f$);} });
let e6=fT((f9) => { fW(Error);return class f_ extends Error { static { e6=f9(this);} static New(){ return new this("New");} static New_1(f$){ return new this("New_1", f$);} constructor(f$, ga){ if(f$=="New"){ f$="New_1";ga="The given key was not present in the dictionary.";} if(f$=="New_1"){ const gb=ga;super(gb);} } };});
let e7=fT((f9) => class f_ { static { e7=f9(this);} static FloatApplyChecked;static FloatGetChecked;static FloatSetChecked;static FloatApplyUnchecked;static FloatGetUnchecked;static FloatSetUnchecked;static IntApplyChecked;static IntGetChecked;static IntSetChecked;static IntApplyUnchecked;static IntGetUnchecked;static IntSetUnchecked;static FileApplyUnchecked;static FileGetUnchecked;static FileSetUnchecked;static DateTimeApplyUnchecked;static DateTimeGetUnchecked;static DateTimeSetUnchecked;static StringListApply;static StringListGet;static StringListSet;static StringApply;static StringGet;static StringSet;static BoolCheckedApply;static EmptyAttr;static { this.EmptyAttr=null;this.BoolCheckedApply=(gp) =>[(gq) => { gq.addEventListener("change", () => gp.Get()!=gq.checked?gp.Set(gq.checked):null);}, (gq) =>(gr) => gr!=null&&gr.$==1?void(gq.checked=gr.$0):null, dp(C, gp.View)];this.StringSet=(gp) =>(gq) => { gp.value=gq;};this.StringGet=(gp) => C(gp.value);const f$=fg();const ga=ff();this.StringApply=(gp) => fe(f$, ga, gp);this.StringListSet=(gp) =>(gq) => { const gr=gp.options;for(let gs=0, gt=gr.length-1;gs<=gt;gs++)((() => { const gu=gr.item(gs);gu.selected=dQ(gu.value, gq);})());};this.StringListGet=(gp) => { const gq=gp.selectedOptions;return C(cw(cd(() => ce((gr) =>[gq.item(gr).value], g(0, gq.length-1)))));};const gb=fi();const gc=fh();this.StringListApply=(gp) => fe(gb, gc, gp);this.DateTimeSetUnchecked=(gp) =>(gq) => { gp.value=(new Date(gq)).toLocaleString();};this.DateTimeGetUnchecked=(gp) => { let gq;let gr;const gs=gp.value;if(fC(gs))return C(-8640000000000000);else { gq=0;const gt=fK(gs);let gu=gt!=null&&gt.$==1&&(gq=gt.$0,true);gr=[gu, gq];return gr[0]?C(gr[1]):null;} };const gd=fk();const ge=fj();this.DateTimeApplyUnchecked=(gp) => fe(gd, ge, gp);this.FileSetUnchecked=() =>() => null;this.FileGetUnchecked=(gp) => { const gq=gp.files;return C(cw(cd(() => cc((gr) => gq.item(gr), g(0, gq.length-1)))));};const gf=fn();const gg=fm();this.FileApplyUnchecked=(gp) => fl(gf, gg, gp);this.IntSetUnchecked=(gp) =>(gq) => { gp.value=String(gq);};this.IntGetUnchecked=(gp) => { const gq=gp.value;if(fC(gq))return C(0);else { const gr=+gq;return gr!==gr>>0?null:C(gr);} };const gh=fp();const gi=fo();this.IntApplyUnchecked=(gp) => fe(gh, gi, gp);this.IntSetChecked=(gp) =>(gq) => { const gr=gq.Input;return gp.value!=gr?void(gp.value=gr):null;};this.IntGetChecked=(gp) => { let gq;let gr;const gs=gp.value;if(fC(gs))gq=(gp.checkValidity?gp.checkValidity():true)?fD.Blank(gs):fD.Invalid(gs);else { const gt=(gr=0,[cM(gs, {get:() => gr, set:(gu) => { gr=gu;}}), gr]);gq=gt[0]?fD.Valid(gt[1], gs):fD.Invalid(gs);} return C(gq);};const gj=fr();const gk=fq();this.IntApplyChecked=(gp) => fe(gj, gk, gp);this.FloatSetUnchecked=(gp) =>(gq) => { gp.value=String(gq);};this.FloatGetUnchecked=(gp) => { const gq=gp.value;if(fC(gq))return C(0);else { const gr=+gq;return isNaN(gr)?null:C(gr);} };const gl=ft();const gm=fs();this.FloatApplyUnchecked=(gp) => fe(gl, gm, gp);this.FloatSetChecked=(gp) =>(gq) => { const gr=gq.Input;return gp.value!=gr?void(gp.value=gr):null;};this.FloatGetChecked=(gp) => { let gq;const gr=gp.value;if(fC(gr))gq=(gp.checkValidity?gp.checkValidity():true)?fD.Blank(gr):fD.Invalid(gr);else { const gs=+gr;gq=isNaN(gs)?fD.Invalid(gr):fD.Valid(gs, gr);} return C(gq);};const gn=fv();const go=fu();this.FloatApplyChecked=(gp) => fe(gn, go, gp);} });
let e8=fT((f9) => class f_ extends c { static { e8=f9(this);} transformTime;static Custom(f$){ return new f_(f$);} constructor(f$){ super();this.transformTime=f$;} });
function e9(f9, f_){ return new b9("New_2", cv(f9, e$(f_)));}
function e_(f9, f_){ const f$=new b9("New_2", e$(f_));f$.ExceptWith(e$(f9));return f$;}
function e$(f9){ const f_=cA(f9.Count, void 0);f9.CopyTo(f_, 0);return f_;}
function fa(f9, f_){ const f$=new b9("New_2", e$(f9));f$.IntersectWith(e$(f_));return f$;}
function fb(f9){ return f9.$==1?f9.$0:fd();}
function fc(f9){ return f9.$==1?f9.$1:fd();}
function fd(){ return e("The input list was empty.");}
function fe(f9, f_, f$){ let ga;ga=null;return[(gb) => { const gc=() => { f$.UpdateMaybe((gd) => { let ge;ga=f9(gb);return ga!=null&&ga.$==1&&(!D(ga.$0, gd)&&(ge=[ga, ga.$0],true))?ge[0]:null;});};gb.addEventListener("change", gc);gb.addEventListener("input", gc);gb.addEventListener("keypress", gc);}, (gb) => { const gc=f_(gb);return(gd) => gd==null?null:gc(gd.$0);}, dp((gb) => { let gc;return ga!=null&&ga.$==1&&(D(ga.$0, gb)&&(gc=ga.$0,true))?null:C(gb);}, f$.View)];}
function ff(){ return e7.StringSet;}
function fg(){ return e7.StringGet;}
function fh(){ return e7.StringListSet;}
function fi(){ return e7.StringListGet;}
function fj(){ return e7.DateTimeSetUnchecked;}
function fk(){ return e7.DateTimeGetUnchecked;}
function fl(f9, f_, f$){ let ga;ga=null;return[(gb) => { gb.addEventListener("change", () => { f$.UpdateMaybe((gc) => { let gd;ga=f9(gb);return ga!=null&&ga.$==1&&(ga.$0!==gc&&(gd=[ga, ga.$0],true))?gd[0]:null;});});}, (gb) => { const gc=f_(gb);return(gd) => gd==null?null:gc(gd.$0);}, dp((gb) => { let gc;return ga!=null&&ga.$==1&&(D(ga.$0, gb)&&(gc=ga.$0,true))?null:C(gb);}, f$.View)];}
function fm(){ return e7.FileSetUnchecked;}
function fn(){ return e7.FileGetUnchecked;}
function fo(){ return e7.IntSetUnchecked;}
function fp(){ return e7.IntGetUnchecked;}
function fq(){ return e7.IntSetChecked;}
function fr(){ return e7.IntGetChecked;}
function fs(){ return e7.FloatSetUnchecked;}
function ft(){ return e7.FloatGetUnchecked;}
function fu(){ return e7.FloatSetChecked;}
function fv(){ return e7.FloatGetChecked;}
function fw(){ return e7.StringApply;}
function fx(){ return e7.FloatApplyUnchecked;}
function fy(){ return e7.BoolCheckedApply;}
function fz(){ return e7.DateTimeApplyUnchecked;}
function fA(){ return e7.FileApplyUnchecked;}
function fB(){ return e7.StringListApply;}
function fC(f9){ return bC(fJ, f9);}
let fD=fT((f9) => class f_ { static { fD=f9(this);} get Input(){ return this.$==1?this.$0:this.$==2?this.$0:this.$1;} static Blank(f$){ return f0(f_, {$:2, $0:f$});} static Invalid(f$){ return f0(f_, {$:1, $0:f$});} static Valid(f$, ga){ return f0(f_, {$:0, $0:f$, $1:ga});} });
function fE(f9, f_){ let f$;if(f_!=null&&f_.$==1){ const ga=[];f$=f_.$0[0].nextSibling;while(f$!==f_.$0[1]){ ga.push(f$);f$=f$.nextSibling;} return fI(ga);} else { let gb=f9.childNodes.length;const gc=f9.childNodes;let gd=cB(gb, (ge) => gc[ge]);return fI(gd);} }
function fF(f9, f_){ const f$=f9.$0;return fI(cv((ga) => cz((gb) =>!(ga===gb), f$), f_.$0));}
function fG(f9, f_){ cs(f9, f_.$0);}
function fH(f9){ const f_=[];function f$(ga){ while(true){ if(ga!=null&&ga.$==2){ const gb=ga.$0;ga=gb.Current;} else if(ga!=null&&ga.$==1)return f_.push(ga.$0.El);else if(ga==null)return null;else if(ga!=null&&ga.$==5)return f_.push(ga.$0);else if(ga!=null&&ga.$==4)return f_.push(ga.$0.Text);else if(ga!=null&&ga.$==6){ const gc=ga.$0.Els;return(((gf) =>(gg) => { cs(gf, gg);})((gf) => { if(gf==null||gf.constructor===Object)f$(gf);else f_.push(gf);}))(gc);} else { const gd=ga.$1;const ge=ga.$0;f$(ge);ga=gd;} } } f$(f9.Children);return fI(eE(f_));}
function fI(f9){ return{$:0, $0:f9};}
function fJ(f9){ return f9.match(new RegExp("\\s"))!==null;}
function fK(f9){ const f_=Date.parse(f9);return isNaN(f_)?null:C(f_);}
function fL(f9, f_, f$, ga){ const gb=+f9;const gc=gb===gb-gb%1&&gb>=f_&&gb<=f$;if(gc)ga.set(gb);return gc;}
function fM(f9){ return fR(false, f9, fN);}
function fN(){ const f9=this.v();this.c=true;this.v=f9;this.f=fO;return f9;}
function fO(){ return this.v;}
let fP=fT((f9) => class f_ { static { fP=f9(this);} static Empty;static { this.Empty={$:0};} });
function fQ(f9){ f9.splice(0, l(f9));}
function fR(f9, f_, f$){ return{c:f9, v:f_, f:f$};}
f1(() => { b();});
fS();

